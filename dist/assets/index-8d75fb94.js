function Vz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kw={exports:{}},Gw={},W={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=Symbol.for("react.element"),Uz=Symbol.for("react.portal"),Wz=Symbol.for("react.fragment"),Hz=Symbol.for("react.strict_mode"),qz=Symbol.for("react.profiler"),Kz=Symbol.for("react.provider"),Gz=Symbol.for("react.context"),Zz=Symbol.for("react.forward_ref"),Yz=Symbol.for("react.suspense"),Xz=Symbol.for("react.memo"),Qz=Symbol.for("react.lazy"),HN=Symbol.iterator;function Jz(t){return t===null||typeof t!="object"?null:(t=HN&&t[HN]||t["@@iterator"],typeof t=="function"?t:null)}var pL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gL=Object.assign,yL={};function cf(t,e,n){this.props=t,this.context=e,this.refs=yL,this.updater=n||pL}cf.prototype.isReactComponent={};cf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vL(){}vL.prototype=cf.prototype;function gE(t,e,n){this.props=t,this.context=e,this.refs=yL,this.updater=n||pL}var yE=gE.prototype=new vL;yE.constructor=gE;gL(yE,cf.prototype);yE.isPureReactComponent=!0;var qN=Array.isArray,wL=Object.prototype.hasOwnProperty,vE={current:null},bL={key:!0,ref:!0,__self:!0,__source:!0};function xL(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)wL.call(e,r)&&!bL.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ig,type:t,key:a,ref:o,props:i,_owner:vE.current}}function eF(t,e){return{$$typeof:Ig,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ig}function tF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KN=/\/+/g;function Hx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tF(""+t.key):e.toString(36)}function kv(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ig:case Uz:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hx(o,0):r,qN(i)?(n="",t!=null&&(n=t.replace(KN,"$&/")+"/"),kv(i,e,n,"",function(d){return d})):i!=null&&(wE(i)&&(i=eF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(KN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qN(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Hx(a,l);o+=kv(a,e,n,c,i)}else if(c=Jz(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Hx(a,l++),o+=kv(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ly(t,e,n){if(t==null)return t;var r=[],i=0;return kv(t,r,"","",function(a){return e.call(n,a,i++)}),r}function nF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},Cv={transition:null},rF={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:Cv,ReactCurrentOwner:vE};dt.Children={map:Ly,forEach:function(t,e,n){Ly(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ly(t,function(){e++}),e},toArray:function(t){return Ly(t,function(e){return e})||[]},only:function(t){if(!wE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=cf;dt.Fragment=Wz;dt.Profiler=qz;dt.PureComponent=gE;dt.StrictMode=Hz;dt.Suspense=Yz;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rF;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gL({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=vE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)wL.call(e,c)&&!bL.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Ig,type:t.type,key:i,ref:a,props:r,_owner:o}};dt.createContext=function(t){return t={$$typeof:Gz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kz,_context:t},t.Consumer=t};dt.createElement=xL;dt.createFactory=function(t){var e=xL.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:Zz,render:t}};dt.isValidElement=wE;dt.lazy=function(t){return{$$typeof:Qz,_payload:{_status:-1,_result:t},_init:nF}};dt.memo=function(t,e){return{$$typeof:Xz,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=Cv.transition;Cv.transition={};try{t()}finally{Cv.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return Gr.current.useCallback(t,e)};dt.useContext=function(t){return Gr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Gr.current.useEffect(t,e)};dt.useId=function(){return Gr.current.useId()};dt.useImperativeHandle=function(t,e,n){return Gr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Gr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return Gr.current.useReducer(t,e,n)};dt.useRef=function(t){return Gr.current.useRef(t)};dt.useState=function(t){return Gr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return Gr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return Gr.current.useTransition()};dt.version="18.2.0";(function(t){t.exports=dt})(W);const Z=mL(W.exports),p1=Vz({__proto__:null,default:Z},[W.exports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF=W.exports,aF=Symbol.for("react.element"),oF=Symbol.for("react.fragment"),sF=Object.prototype.hasOwnProperty,lF=iF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cF={key:!0,ref:!0,__self:!0,__source:!0};function _L(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sF.call(e,r)&&!cF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aF,type:t,key:a,ref:o,props:i,_owner:lF.current}}Gw.Fragment=oF;Gw.jsx=_L;Gw.jsxs=_L;(function(t){t.exports=Gw})(Kw);const Oi=Kw.exports.Fragment,u=Kw.exports.jsx,b=Kw.exports.jsxs;var g1={},Zw={exports:{}},$i={},SL={exports:{}},EL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,le){var Y=J.length;J.push(le);e:for(;0<Y;){var he=Y-1>>>1,pe=J[he];if(0<i(pe,le))J[he]=le,J[Y]=pe,Y=he;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],Y=J.pop();if(Y!==le){J[0]=Y;e:for(var he=0,pe=J.length,fe=pe>>>1;he<fe;){var Ne=2*(he+1)-1,Ee=J[Ne],ge=Ne+1,ye=J[ge];if(0>i(Ee,Y))ge<pe&&0>i(ye,Ee)?(J[he]=ye,J[ge]=Y,he=ge):(J[he]=Ee,J[Ne]=Y,he=Ne);else if(ge<pe&&0>i(ye,Y))J[he]=ye,J[ge]=Y,he=ge;else break e}}return le}function i(J,le){var Y=J.sortIndex-le.sortIndex;return Y!==0?Y:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,y=!1,P=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(J){for(var le=n(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=J)r(d),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(d)}}function C(J){if(_=!1,w(J),!P)if(n(c)!==null)P=!0,ee($);else{var le=n(d);le!==null&&te(C,le.startTime-J)}}function $(J,le){P=!1,_&&(_=!1,N(T),T=-1),y=!0;var Y=p;try{for(w(le),m=n(c);m!==null&&(!(m.expirationTime>le)||J&&!j());){var he=m.callback;if(typeof he=="function"){m.callback=null,p=m.priorityLevel;var pe=he(m.expirationTime<=le);le=t.unstable_now(),typeof pe=="function"?m.callback=pe:m===n(c)&&r(c),w(le)}else r(c);m=n(c)}if(m!==null)var fe=!0;else{var Ne=n(d);Ne!==null&&te(C,Ne.startTime-le),fe=!1}return fe}finally{m=null,p=Y,y=!1}}var D=!1,S=null,T=-1,O=5,R=-1;function j(){return!(t.unstable_now()-R<O)}function U(){if(S!==null){var J=t.unstable_now();R=J;var le=!0;try{le=S(!0,J)}finally{le?V():(D=!1,S=null)}}else D=!1}var V;if(typeof E=="function")V=function(){E(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,X=G.port2;G.port1.onmessage=U,V=function(){X.postMessage(null)}}else V=function(){A(U,0)};function ee(J){S=J,D||(D=!0,V())}function te(J,le){T=A(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){P||y||(P=!0,ee($))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(J){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var Y=p;p=le;try{return J()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Y=p;p=J;try{return le()}finally{p=Y}},t.unstable_scheduleCallback=function(J,le,Y){var he=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?he+Y:he):Y=he,J){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,J={id:f++,callback:le,priorityLevel:J,startTime:Y,expirationTime:pe,sortIndex:-1},Y>he?(J.sortIndex=Y,e(d,J),n(c)===null&&J===n(d)&&(_?(N(T),T=-1):_=!0,te(C,Y-he))):(J.sortIndex=pe,e(c,J),P||y||(P=!0,ee($))),J},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(J){var le=p;return function(){var Y=p;p=le;try{return J.apply(this,arguments)}finally{p=Y}}}})(EL);(function(t){t.exports=EL})(SL);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AL=W.exports,Mi=SL.exports;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PL=new Set,sp={};function qu(t,e){bh(t,e),bh(t+"Capture",e)}function bh(t,e){for(sp[t]=e,t=0;t<e.length;t++)PL.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y1=Object.prototype.hasOwnProperty,uF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GN={},ZN={};function dF(t){return y1.call(ZN,t)?!0:y1.call(GN,t)?!1:uF.test(t)?ZN[t]=!0:(GN[t]=!0,!1)}function hF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fF(t,e,n,r){if(e===null||typeof e>"u"||hF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zr(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bE=/[\-:]([a-z])/g;function xE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bE,xE);br[e]=new Zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bE,xE);br[e]=new Zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bE,xE);br[e]=new Zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Zr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function _E(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fF(e,n,i,r)&&(n=null),r||i===null?dF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xs=AL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$y=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),zd=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),NL=Symbol.for("react.provider"),TL=Symbol.for("react.context"),EE=Symbol.for("react.forward_ref"),w1=Symbol.for("react.suspense"),b1=Symbol.for("react.suspense_list"),AE=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),kL=Symbol.for("react.offscreen"),YN=Symbol.iterator;function tm(t){return t===null||typeof t!="object"?null:(t=YN&&t[YN]||t["@@iterator"],typeof t=="function"?t:null)}var yn=Object.assign,qx;function Sm(t){if(qx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qx=e&&e[1]||""}return`
`+qx+t}var Kx=!1;function Gx(t,e){if(!t||Kx)return"";Kx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Kx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sm(t):""}function mF(t){switch(t.tag){case 5:return Sm(t.type);case 16:return Sm("Lazy");case 13:return Sm("Suspense");case 19:return Sm("SuspenseList");case 0:case 2:case 15:return t=Gx(t.type,!1),t;case 11:return t=Gx(t.type.render,!1),t;case 1:return t=Gx(t.type,!0),t;default:return""}}function x1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zd:return"Fragment";case Bd:return"Portal";case v1:return"Profiler";case SE:return"StrictMode";case w1:return"Suspense";case b1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TL:return(t.displayName||"Context")+".Consumer";case NL:return(t._context.displayName||"Context")+".Provider";case EE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AE:return e=t.displayName||null,e!==null?e:x1(t.type)||"Memo";case Il:e=t._payload,t=t._init;try{return x1(t(e))}catch{}}return null}function pF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x1(e);case 8:return e===SE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gF(t){var e=CL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dy(t){t._valueTracker||(t._valueTracker=gF(t))}function IL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _1(t,e){var n=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OL(t,e){e=e.checked,e!=null&&_E(t,"checked",e,!1)}function S1(t,e){OL(t,e);var n=hc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?E1(t,e.type,n):e.hasOwnProperty("defaultValue")&&E1(t,e.type,hc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function E1(t,e,n){(e!=="number"||Jv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Em=Array.isArray;function rh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function A1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(Em(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hc(n)}}function ML(t,e){var n=hc(e.value),r=hc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jy,LL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jy=jy||document.createElement("div"),jy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yF=["Webkit","ms","Moz","O"];Object.keys(Dm).forEach(function(t){yF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dm[e]=Dm[t]})});function $L(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dm.hasOwnProperty(t)&&Dm[t]?(""+e).trim():e+"px"}function DL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$L(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vF=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N1(t,e){if(e){if(vF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function T1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k1=null;function PE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var C1=null,ih=null,ah=null;function tT(t){if(t=Rg(t)){if(typeof C1!="function")throw Error(be(280));var e=t.stateNode;e&&(e=eb(e),C1(t.stateNode,t.type,e))}}function jL(t){ih?ah?ah.push(t):ah=[t]:ih=t}function BL(){if(ih){var t=ih,e=ah;if(ah=ih=null,tT(t),e)for(t=0;t<e.length;t++)tT(e[t])}}function zL(t,e){return t(e)}function FL(){}var Zx=!1;function VL(t,e,n){if(Zx)return t(e,n);Zx=!0;try{return zL(t,e,n)}finally{Zx=!1,(ih!==null||ah!==null)&&(FL(),BL())}}function cp(t,e){var n=t.stateNode;if(n===null)return null;var r=eb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var I1=!1;if($s)try{var nm={};Object.defineProperty(nm,"passive",{get:function(){I1=!0}}),window.addEventListener("test",nm,nm),window.removeEventListener("test",nm,nm)}catch{I1=!1}function wF(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var jm=!1,e0=null,t0=!1,O1=null,bF={onError:function(t){jm=!0,e0=t}};function xF(t,e,n,r,i,a,o,l,c){jm=!1,e0=null,wF.apply(bF,arguments)}function _F(t,e,n,r,i,a,o,l,c){if(xF.apply(this,arguments),jm){if(jm){var d=e0;jm=!1,e0=null}else throw Error(be(198));t0||(t0=!0,O1=d)}}function Ku(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nT(t){if(Ku(t)!==t)throw Error(be(188))}function SF(t){var e=t.alternate;if(!e){if(e=Ku(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nT(i),t;if(a===r)return nT(i),e;a=a.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function WL(t){return t=SF(t),t!==null?HL(t):null}function HL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HL(t);if(e!==null)return e;t=t.sibling}return null}var qL=Mi.unstable_scheduleCallback,rT=Mi.unstable_cancelCallback,EF=Mi.unstable_shouldYield,AF=Mi.unstable_requestPaint,Pn=Mi.unstable_now,PF=Mi.unstable_getCurrentPriorityLevel,NE=Mi.unstable_ImmediatePriority,KL=Mi.unstable_UserBlockingPriority,n0=Mi.unstable_NormalPriority,NF=Mi.unstable_LowPriority,GL=Mi.unstable_IdlePriority,Yw=null,Oo=null;function TF(t){if(Oo&&typeof Oo.onCommitFiberRoot=="function")try{Oo.onCommitFiberRoot(Yw,t,void 0,(t.current.flags&128)===128)}catch{}}var Ya=Math.clz32?Math.clz32:IF,kF=Math.log,CF=Math.LN2;function IF(t){return t>>>=0,t===0?32:31-(kF(t)/CF|0)|0}var By=64,zy=4194304;function Am(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function r0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Am(l):(a&=o,a!==0&&(r=Am(a)))}else o=n&~i,o!==0?r=Am(o):a!==0&&(r=Am(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ya(e),i=1<<n,r|=t[n],e&=~i;return r}function OF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Ya(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=OF(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function M1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZL(){var t=By;return By<<=1,!(By&4194240)&&(By=64),t}function Yx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Og(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ya(e),t[e]=n}function RF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ya(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function TE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ya(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Lt=0;function YL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XL,kE,QL,JL,e$,R1=!1,Fy=[],Yl=null,Xl=null,Ql=null,up=new Map,dp=new Map,Rl=[],LF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iT(t,e){switch(t){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":up.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dp.delete(e.pointerId)}}function rm(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Rg(e),e!==null&&kE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $F(t,e,n,r,i){switch(e){case"focusin":return Yl=rm(Yl,t,e,n,r,i),!0;case"dragenter":return Xl=rm(Xl,t,e,n,r,i),!0;case"mouseover":return Ql=rm(Ql,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return up.set(a,rm(up.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dp.set(a,rm(dp.get(a)||null,t,e,n,r,i)),!0}return!1}function t$(t){var e=pu(t.target);if(e!==null){var n=Ku(e);if(n!==null){if(e=n.tag,e===13){if(e=UL(n),e!==null){t.blockedOn=e,e$(t.priority,function(){QL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);k1=r,n.target.dispatchEvent(r),k1=null}else return e=Rg(n),e!==null&&kE(e),t.blockedOn=n,!1;e.shift()}return!0}function aT(t,e,n){Iv(t)&&n.delete(e)}function DF(){R1=!1,Yl!==null&&Iv(Yl)&&(Yl=null),Xl!==null&&Iv(Xl)&&(Xl=null),Ql!==null&&Iv(Ql)&&(Ql=null),up.forEach(aT),dp.forEach(aT)}function im(t,e){t.blockedOn===e&&(t.blockedOn=null,R1||(R1=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,DF)))}function hp(t){function e(i){return im(i,t)}if(0<Fy.length){im(Fy[0],t);for(var n=1;n<Fy.length;n++){var r=Fy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yl!==null&&im(Yl,t),Xl!==null&&im(Xl,t),Ql!==null&&im(Ql,t),up.forEach(e),dp.forEach(e),n=0;n<Rl.length;n++)r=Rl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rl.length&&(n=Rl[0],n.blockedOn===null);)t$(n),n.blockedOn===null&&Rl.shift()}var oh=Xs.ReactCurrentBatchConfig,i0=!0;function jF(t,e,n,r){var i=Lt,a=oh.transition;oh.transition=null;try{Lt=1,CE(t,e,n,r)}finally{Lt=i,oh.transition=a}}function BF(t,e,n,r){var i=Lt,a=oh.transition;oh.transition=null;try{Lt=4,CE(t,e,n,r)}finally{Lt=i,oh.transition=a}}function CE(t,e,n,r){if(i0){var i=L1(t,e,n,r);if(i===null)o_(t,e,r,a0,n),iT(t,r);else if($F(i,t,e,n,r))r.stopPropagation();else if(iT(t,r),e&4&&-1<LF.indexOf(t)){for(;i!==null;){var a=Rg(i);if(a!==null&&XL(a),a=L1(t,e,n,r),a===null&&o_(t,e,r,a0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else o_(t,e,r,null,n)}}var a0=null;function L1(t,e,n,r){if(a0=null,t=PE(r),t=pu(t),t!==null)if(e=Ku(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return a0=t,null}function n$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PF()){case NE:return 1;case KL:return 4;case n0:case NF:return 16;case GL:return 536870912;default:return 16}default:return 16}}var zl=null,IE=null,Ov=null;function r$(){if(Ov)return Ov;var t,e=IE,n=e.length,r,i="value"in zl?zl.value:zl.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Ov=i.slice(t,1<r?1-r:void 0)}function Mv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vy(){return!0}function oT(){return!1}function Di(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vy:oT,this.isPropagationStopped=oT,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vy)},persist:function(){},isPersistent:Vy}),e}var uf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OE=Di(uf),Mg=yn({},uf,{view:0,detail:0}),zF=Di(Mg),Xx,Qx,am,Xw=yn({},Mg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ME,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==am&&(am&&t.type==="mousemove"?(Xx=t.screenX-am.screenX,Qx=t.screenY-am.screenY):Qx=Xx=0,am=t),Xx)},movementY:function(t){return"movementY"in t?t.movementY:Qx}}),sT=Di(Xw),FF=yn({},Xw,{dataTransfer:0}),VF=Di(FF),UF=yn({},Mg,{relatedTarget:0}),Jx=Di(UF),WF=yn({},uf,{animationName:0,elapsedTime:0,pseudoElement:0}),HF=Di(WF),qF=yn({},uf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KF=Di(qF),GF=yn({},uf,{data:0}),lT=Di(GF),ZF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XF[t])?!!e[t]:!1}function ME(){return QF}var JF=yn({},Mg,{key:function(t){if(t.key){var e=ZF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ME,charCode:function(t){return t.type==="keypress"?Mv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eV=Di(JF),tV=yn({},Xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cT=Di(tV),nV=yn({},Mg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ME}),rV=Di(nV),iV=yn({},uf,{propertyName:0,elapsedTime:0,pseudoElement:0}),aV=Di(iV),oV=yn({},Xw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sV=Di(oV),lV=[9,13,27,32],RE=$s&&"CompositionEvent"in window,Bm=null;$s&&"documentMode"in document&&(Bm=document.documentMode);var cV=$s&&"TextEvent"in window&&!Bm,i$=$s&&(!RE||Bm&&8<Bm&&11>=Bm),uT=String.fromCharCode(32),dT=!1;function a$(t,e){switch(t){case"keyup":return lV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fd=!1;function uV(t,e){switch(t){case"compositionend":return o$(e);case"keypress":return e.which!==32?null:(dT=!0,uT);case"textInput":return t=e.data,t===uT&&dT?null:t;default:return null}}function dV(t,e){if(Fd)return t==="compositionend"||!RE&&a$(t,e)?(t=r$(),Ov=IE=zl=null,Fd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i$&&e.locale!=="ko"?null:e.data;default:return null}}var hV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hV[t.type]:e==="textarea"}function s$(t,e,n,r){jL(r),e=o0(e,"onChange"),0<e.length&&(n=new OE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zm=null,fp=null;function fV(t){v$(t,0)}function Qw(t){var e=Wd(t);if(IL(e))return t}function mV(t,e){if(t==="change")return e}var l$=!1;if($s){var e_;if($s){var t_="oninput"in document;if(!t_){var fT=document.createElement("div");fT.setAttribute("oninput","return;"),t_=typeof fT.oninput=="function"}e_=t_}else e_=!1;l$=e_&&(!document.documentMode||9<document.documentMode)}function mT(){zm&&(zm.detachEvent("onpropertychange",c$),fp=zm=null)}function c$(t){if(t.propertyName==="value"&&Qw(fp)){var e=[];s$(e,fp,t,PE(t)),VL(fV,e)}}function pV(t,e,n){t==="focusin"?(mT(),zm=e,fp=n,zm.attachEvent("onpropertychange",c$)):t==="focusout"&&mT()}function gV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qw(fp)}function yV(t,e){if(t==="click")return Qw(e)}function vV(t,e){if(t==="input"||t==="change")return Qw(e)}function wV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ja=typeof Object.is=="function"?Object.is:wV;function mp(t,e){if(Ja(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y1.call(e,i)||!Ja(t[i],e[i]))return!1}return!0}function pT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gT(t,e){var n=pT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pT(n)}}function u$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d$(){for(var t=window,e=Jv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jv(t.document)}return e}function LE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bV(t){var e=d$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u$(n.ownerDocument.documentElement,n)){if(r!==null&&LE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=gT(n,a);var o=gT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xV=$s&&"documentMode"in document&&11>=document.documentMode,Vd=null,$1=null,Fm=null,D1=!1;function yT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D1||Vd==null||Vd!==Jv(r)||(r=Vd,"selectionStart"in r&&LE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fm&&mp(Fm,r)||(Fm=r,r=o0($1,"onSelect"),0<r.length&&(e=new OE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vd)))}function Uy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ud={animationend:Uy("Animation","AnimationEnd"),animationiteration:Uy("Animation","AnimationIteration"),animationstart:Uy("Animation","AnimationStart"),transitionend:Uy("Transition","TransitionEnd")},n_={},h$={};$s&&(h$=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function Jw(t){if(n_[t])return n_[t];if(!Ud[t])return t;var e=Ud[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h$)return n_[t]=e[n];return t}var f$=Jw("animationend"),m$=Jw("animationiteration"),p$=Jw("animationstart"),g$=Jw("transitionend"),y$=new Map,vT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vc(t,e){y$.set(t,e),qu(e,[t])}for(var r_=0;r_<vT.length;r_++){var i_=vT[r_],_V=i_.toLowerCase(),SV=i_[0].toUpperCase()+i_.slice(1);vc(_V,"on"+SV)}vc(f$,"onAnimationEnd");vc(m$,"onAnimationIteration");vc(p$,"onAnimationStart");vc("dblclick","onDoubleClick");vc("focusin","onFocus");vc("focusout","onBlur");vc(g$,"onTransitionEnd");bh("onMouseEnter",["mouseout","mouseover"]);bh("onMouseLeave",["mouseout","mouseover"]);bh("onPointerEnter",["pointerout","pointerover"]);bh("onPointerLeave",["pointerout","pointerover"]);qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pm));function wT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_F(r,e,void 0,t),t.currentTarget=null}function v$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;wT(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;wT(i,l,d),a=c}}}if(t0)throw t=O1,t0=!1,O1=null,t}function Jt(t,e){var n=e[V1];n===void 0&&(n=e[V1]=new Set);var r=t+"__bubble";n.has(r)||(w$(e,t,2,!1),n.add(r))}function a_(t,e,n){var r=0;e&&(r|=4),w$(n,t,r,e)}var Wy="_reactListening"+Math.random().toString(36).slice(2);function pp(t){if(!t[Wy]){t[Wy]=!0,PL.forEach(function(n){n!=="selectionchange"&&(EV.has(n)||a_(n,!1,t),a_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wy]||(e[Wy]=!0,a_("selectionchange",!1,e))}}function w$(t,e,n,r){switch(n$(e)){case 1:var i=jF;break;case 4:i=BF;break;default:i=CE}n=i.bind(null,e,n,t),i=void 0,!I1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=pu(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}VL(function(){var d=a,f=PE(n),m=[];e:{var p=y$.get(t);if(p!==void 0){var y=OE,P=t;switch(t){case"keypress":if(Mv(n)===0)break e;case"keydown":case"keyup":y=eV;break;case"focusin":P="focus",y=Jx;break;case"focusout":P="blur",y=Jx;break;case"beforeblur":case"afterblur":y=Jx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=sT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=VF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rV;break;case f$:case m$:case p$:y=HF;break;case g$:y=aV;break;case"scroll":y=zF;break;case"wheel":y=sV;break;case"copy":case"cut":case"paste":y=KF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=cT}var _=(e&4)!==0,A=!_&&t==="scroll",N=_?p!==null?p+"Capture":null:p;_=[];for(var E=d,w;E!==null;){w=E;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,N!==null&&(C=cp(E,N),C!=null&&_.push(gp(E,C,w)))),A)break;E=E.return}0<_.length&&(p=new y(p,P,null,n,f),m.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==k1&&(P=n.relatedTarget||n.fromElement)&&(pu(P)||P[Ds]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(P=n.relatedTarget||n.toElement,y=d,P=P?pu(P):null,P!==null&&(A=Ku(P),P!==A||P.tag!==5&&P.tag!==6)&&(P=null)):(y=null,P=d),y!==P)){if(_=sT,C="onMouseLeave",N="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=cT,C="onPointerLeave",N="onPointerEnter",E="pointer"),A=y==null?p:Wd(y),w=P==null?p:Wd(P),p=new _(C,E+"leave",y,n,f),p.target=A,p.relatedTarget=w,C=null,pu(f)===d&&(_=new _(N,E+"enter",P,n,f),_.target=w,_.relatedTarget=A,C=_),A=C,y&&P)t:{for(_=y,N=P,E=0,w=_;w;w=Ed(w))E++;for(w=0,C=N;C;C=Ed(C))w++;for(;0<E-w;)_=Ed(_),E--;for(;0<w-E;)N=Ed(N),w--;for(;E--;){if(_===N||N!==null&&_===N.alternate)break t;_=Ed(_),N=Ed(N)}_=null}else _=null;y!==null&&bT(m,p,y,_,!1),P!==null&&A!==null&&bT(m,A,P,_,!0)}}e:{if(p=d?Wd(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var $=mV;else if(hT(p))if(l$)$=vV;else{$=gV;var D=pV}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&($=yV);if($&&($=$(t,d))){s$(m,$,n,f);break e}D&&D(t,p,d),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&E1(p,"number",p.value)}switch(D=d?Wd(d):window,t){case"focusin":(hT(D)||D.contentEditable==="true")&&(Vd=D,$1=d,Fm=null);break;case"focusout":Fm=$1=Vd=null;break;case"mousedown":D1=!0;break;case"contextmenu":case"mouseup":case"dragend":D1=!1,yT(m,n,f);break;case"selectionchange":if(xV)break;case"keydown":case"keyup":yT(m,n,f)}var S;if(RE)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fd?a$(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(i$&&n.locale!=="ko"&&(Fd||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fd&&(S=r$()):(zl=f,IE="value"in zl?zl.value:zl.textContent,Fd=!0)),D=o0(d,T),0<D.length&&(T=new lT(T,t,null,n,f),m.push({event:T,listeners:D}),S?T.data=S:(S=o$(n),S!==null&&(T.data=S)))),(S=cV?uV(t,n):dV(t,n))&&(d=o0(d,"onBeforeInput"),0<d.length&&(f=new lT("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=S))}v$(m,e)})}function gp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function o0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cp(t,n),a!=null&&r.unshift(gp(t,a,i)),a=cp(t,e),a!=null&&r.push(gp(t,a,i))),t=t.return}return r}function Ed(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bT(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=cp(n,a),c!=null&&o.unshift(gp(n,c,l))):i||(c=cp(n,a),c!=null&&o.push(gp(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AV=/\r\n?/g,PV=/\u0000|\uFFFD/g;function xT(t){return(typeof t=="string"?t:""+t).replace(AV,`
`).replace(PV,"")}function Hy(t,e,n){if(e=xT(e),xT(t)!==e&&n)throw Error(be(425))}function s0(){}var j1=null,B1=null;function z1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F1=typeof setTimeout=="function"?setTimeout:void 0,NV=typeof clearTimeout=="function"?clearTimeout:void 0,_T=typeof Promise=="function"?Promise:void 0,TV=typeof queueMicrotask=="function"?queueMicrotask:typeof _T<"u"?function(t){return _T.resolve(null).then(t).catch(kV)}:F1;function kV(t){setTimeout(function(){throw t})}function s_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hp(e)}function Jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ST(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var df=Math.random().toString(36).slice(2),To="__reactFiber$"+df,yp="__reactProps$"+df,Ds="__reactContainer$"+df,V1="__reactEvents$"+df,CV="__reactListeners$"+df,IV="__reactHandles$"+df;function pu(t){var e=t[To];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[To]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ST(t);t!==null;){if(n=t[To])return n;t=ST(t)}return e}t=n,n=t.parentNode}return null}function Rg(t){return t=t[To]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function eb(t){return t[yp]||null}var U1=[],Hd=-1;function wc(t){return{current:t}}function rn(t){0>Hd||(t.current=U1[Hd],U1[Hd]=null,Hd--)}function Wt(t,e){Hd++,U1[Hd]=t.current,t.current=e}var fc={},Ir=wc(fc),ci=wc(!1),ku=fc;function xh(t,e){var n=t.type.contextTypes;if(!n)return fc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ui(t){return t=t.childContextTypes,t!=null}function l0(){rn(ci),rn(Ir)}function ET(t,e,n){if(Ir.current!==fc)throw Error(be(168));Wt(Ir,e),Wt(ci,n)}function b$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,pF(t)||"Unknown",i));return yn({},n,r)}function c0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fc,ku=Ir.current,Wt(Ir,t),Wt(ci,ci.current),!0}function AT(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=b$(t,e,ku),r.__reactInternalMemoizedMergedChildContext=t,rn(ci),rn(Ir),Wt(Ir,t)):rn(ci),Wt(ci,n)}var ws=null,tb=!1,l_=!1;function x$(t){ws===null?ws=[t]:ws.push(t)}function OV(t){tb=!0,x$(t)}function bc(){if(!l_&&ws!==null){l_=!0;var t=0,e=Lt;try{var n=ws;for(Lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ws=null,tb=!1}catch(i){throw ws!==null&&(ws=ws.slice(t+1)),qL(NE,bc),i}finally{Lt=e,l_=!1}}return null}var qd=[],Kd=0,u0=null,d0=0,ca=[],ua=0,Cu=null,xs=1,_s="";function su(t,e){qd[Kd++]=d0,qd[Kd++]=u0,u0=t,d0=e}function _$(t,e,n){ca[ua++]=xs,ca[ua++]=_s,ca[ua++]=Cu,Cu=t;var r=xs;t=_s;var i=32-Ya(r)-1;r&=~(1<<i),n+=1;var a=32-Ya(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xs=1<<32-Ya(e)+i|n<<i|r,_s=a+t}else xs=1<<a|n<<i|r,_s=t}function $E(t){t.return!==null&&(su(t,1),_$(t,1,0))}function DE(t){for(;t===u0;)u0=qd[--Kd],qd[Kd]=null,d0=qd[--Kd],qd[Kd]=null;for(;t===Cu;)Cu=ca[--ua],ca[ua]=null,_s=ca[--ua],ca[ua]=null,xs=ca[--ua],ca[ua]=null}var ki=null,Ni=null,sn=!1,Ga=null;function S$(t,e){var n=fa(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ki=t,Ni=Jl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ki=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cu!==null?{id:xs,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fa(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ki=t,Ni=null,!0):!1;default:return!1}}function W1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function H1(t){if(sn){var e=Ni;if(e){var n=e;if(!PT(t,e)){if(W1(t))throw Error(be(418));e=Jl(n.nextSibling);var r=ki;e&&PT(t,e)?S$(r,n):(t.flags=t.flags&-4097|2,sn=!1,ki=t)}}else{if(W1(t))throw Error(be(418));t.flags=t.flags&-4097|2,sn=!1,ki=t}}}function NT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ki=t}function qy(t){if(t!==ki)return!1;if(!sn)return NT(t),sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!z1(t.type,t.memoizedProps)),e&&(e=Ni)){if(W1(t))throw E$(),Error(be(418));for(;e;)S$(t,e),e=Jl(e.nextSibling)}if(NT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ni=Jl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=ki?Jl(t.stateNode.nextSibling):null;return!0}function E$(){for(var t=Ni;t;)t=Jl(t.nextSibling)}function _h(){Ni=ki=null,sn=!1}function jE(t){Ga===null?Ga=[t]:Ga.push(t)}var MV=Xs.ReactCurrentBatchConfig;function Ha(t,e){if(t&&t.defaultProps){e=yn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var h0=wc(null),f0=null,Gd=null,BE=null;function zE(){BE=Gd=f0=null}function FE(t){var e=h0.current;rn(h0),t._currentValue=e}function q1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sh(t,e){f0=t,BE=Gd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oi=!0),t.firstContext=null)}function va(t){var e=t._currentValue;if(BE!==t)if(t={context:t,memoizedValue:e,next:null},Gd===null){if(f0===null)throw Error(be(308));Gd=t,f0.dependencies={lanes:0,firstContext:t}}else Gd=Gd.next=t;return e}var gu=null;function VE(t){gu===null?gu=[t]:gu.push(t)}function A$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,VE(e)):(n.next=i.next,i.next=n),e.interleaved=n,js(t,r)}function js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ol=!1;function UE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ec(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,js(t,n)}return i=r.interleaved,i===null?(e.next=e,VE(r)):(e.next=i.next,i.next=e),r.interleaved=e,js(t,n)}function Rv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TE(t,n)}}function TT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function m0(t,e,n,r){var i=t.updateQueue;Ol=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,f=d=c=null,l=a;do{var p=l.lane,y=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,_=l;switch(p=e,y=n,_.tag){case 1:if(P=_.payload,typeof P=="function"){m=P.call(y,m,p);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=_.payload,p=typeof P=="function"?P.call(y,m,p):P,p==null)break e;m=yn({},m,p);break e;case 2:Ol=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,c=m):f=f.next=y,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ou|=o,t.lanes=o,t.memoizedState=m}}function kT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var N$=new AL.Component().refs;function K1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nb={isMounted:function(t){return(t=t._reactInternals)?Ku(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=nc(t),a=ks(r,i);a.payload=e,n!=null&&(a.callback=n),e=ec(t,a,i),e!==null&&(Xa(e,t,i,r),Rv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=nc(t),a=ks(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ec(t,a,i),e!==null&&(Xa(e,t,i,r),Rv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=nc(t),i=ks(n,r);i.tag=2,e!=null&&(i.callback=e),e=ec(t,i,r),e!==null&&(Xa(e,t,r,n),Rv(e,t,r))}};function CT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!mp(n,r)||!mp(i,a):!0}function T$(t,e,n){var r=!1,i=fc,a=e.contextType;return typeof a=="object"&&a!==null?a=va(a):(i=ui(e)?ku:Ir.current,r=e.contextTypes,a=(r=r!=null)?xh(t,i):fc),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function IT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nb.enqueueReplaceState(e,e.state,null)}function G1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=N$,UE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=va(a):(a=ui(e)?ku:Ir.current,i.context=xh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(K1(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nb.enqueueReplaceState(i,i.state,null),m0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function om(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;l===N$&&(l=i.refs={}),o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Ky(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function OT(t){var e=t._init;return e(t._payload)}function k$(t){function e(N,E){if(t){var w=N.deletions;w===null?(N.deletions=[E],N.flags|=16):w.push(E)}}function n(N,E){if(!t)return null;for(;E!==null;)e(N,E),E=E.sibling;return null}function r(N,E){for(N=new Map;E!==null;)E.key!==null?N.set(E.key,E):N.set(E.index,E),E=E.sibling;return N}function i(N,E){return N=rc(N,E),N.index=0,N.sibling=null,N}function a(N,E,w){return N.index=w,t?(w=N.alternate,w!==null?(w=w.index,w<E?(N.flags|=2,E):w):(N.flags|=2,E)):(N.flags|=1048576,E)}function o(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,E,w,C){return E===null||E.tag!==6?(E=p_(w,N.mode,C),E.return=N,E):(E=i(E,w),E.return=N,E)}function c(N,E,w,C){var $=w.type;return $===zd?f(N,E,w.props.children,C,w.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Il&&OT($)===E.type)?(C=i(E,w.props),C.ref=om(N,E,w),C.return=N,C):(C=zv(w.type,w.key,w.props,null,N.mode,C),C.ref=om(N,E,w),C.return=N,C)}function d(N,E,w,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=g_(w,N.mode,C),E.return=N,E):(E=i(E,w.children||[]),E.return=N,E)}function f(N,E,w,C,$){return E===null||E.tag!==7?(E=Eu(w,N.mode,C,$),E.return=N,E):(E=i(E,w),E.return=N,E)}function m(N,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=p_(""+E,N.mode,w),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $y:return w=zv(E.type,E.key,E.props,null,N.mode,w),w.ref=om(N,null,E),w.return=N,w;case Bd:return E=g_(E,N.mode,w),E.return=N,E;case Il:var C=E._init;return m(N,C(E._payload),w)}if(Em(E)||tm(E))return E=Eu(E,N.mode,w,null),E.return=N,E;Ky(N,E)}return null}function p(N,E,w,C){var $=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return $!==null?null:l(N,E,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $y:return w.key===$?c(N,E,w,C):null;case Bd:return w.key===$?d(N,E,w,C):null;case Il:return $=w._init,p(N,E,$(w._payload),C)}if(Em(w)||tm(w))return $!==null?null:f(N,E,w,C,null);Ky(N,w)}return null}function y(N,E,w,C,$){if(typeof C=="string"&&C!==""||typeof C=="number")return N=N.get(w)||null,l(E,N,""+C,$);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $y:return N=N.get(C.key===null?w:C.key)||null,c(E,N,C,$);case Bd:return N=N.get(C.key===null?w:C.key)||null,d(E,N,C,$);case Il:var D=C._init;return y(N,E,w,D(C._payload),$)}if(Em(C)||tm(C))return N=N.get(w)||null,f(E,N,C,$,null);Ky(E,C)}return null}function P(N,E,w,C){for(var $=null,D=null,S=E,T=E=0,O=null;S!==null&&T<w.length;T++){S.index>T?(O=S,S=null):O=S.sibling;var R=p(N,S,w[T],C);if(R===null){S===null&&(S=O);break}t&&S&&R.alternate===null&&e(N,S),E=a(R,E,T),D===null?$=R:D.sibling=R,D=R,S=O}if(T===w.length)return n(N,S),sn&&su(N,T),$;if(S===null){for(;T<w.length;T++)S=m(N,w[T],C),S!==null&&(E=a(S,E,T),D===null?$=S:D.sibling=S,D=S);return sn&&su(N,T),$}for(S=r(N,S);T<w.length;T++)O=y(S,N,T,w[T],C),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),E=a(O,E,T),D===null?$=O:D.sibling=O,D=O);return t&&S.forEach(function(j){return e(N,j)}),sn&&su(N,T),$}function _(N,E,w,C){var $=tm(w);if(typeof $!="function")throw Error(be(150));if(w=$.call(w),w==null)throw Error(be(151));for(var D=$=null,S=E,T=E=0,O=null,R=w.next();S!==null&&!R.done;T++,R=w.next()){S.index>T?(O=S,S=null):O=S.sibling;var j=p(N,S,R.value,C);if(j===null){S===null&&(S=O);break}t&&S&&j.alternate===null&&e(N,S),E=a(j,E,T),D===null?$=j:D.sibling=j,D=j,S=O}if(R.done)return n(N,S),sn&&su(N,T),$;if(S===null){for(;!R.done;T++,R=w.next())R=m(N,R.value,C),R!==null&&(E=a(R,E,T),D===null?$=R:D.sibling=R,D=R);return sn&&su(N,T),$}for(S=r(N,S);!R.done;T++,R=w.next())R=y(S,N,T,R.value,C),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),E=a(R,E,T),D===null?$=R:D.sibling=R,D=R);return t&&S.forEach(function(U){return e(N,U)}),sn&&su(N,T),$}function A(N,E,w,C){if(typeof w=="object"&&w!==null&&w.type===zd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case $y:e:{for(var $=w.key,D=E;D!==null;){if(D.key===$){if($=w.type,$===zd){if(D.tag===7){n(N,D.sibling),E=i(D,w.props.children),E.return=N,N=E;break e}}else if(D.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Il&&OT($)===D.type){n(N,D.sibling),E=i(D,w.props),E.ref=om(N,D,w),E.return=N,N=E;break e}n(N,D);break}else e(N,D);D=D.sibling}w.type===zd?(E=Eu(w.props.children,N.mode,C,w.key),E.return=N,N=E):(C=zv(w.type,w.key,w.props,null,N.mode,C),C.ref=om(N,E,w),C.return=N,N=C)}return o(N);case Bd:e:{for(D=w.key;E!==null;){if(E.key===D)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(N,E.sibling),E=i(E,w.children||[]),E.return=N,N=E;break e}else{n(N,E);break}else e(N,E);E=E.sibling}E=g_(w,N.mode,C),E.return=N,N=E}return o(N);case Il:return D=w._init,A(N,E,D(w._payload),C)}if(Em(w))return P(N,E,w,C);if(tm(w))return _(N,E,w,C);Ky(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(n(N,E.sibling),E=i(E,w),E.return=N,N=E):(n(N,E),E=p_(w,N.mode,C),E.return=N,N=E),o(N)):n(N,E)}return A}var Sh=k$(!0),C$=k$(!1),Lg={},Mo=wc(Lg),vp=wc(Lg),wp=wc(Lg);function yu(t){if(t===Lg)throw Error(be(174));return t}function WE(t,e){switch(Wt(wp,e),Wt(vp,t),Wt(Mo,Lg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P1(e,t)}rn(Mo),Wt(Mo,e)}function Eh(){rn(Mo),rn(vp),rn(wp)}function I$(t){yu(wp.current);var e=yu(Mo.current),n=P1(e,t.type);e!==n&&(Wt(vp,t),Wt(Mo,n))}function HE(t){vp.current===t&&(rn(Mo),rn(vp))}var fn=wc(0);function p0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c_=[];function qE(){for(var t=0;t<c_.length;t++)c_[t]._workInProgressVersionPrimary=null;c_.length=0}var Lv=Xs.ReactCurrentDispatcher,u_=Xs.ReactCurrentBatchConfig,Iu=0,pn=null,Wn=null,ar=null,g0=!1,Vm=!1,bp=0,RV=0;function Er(){throw Error(be(321))}function KE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ja(t[n],e[n]))return!1;return!0}function GE(t,e,n,r,i,a){if(Iu=a,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lv.current=t===null||t.memoizedState===null?jV:BV,t=n(r,i),Vm){a=0;do{if(Vm=!1,bp=0,25<=a)throw Error(be(301));a+=1,ar=Wn=null,e.updateQueue=null,Lv.current=zV,t=n(r,i)}while(Vm)}if(Lv.current=y0,e=Wn!==null&&Wn.next!==null,Iu=0,ar=Wn=pn=null,g0=!1,e)throw Error(be(300));return t}function ZE(){var t=bp!==0;return bp=0,t}function So(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?pn.memoizedState=ar=t:ar=ar.next=t,ar}function wa(){if(Wn===null){var t=pn.alternate;t=t!==null?t.memoizedState:null}else t=Wn.next;var e=ar===null?pn.memoizedState:ar.next;if(e!==null)ar=e,Wn=t;else{if(t===null)throw Error(be(310));Wn=t,t={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},ar===null?pn.memoizedState=ar=t:ar=ar.next=t}return ar}function xp(t,e){return typeof e=="function"?e(t):e}function d_(t){var e=wa(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=Wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((Iu&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,pn.lanes|=f,Ou|=f}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Ja(r,e.memoizedState)||(oi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,pn.lanes|=a,Ou|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function h_(t){var e=wa(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ja(a,e.memoizedState)||(oi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function O$(){}function M$(t,e){var n=pn,r=wa(),i=e(),a=!Ja(r.memoizedState,i);if(a&&(r.memoizedState=i,oi=!0),r=r.queue,YE($$.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,_p(9,L$.bind(null,n,r,i,e),void 0,null),lr===null)throw Error(be(349));Iu&30||R$(n,e,i)}return i}function R$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L$(t,e,n,r){e.value=n,e.getSnapshot=r,D$(e)&&j$(t)}function $$(t,e,n){return n(function(){D$(e)&&j$(t)})}function D$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ja(t,n)}catch{return!0}}function j$(t){var e=js(t,1);e!==null&&Xa(e,t,1,-1)}function MT(t){var e=So();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:t},e.queue=t,t=t.dispatch=DV.bind(null,pn,t),[e.memoizedState,t]}function _p(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B$(){return wa().memoizedState}function $v(t,e,n,r){var i=So();pn.flags|=t,i.memoizedState=_p(1|e,n,void 0,r===void 0?null:r)}function rb(t,e,n,r){var i=wa();r=r===void 0?null:r;var a=void 0;if(Wn!==null){var o=Wn.memoizedState;if(a=o.destroy,r!==null&&KE(r,o.deps)){i.memoizedState=_p(e,n,a,r);return}}pn.flags|=t,i.memoizedState=_p(1|e,n,a,r)}function RT(t,e){return $v(8390656,8,t,e)}function YE(t,e){return rb(2048,8,t,e)}function z$(t,e){return rb(4,2,t,e)}function F$(t,e){return rb(4,4,t,e)}function V$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U$(t,e,n){return n=n!=null?n.concat([t]):null,rb(4,4,V$.bind(null,e,t),n)}function XE(){}function W$(t,e){var n=wa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H$(t,e){var n=wa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q$(t,e,n){return Iu&21?(Ja(n,e)||(n=ZL(),pn.lanes|=n,Ou|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oi=!0),t.memoizedState=n)}function LV(t,e){var n=Lt;Lt=n!==0&&4>n?n:4,t(!0);var r=u_.transition;u_.transition={};try{t(!1),e()}finally{Lt=n,u_.transition=r}}function K$(){return wa().memoizedState}function $V(t,e,n){var r=nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G$(t))Z$(e,n);else if(n=A$(t,e,n,r),n!==null){var i=Ur();Xa(n,t,r,i),Y$(n,e,r)}}function DV(t,e,n){var r=nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G$(t))Z$(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ja(l,o)){var c=e.interleaved;c===null?(i.next=i,VE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=A$(t,e,i,r),n!==null&&(i=Ur(),Xa(n,t,r,i),Y$(n,e,r))}}function G$(t){var e=t.alternate;return t===pn||e!==null&&e===pn}function Z$(t,e){Vm=g0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TE(t,n)}}var y0={readContext:va,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},jV={readContext:va,useCallback:function(t,e){return So().memoizedState=[t,e===void 0?null:e],t},useContext:va,useEffect:RT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$v(4194308,4,V$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $v(4194308,4,t,e)},useInsertionEffect:function(t,e){return $v(4,2,t,e)},useMemo:function(t,e){var n=So();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=So();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$V.bind(null,pn,t),[r.memoizedState,t]},useRef:function(t){var e=So();return t={current:t},e.memoizedState=t},useState:MT,useDebugValue:XE,useDeferredValue:function(t){return So().memoizedState=t},useTransition:function(){var t=MT(!1),e=t[0];return t=LV.bind(null,t[1]),So().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pn,i=So();if(sn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),lr===null)throw Error(be(349));Iu&30||R$(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,RT($$.bind(null,r,a,t),[t]),r.flags|=2048,_p(9,L$.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=So(),e=lr.identifierPrefix;if(sn){var n=_s,r=xs;n=(r&~(1<<32-Ya(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BV={readContext:va,useCallback:W$,useContext:va,useEffect:YE,useImperativeHandle:U$,useInsertionEffect:z$,useLayoutEffect:F$,useMemo:H$,useReducer:d_,useRef:B$,useState:function(){return d_(xp)},useDebugValue:XE,useDeferredValue:function(t){var e=wa();return q$(e,Wn.memoizedState,t)},useTransition:function(){var t=d_(xp)[0],e=wa().memoizedState;return[t,e]},useMutableSource:O$,useSyncExternalStore:M$,useId:K$,unstable_isNewReconciler:!1},zV={readContext:va,useCallback:W$,useContext:va,useEffect:YE,useImperativeHandle:U$,useInsertionEffect:z$,useLayoutEffect:F$,useMemo:H$,useReducer:h_,useRef:B$,useState:function(){return h_(xp)},useDebugValue:XE,useDeferredValue:function(t){var e=wa();return Wn===null?e.memoizedState=t:q$(e,Wn.memoizedState,t)},useTransition:function(){var t=h_(xp)[0],e=wa().memoizedState;return[t,e]},useMutableSource:O$,useSyncExternalStore:M$,useId:K$,unstable_isNewReconciler:!1};function Ah(t,e){try{var n="",r=e;do n+=mF(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function f_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Z1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FV=typeof WeakMap=="function"?WeakMap:Map;function X$(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){w0||(w0=!0,a2=r),Z1(t,e)},n}function Q$(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Z1(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Z1(t,e),typeof r!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function LT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new FV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=t8.bind(null,t,e,n),e.then(t,t))}function $T(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,ec(n,e,1))),n.lanes|=1),t)}var VV=Xs.ReactCurrentOwner,oi=!1;function zr(t,e,n,r){e.child=t===null?C$(e,null,n,r):Sh(e,t.child,n,r)}function jT(t,e,n,r,i){n=n.render;var a=e.ref;return sh(e,i),r=GE(t,e,n,r,a,i),n=ZE(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bs(t,e,i)):(sn&&n&&$E(e),e.flags|=1,zr(t,e,r,i),e.child)}function BT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!aA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,J$(t,e,a,r,i)):(t=zv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:mp,n(o,r)&&t.ref===e.ref)return Bs(t,e,i)}return e.flags|=1,t=rc(a,r),t.ref=e.ref,t.return=e,e.child=t}function J$(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(mp(a,r)&&t.ref===e.ref)if(oi=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,Bs(t,e,i)}return Y1(t,e,n,r,i)}function e5(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Yd,Ai),Ai|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(Yd,Ai),Ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wt(Yd,Ai),Ai|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Wt(Yd,Ai),Ai|=r;return zr(t,e,i,n),e.child}function t5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Y1(t,e,n,r,i){var a=ui(n)?ku:Ir.current;return a=xh(e,a),sh(e,i),n=GE(t,e,n,r,a,i),r=ZE(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bs(t,e,i)):(sn&&r&&$E(e),e.flags|=1,zr(t,e,n,i),e.child)}function zT(t,e,n,r,i){if(ui(n)){var a=!0;c0(e)}else a=!1;if(sh(e,i),e.stateNode===null)Dv(t,e),T$(e,n,r),G1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=va(d):(d=ui(n)?ku:Ir.current,d=xh(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&IT(e,o,r,d),Ol=!1;var p=e.memoizedState;o.state=p,m0(e,r,o,i),c=e.memoizedState,l!==r||p!==c||ci.current||Ol?(typeof f=="function"&&(K1(e,n,f,r),c=e.memoizedState),(l=Ol||CT(e,n,l,r,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,P$(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ha(e.type,l),o.props=d,m=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=va(c):(c=ui(n)?ku:Ir.current,c=xh(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&IT(e,o,r,c),Ol=!1,p=e.memoizedState,o.state=p,m0(e,r,o,i);var P=e.memoizedState;l!==m||p!==P||ci.current||Ol?(typeof y=="function"&&(K1(e,n,y,r),P=e.memoizedState),(d=Ol||CT(e,n,d,r,p,P,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return X1(t,e,n,r,a,i)}function X1(t,e,n,r,i,a){t5(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AT(e,n,!1),Bs(t,e,a);r=e.stateNode,VV.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Sh(e,t.child,null,a),e.child=Sh(e,null,l,a)):zr(t,e,l,a),e.memoizedState=r.state,i&&AT(e,n,!0),e.child}function n5(t){var e=t.stateNode;e.pendingContext?ET(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ET(t,e.context,!1),WE(t,e.containerInfo)}function FT(t,e,n,r,i){return _h(),jE(i),e.flags|=256,zr(t,e,n,r),e.child}var Q1={dehydrated:null,treeContext:null,retryLane:0};function J1(t){return{baseLanes:t,cachePool:null,transitions:null}}function r5(t,e,n){var r=e.pendingProps,i=fn.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(fn,i&1),t===null)return H1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ob(o,r,0,null),t=Eu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=J1(n),e.memoizedState=Q1,t):QE(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return UV(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=rc(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=rc(l,a):(a=Eu(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?J1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Q1,r}return a=t.child,t=a.sibling,r=rc(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function QE(t,e){return e=ob({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gy(t,e,n,r){return r!==null&&jE(r),Sh(e,t.child,null,n),t=QE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UV(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=f_(Error(be(422))),Gy(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=ob({mode:"visible",children:r.children},i,0,null),a=Eu(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Sh(e,t.child,null,o),e.child.memoizedState=J1(o),e.memoizedState=Q1,a);if(!(e.mode&1))return Gy(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(be(419)),r=f_(a,r,void 0),Gy(t,e,o,r)}if(l=(o&t.childLanes)!==0,oi||l){if(r=lr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,js(t,i),Xa(r,t,i,-1))}return iA(),r=f_(Error(be(421))),Gy(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=n8.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ni=Jl(i.nextSibling),ki=e,sn=!0,Ga=null,t!==null&&(ca[ua++]=xs,ca[ua++]=_s,ca[ua++]=Cu,xs=t.id,_s=t.overflow,Cu=e),e=QE(e,r.children),e.flags|=4096,e)}function VT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q1(t.return,e,n)}function m_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function i5(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(zr(t,e,r.children,n),r=fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VT(t,n,e);else if(t.tag===19)VT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wt(fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&p0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),m_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&p0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}m_(e,!0,n,null,a);break;case"together":m_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ou|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=rc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WV(t,e,n){switch(e.tag){case 3:n5(e),_h();break;case 5:I$(e);break;case 1:ui(e.type)&&c0(e);break;case 4:WE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wt(h0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wt(fn,fn.current&1),e.flags|=128,null):n&e.child.childLanes?r5(t,e,n):(Wt(fn,fn.current&1),t=Bs(t,e,n),t!==null?t.sibling:null);Wt(fn,fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,e5(t,e,n)}return Bs(t,e,n)}var a5,e2,o5,s5;a5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e2=function(){};o5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yu(Mo.current);var a=null;switch(n){case"input":i=_1(t,i),r=_1(t,r),a=[];break;case"select":i=yn({},i,{value:void 0}),r=yn({},r,{value:void 0}),a=[];break;case"textarea":i=A1(t,i),r=A1(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=s0)}N1(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sp.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sp.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Jt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};s5=function(t,e,n,r){n!==r&&(e.flags|=4)};function sm(t,e){if(!sn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HV(t,e,n){var r=e.pendingProps;switch(DE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return ui(e.type)&&l0(),Ar(e),null;case 3:return r=e.stateNode,Eh(),rn(ci),rn(Ir),qE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ga!==null&&(l2(Ga),Ga=null))),e2(t,e),Ar(e),null;case 5:HE(e);var i=yu(wp.current);if(n=e.type,t!==null&&e.stateNode!=null)o5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Ar(e),null}if(t=yu(Mo.current),qy(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[To]=e,r[yp]=a,t=(e.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(i=0;i<Pm.length;i++)Jt(Pm[i],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":XN(r,a),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Jt("invalid",r);break;case"textarea":JN(r,a),Jt("invalid",r)}N1(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Hy(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Hy(r.textContent,l,t),i=["children",""+l]):sp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Jt("scroll",r)}switch(n){case"input":Dy(r),QN(r,a,!0);break;case"textarea":Dy(r),eT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=s0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[To]=e,t[yp]=r,a5(t,e,!1,!1),e.stateNode=t;e:{switch(o=T1(n,r),n){case"dialog":Jt("cancel",t),Jt("close",t),i=r;break;case"iframe":case"object":case"embed":Jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pm.length;i++)Jt(Pm[i],t);i=r;break;case"source":Jt("error",t),i=r;break;case"img":case"image":case"link":Jt("error",t),Jt("load",t),i=r;break;case"details":Jt("toggle",t),i=r;break;case"input":XN(t,r),i=_1(t,r),Jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yn({},r,{value:void 0}),Jt("invalid",t);break;case"textarea":JN(t,r),i=A1(t,r),Jt("invalid",t);break;default:i=r}N1(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DL(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LL(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lp(t,c):typeof c=="number"&&lp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(sp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Jt("scroll",t):c!=null&&_E(t,a,c,o))}switch(n){case"input":Dy(t),QN(t,r,!1);break;case"textarea":Dy(t),eT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hc(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?rh(t,!!r.multiple,a,!1):r.defaultValue!=null&&rh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=s0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)s5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=yu(wp.current),yu(Mo.current),qy(e)){if(r=e.stateNode,n=e.memoizedProps,r[To]=e,(a=r.nodeValue!==n)&&(t=ki,t!==null))switch(t.tag){case 3:Hy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hy(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[To]=e,e.stateNode=r}return Ar(e),null;case 13:if(rn(fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(sn&&Ni!==null&&e.mode&1&&!(e.flags&128))E$(),_h(),e.flags|=98560,a=!1;else if(a=qy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(be(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(be(317));a[To]=e}else _h(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),a=!1}else Ga!==null&&(l2(Ga),Ga=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fn.current&1?qn===0&&(qn=3):iA())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return Eh(),e2(t,e),t===null&&pp(e.stateNode.containerInfo),Ar(e),null;case 10:return FE(e.type._context),Ar(e),null;case 17:return ui(e.type)&&l0(),Ar(e),null;case 19:if(rn(fn),a=e.memoizedState,a===null)return Ar(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)sm(a,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=p0(t),o!==null){for(e.flags|=128,sm(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(fn,fn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pn()>Ph&&(e.flags|=128,r=!0,sm(a,!1),e.lanes=4194304)}else{if(!r)if(t=p0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sm(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!sn)return Ar(e),null}else 2*Pn()-a.renderingStartTime>Ph&&n!==1073741824&&(e.flags|=128,r=!0,sm(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pn(),e.sibling=null,n=fn.current,Wt(fn,r?n&1|2:n&1),e):(Ar(e),null);case 22:case 23:return rA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ai&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function qV(t,e){switch(DE(e),e.tag){case 1:return ui(e.type)&&l0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eh(),rn(ci),rn(Ir),qE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HE(e),null;case 13:if(rn(fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));_h()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(fn),null;case 4:return Eh(),null;case 10:return FE(e.type._context),null;case 22:case 23:return rA(),null;case 24:return null;default:return null}}var Zy=!1,kr=!1,KV=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Zd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(t,e,r)}else n.current=null}function t2(t,e,n){try{n()}catch(r){_n(t,e,r)}}var UT=!1;function GV(t,e){if(j1=i0,t=d$(),LE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=t,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++d===i&&(l=o),p===a&&++f===r&&(c=o),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(B1={focusedElem:t,selectionRange:n},i0=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var _=P.memoizedProps,A=P.memoizedState,N=e.stateNode,E=N.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ha(e.type,_),A);N.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(C){_n(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return P=UT,UT=!1,P}function Um(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&t2(e,n,a)}i=i.next}while(i!==r)}}function ib(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function n2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l5(t){var e=t.alternate;e!==null&&(t.alternate=null,l5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[To],delete e[yp],delete e[V1],delete e[CV],delete e[IV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c5(t){return t.tag===5||t.tag===3||t.tag===4}function WT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function r2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=s0));else if(r!==4&&(t=t.child,t!==null))for(r2(t,e,n),t=t.sibling;t!==null;)r2(t,e,n),t=t.sibling}function i2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(i2(t,e,n),t=t.sibling;t!==null;)i2(t,e,n),t=t.sibling}var pr=null,qa=!1;function Sl(t,e,n){for(n=n.child;n!==null;)u5(t,e,n),n=n.sibling}function u5(t,e,n){if(Oo&&typeof Oo.onCommitFiberUnmount=="function")try{Oo.onCommitFiberUnmount(Yw,n)}catch{}switch(n.tag){case 5:kr||Zd(n,e);case 6:var r=pr,i=qa;pr=null,Sl(t,e,n),pr=r,qa=i,pr!==null&&(qa?(t=pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(qa?(t=pr,n=n.stateNode,t.nodeType===8?s_(t.parentNode,n):t.nodeType===1&&s_(t,n),hp(t)):s_(pr,n.stateNode));break;case 4:r=pr,i=qa,pr=n.stateNode.containerInfo,qa=!0,Sl(t,e,n),pr=r,qa=i;break;case 0:case 11:case 14:case 15:if(!kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&t2(n,e,o),i=i.next}while(i!==r)}Sl(t,e,n);break;case 1:if(!kr&&(Zd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_n(n,e,l)}Sl(t,e,n);break;case 21:Sl(t,e,n);break;case 22:n.mode&1?(kr=(r=kr)||n.memoizedState!==null,Sl(t,e,n),kr=r):Sl(t,e,n);break;default:Sl(t,e,n)}}function HT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KV),e.forEach(function(r){var i=r8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:pr=l.stateNode,qa=!1;break e;case 3:pr=l.stateNode.containerInfo,qa=!0;break e;case 4:pr=l.stateNode.containerInfo,qa=!0;break e}l=l.return}if(pr===null)throw Error(be(160));u5(a,o,i),pr=null,qa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){_n(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d5(e,t),e=e.sibling}function d5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fa(e,t),wo(t),r&4){try{Um(3,t,t.return),ib(3,t)}catch(_){_n(t,t.return,_)}try{Um(5,t,t.return)}catch(_){_n(t,t.return,_)}}break;case 1:Fa(e,t),wo(t),r&512&&n!==null&&Zd(n,n.return);break;case 5:if(Fa(e,t),wo(t),r&512&&n!==null&&Zd(n,n.return),t.flags&32){var i=t.stateNode;try{lp(i,"")}catch(_){_n(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&OL(i,a),T1(l,o);var d=T1(l,a);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?DL(i,m):f==="dangerouslySetInnerHTML"?LL(i,m):f==="children"?lp(i,m):_E(i,f,m,d)}switch(l){case"input":S1(i,a);break;case"textarea":ML(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?rh(i,!!a.multiple,y,!1):p!==!!a.multiple&&(a.defaultValue!=null?rh(i,!!a.multiple,a.defaultValue,!0):rh(i,!!a.multiple,a.multiple?[]:"",!1))}i[yp]=a}catch(_){_n(t,t.return,_)}}break;case 6:if(Fa(e,t),wo(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(_){_n(t,t.return,_)}}break;case 3:if(Fa(e,t),wo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hp(e.containerInfo)}catch(_){_n(t,t.return,_)}break;case 4:Fa(e,t),wo(t);break;case 13:Fa(e,t),wo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tA=Pn())),r&4&&HT(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(kr=(d=kr)||f,Fa(e,t),kr=d):Fa(e,t),wo(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Ce=t,f=t.child;f!==null;){for(m=Ce=f;Ce!==null;){switch(p=Ce,y=p.child,p.tag){case 0:case 11:case 14:case 15:Um(4,p,p.return);break;case 1:Zd(p,p.return);var P=p.stateNode;if(typeof P.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(_){_n(r,n,_)}}break;case 5:Zd(p,p.return);break;case 22:if(p.memoizedState!==null){KT(m);continue}}y!==null?(y.return=p,Ce=y):KT(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$L("display",o))}catch(_){_n(t,t.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){_n(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Fa(e,t),wo(t),r&4&&HT(t);break;case 21:break;default:Fa(e,t),wo(t)}}function wo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c5(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lp(i,""),r.flags&=-33);var a=WT(t);i2(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=WT(t);r2(t,l,o);break;default:throw Error(be(161))}}catch(c){_n(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZV(t,e,n){Ce=t,h5(t)}function h5(t,e,n){for(var r=(t.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zy;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||kr;l=Zy;var d=kr;if(Zy=o,(kr=c)&&!d)for(Ce=i;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?GT(i):c!==null?(c.return=o,Ce=c):GT(i);for(;a!==null;)Ce=a,h5(a),a=a.sibling;Ce=i,Zy=l,kr=d}qT(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):qT(t)}}function qT(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||ib(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ha(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&kT(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kT(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&hp(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}kr||e.flags&512&&n2(e)}catch(p){_n(e,e.return,p)}}if(e===t){Ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function KT(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function GT(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ib(4,e)}catch(c){_n(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){_n(e,i,c)}}var a=e.return;try{n2(e)}catch(c){_n(e,a,c)}break;case 5:var o=e.return;try{n2(e)}catch(c){_n(e,o,c)}}}catch(c){_n(e,e.return,c)}if(e===t){Ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ce=l;break}Ce=e.return}}var YV=Math.ceil,v0=Xs.ReactCurrentDispatcher,JE=Xs.ReactCurrentOwner,pa=Xs.ReactCurrentBatchConfig,bt=0,lr=null,Ln=null,vr=0,Ai=0,Yd=wc(0),qn=0,Sp=null,Ou=0,ab=0,eA=0,Wm=null,ii=null,tA=0,Ph=1/0,ys=null,w0=!1,a2=null,tc=null,Yy=!1,Fl=null,b0=0,Hm=0,o2=null,jv=-1,Bv=0;function Ur(){return bt&6?Pn():jv!==-1?jv:jv=Pn()}function nc(t){return t.mode&1?bt&2&&vr!==0?vr&-vr:MV.transition!==null?(Bv===0&&(Bv=ZL()),Bv):(t=Lt,t!==0||(t=window.event,t=t===void 0?16:n$(t.type)),t):1}function Xa(t,e,n,r){if(50<Hm)throw Hm=0,o2=null,Error(be(185));Og(t,n,r),(!(bt&2)||t!==lr)&&(t===lr&&(!(bt&2)&&(ab|=n),qn===4&&Ll(t,vr)),di(t,r),n===1&&bt===0&&!(e.mode&1)&&(Ph=Pn()+500,tb&&bc()))}function di(t,e){var n=t.callbackNode;MF(t,e);var r=r0(t,t===lr?vr:0);if(r===0)n!==null&&rT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rT(n),e===1)t.tag===0?OV(ZT.bind(null,t)):x$(ZT.bind(null,t)),TV(function(){!(bt&6)&&bc()}),n=null;else{switch(YL(r)){case 1:n=NE;break;case 4:n=KL;break;case 16:n=n0;break;case 536870912:n=GL;break;default:n=n0}n=b5(n,f5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f5(t,e){if(jv=-1,Bv=0,bt&6)throw Error(be(327));var n=t.callbackNode;if(lh()&&t.callbackNode!==n)return null;var r=r0(t,t===lr?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=x0(t,r);else{e=r;var i=bt;bt|=2;var a=p5();(lr!==t||vr!==e)&&(ys=null,Ph=Pn()+500,Su(t,e));do try{JV();break}catch(l){m5(t,l)}while(1);zE(),v0.current=a,bt=i,Ln!==null?e=0:(lr=null,vr=0,e=qn)}if(e!==0){if(e===2&&(i=M1(t),i!==0&&(r=i,e=s2(t,i))),e===1)throw n=Sp,Su(t,0),Ll(t,r),di(t,Pn()),n;if(e===6)Ll(t,r);else{if(i=t.current.alternate,!(r&30)&&!XV(i)&&(e=x0(t,r),e===2&&(a=M1(t),a!==0&&(r=a,e=s2(t,a))),e===1))throw n=Sp,Su(t,0),Ll(t,r),di(t,Pn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:lu(t,ii,ys);break;case 3:if(Ll(t,r),(r&130023424)===r&&(e=tA+500-Pn(),10<e)){if(r0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=F1(lu.bind(null,t,ii,ys),e);break}lu(t,ii,ys);break;case 4:if(Ll(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ya(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YV(r/1960))-r,10<r){t.timeoutHandle=F1(lu.bind(null,t,ii,ys),r);break}lu(t,ii,ys);break;case 5:lu(t,ii,ys);break;default:throw Error(be(329))}}}return di(t,Pn()),t.callbackNode===n?f5.bind(null,t):null}function s2(t,e){var n=Wm;return t.current.memoizedState.isDehydrated&&(Su(t,e).flags|=256),t=x0(t,e),t!==2&&(e=ii,ii=n,e!==null&&l2(e)),t}function l2(t){ii===null?ii=t:ii.push.apply(ii,t)}function XV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ja(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ll(t,e){for(e&=~eA,e&=~ab,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ya(e),r=1<<n;t[n]=-1,e&=~r}}function ZT(t){if(bt&6)throw Error(be(327));lh();var e=r0(t,0);if(!(e&1))return di(t,Pn()),null;var n=x0(t,e);if(t.tag!==0&&n===2){var r=M1(t);r!==0&&(e=r,n=s2(t,r))}if(n===1)throw n=Sp,Su(t,0),Ll(t,e),di(t,Pn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lu(t,ii,ys),di(t,Pn()),null}function nA(t,e){var n=bt;bt|=1;try{return t(e)}finally{bt=n,bt===0&&(Ph=Pn()+500,tb&&bc())}}function Mu(t){Fl!==null&&Fl.tag===0&&!(bt&6)&&lh();var e=bt;bt|=1;var n=pa.transition,r=Lt;try{if(pa.transition=null,Lt=1,t)return t()}finally{Lt=r,pa.transition=n,bt=e,!(bt&6)&&bc()}}function rA(){Ai=Yd.current,rn(Yd)}function Su(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NV(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(DE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l0();break;case 3:Eh(),rn(ci),rn(Ir),qE();break;case 5:HE(r);break;case 4:Eh();break;case 13:rn(fn);break;case 19:rn(fn);break;case 10:FE(r.type._context);break;case 22:case 23:rA()}n=n.return}if(lr=t,Ln=t=rc(t.current,null),vr=Ai=e,qn=0,Sp=null,eA=ab=Ou=0,ii=Wm=null,gu!==null){for(e=0;e<gu.length;e++)if(n=gu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}gu=null}return t}function m5(t,e){do{var n=Ln;try{if(zE(),Lv.current=y0,g0){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}g0=!1}if(Iu=0,ar=Wn=pn=null,Vm=!1,bp=0,JE.current=null,n===null||n.return===null){qn=1,Sp=e,Ln=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=vr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=$T(o);if(y!==null){y.flags&=-257,DT(y,o,l,a,e),y.mode&1&&LT(a,d,e),e=y,c=d;var P=e.updateQueue;if(P===null){var _=new Set;_.add(c),e.updateQueue=_}else P.add(c);break e}else{if(!(e&1)){LT(a,d,e),iA();break e}c=Error(be(426))}}else if(sn&&l.mode&1){var A=$T(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),DT(A,o,l,a,e),jE(Ah(c,l));break e}}a=c=Ah(c,l),qn!==4&&(qn=2),Wm===null?Wm=[a]:Wm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var N=X$(a,c,e);TT(a,N);break e;case 1:l=c;var E=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tc===null||!tc.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=Q$(a,l,e);TT(a,C);break e}}a=a.return}while(a!==null)}y5(n)}catch($){e=$,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(1)}function p5(){var t=v0.current;return v0.current=y0,t===null?y0:t}function iA(){(qn===0||qn===3||qn===2)&&(qn=4),lr===null||!(Ou&268435455)&&!(ab&268435455)||Ll(lr,vr)}function x0(t,e){var n=bt;bt|=2;var r=p5();(lr!==t||vr!==e)&&(ys=null,Su(t,e));do try{QV();break}catch(i){m5(t,i)}while(1);if(zE(),bt=n,v0.current=r,Ln!==null)throw Error(be(261));return lr=null,vr=0,qn}function QV(){for(;Ln!==null;)g5(Ln)}function JV(){for(;Ln!==null&&!EF();)g5(Ln)}function g5(t){var e=w5(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?y5(t):Ln=e,JE.current=null}function y5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qV(n,e),n!==null){n.flags&=32767,Ln=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qn=6,Ln=null;return}}else if(n=HV(n,e,Ai),n!==null){Ln=n;return}if(e=e.sibling,e!==null){Ln=e;return}Ln=e=t}while(e!==null);qn===0&&(qn=5)}function lu(t,e,n){var r=Lt,i=pa.transition;try{pa.transition=null,Lt=1,e8(t,e,n,r)}finally{pa.transition=i,Lt=r}return null}function e8(t,e,n,r){do lh();while(Fl!==null);if(bt&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(RF(t,a),t===lr&&(Ln=lr=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yy||(Yy=!0,b5(n0,function(){return lh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=pa.transition,pa.transition=null;var o=Lt;Lt=1;var l=bt;bt|=4,JE.current=null,GV(t,n),d5(n,t),bV(B1),i0=!!j1,B1=j1=null,t.current=n,ZV(n),AF(),bt=l,Lt=o,pa.transition=a}else t.current=n;if(Yy&&(Yy=!1,Fl=t,b0=i),a=t.pendingLanes,a===0&&(tc=null),TF(n.stateNode),di(t,Pn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(w0)throw w0=!1,t=a2,a2=null,t;return b0&1&&t.tag!==0&&lh(),a=t.pendingLanes,a&1?t===o2?Hm++:(Hm=0,o2=t):Hm=0,bc(),null}function lh(){if(Fl!==null){var t=YL(b0),e=pa.transition,n=Lt;try{if(pa.transition=null,Lt=16>t?16:t,Fl===null)var r=!1;else{if(t=Fl,Fl=null,b0=0,bt&6)throw Error(be(331));var i=bt;for(bt|=4,Ce=t.current;Ce!==null;){var a=Ce,o=a.child;if(Ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ce=d;Ce!==null;){var f=Ce;switch(f.tag){case 0:case 11:case 15:Um(8,f,a)}var m=f.child;if(m!==null)m.return=f,Ce=m;else for(;Ce!==null;){f=Ce;var p=f.sibling,y=f.return;if(l5(f),f===d){Ce=null;break}if(p!==null){p.return=y,Ce=p;break}Ce=y}}}var P=a.alternate;if(P!==null){var _=P.child;if(_!==null){P.child=null;do{var A=_.sibling;_.sibling=null,_=A}while(_!==null)}}Ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ce=o;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Um(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,Ce=N;break e}Ce=a.return}}var E=t.current;for(Ce=E;Ce!==null;){o=Ce;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ce=w;else e:for(o=E;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ib(9,l)}}catch($){_n(l,l.return,$)}if(l===o){Ce=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Ce=C;break e}Ce=l.return}}if(bt=i,bc(),Oo&&typeof Oo.onPostCommitFiberRoot=="function")try{Oo.onPostCommitFiberRoot(Yw,t)}catch{}r=!0}return r}finally{Lt=n,pa.transition=e}}return!1}function YT(t,e,n){e=Ah(n,e),e=X$(t,e,1),t=ec(t,e,1),e=Ur(),t!==null&&(Og(t,1,e),di(t,e))}function _n(t,e,n){if(t.tag===3)YT(t,t,n);else for(;e!==null;){if(e.tag===3){YT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tc===null||!tc.has(r))){t=Ah(n,t),t=Q$(e,t,1),e=ec(e,t,1),t=Ur(),e!==null&&(Og(e,1,t),di(e,t));break}}e=e.return}}function t8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&n,lr===t&&(vr&n)===n&&(qn===4||qn===3&&(vr&130023424)===vr&&500>Pn()-tA?Su(t,0):eA|=n),di(t,e)}function v5(t,e){e===0&&(t.mode&1?(e=zy,zy<<=1,!(zy&130023424)&&(zy=4194304)):e=1);var n=Ur();t=js(t,e),t!==null&&(Og(t,e,n),di(t,n))}function n8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v5(t,n)}function r8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),v5(t,n)}var w5;w5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ci.current)oi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oi=!1,WV(t,e,n);oi=!!(t.flags&131072)}else oi=!1,sn&&e.flags&1048576&&_$(e,d0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dv(t,e),t=e.pendingProps;var i=xh(e,Ir.current);sh(e,n),i=GE(null,e,r,t,i,n);var a=ZE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(a=!0,c0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UE(e),i.updater=nb,e.stateNode=i,i._reactInternals=e,G1(e,r,t,n),e=X1(null,e,r,!0,a,n)):(e.tag=0,sn&&a&&$E(e),zr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=a8(r),t=Ha(r,t),i){case 0:e=Y1(null,e,r,t,n);break e;case 1:e=zT(null,e,r,t,n);break e;case 11:e=jT(null,e,r,t,n);break e;case 14:e=BT(null,e,r,Ha(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),Y1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),zT(t,e,r,i,n);case 3:e:{if(n5(e),t===null)throw Error(be(387));r=e.pendingProps,a=e.memoizedState,i=a.element,P$(t,e),m0(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Ah(Error(be(423)),e),e=FT(t,e,r,n,i);break e}else if(r!==i){i=Ah(Error(be(424)),e),e=FT(t,e,r,n,i);break e}else for(Ni=Jl(e.stateNode.containerInfo.firstChild),ki=e,sn=!0,Ga=null,n=C$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_h(),r===i){e=Bs(t,e,n);break e}zr(t,e,r,n)}e=e.child}return e;case 5:return I$(e),t===null&&H1(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,z1(r,i)?o=null:a!==null&&z1(r,a)&&(e.flags|=32),t5(t,e),zr(t,e,o,n),e.child;case 6:return t===null&&H1(e),null;case 13:return r5(t,e,n);case 4:return WE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sh(e,null,r,n):zr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),jT(t,e,r,i,n);case 7:return zr(t,e,e.pendingProps,n),e.child;case 8:return zr(t,e,e.pendingProps.children,n),e.child;case 12:return zr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Wt(h0,r._currentValue),r._currentValue=o,a!==null)if(Ja(a.value,o)){if(a.children===i.children&&!ci.current){e=Bs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ks(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),q1(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(be(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),q1(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}zr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sh(e,n),i=va(i),r=r(i),e.flags|=1,zr(t,e,r,n),e.child;case 14:return r=e.type,i=Ha(r,e.pendingProps),i=Ha(r.type,i),BT(t,e,r,i,n);case 15:return J$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ha(r,i),Dv(t,e),e.tag=1,ui(r)?(t=!0,c0(e)):t=!1,sh(e,n),T$(e,r,i),G1(e,r,i,n),X1(null,e,r,!0,t,n);case 19:return i5(t,e,n);case 22:return e5(t,e,n)}throw Error(be(156,e.tag))};function b5(t,e){return qL(t,e)}function i8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(t,e,n,r){return new i8(t,e,n,r)}function aA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a8(t){if(typeof t=="function")return aA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===EE)return 11;if(t===AE)return 14}return 2}function rc(t,e){var n=t.alternate;return n===null?(n=fa(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zv(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")aA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zd:return Eu(n.children,i,a,e);case SE:o=8,i|=8;break;case v1:return t=fa(12,n,e,i|2),t.elementType=v1,t.lanes=a,t;case w1:return t=fa(13,n,e,i),t.elementType=w1,t.lanes=a,t;case b1:return t=fa(19,n,e,i),t.elementType=b1,t.lanes=a,t;case kL:return ob(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NL:o=10;break e;case TL:o=9;break e;case EE:o=11;break e;case AE:o=14;break e;case Il:o=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=fa(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Eu(t,e,n,r){return t=fa(7,t,r,e),t.lanes=n,t}function ob(t,e,n,r){return t=fa(22,t,r,e),t.elementType=kL,t.lanes=n,t.stateNode={isHidden:!1},t}function p_(t,e,n){return t=fa(6,t,null,e),t.lanes=n,t}function g_(t,e,n){return e=fa(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yx(0),this.expirationTimes=Yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oA(t,e,n,r,i,a,o,l,c){return t=new o8(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=fa(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},UE(a),t}function s8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function x5(t){if(!t)return fc;t=t._reactInternals;e:{if(Ku(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(ui(n))return b$(t,n,e)}return e}function _5(t,e,n,r,i,a,o,l,c){return t=oA(n,r,!0,t,i,a,o,l,c),t.context=x5(null),n=t.current,r=Ur(),i=nc(n),a=ks(r,i),a.callback=e??null,ec(n,a,i),t.current.lanes=i,Og(t,i,r),di(t,r),t}function sb(t,e,n,r){var i=e.current,a=Ur(),o=nc(i);return n=x5(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ec(i,e,o),t!==null&&(Xa(t,i,o,a),Rv(t,i,o)),o}function _0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sA(t,e){XT(t,e),(t=t.alternate)&&XT(t,e)}function l8(){return null}var S5=typeof reportError=="function"?reportError:function(t){console.error(t)};function lA(t){this._internalRoot=t}lb.prototype.render=lA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));sb(t,e,null,null)};lb.prototype.unmount=lA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mu(function(){sb(null,t,null,null)}),e[Ds]=null}};function lb(t){this._internalRoot=t}lb.prototype.unstable_scheduleHydration=function(t){if(t){var e=JL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rl.length&&e!==0&&e<Rl[n].priority;n++);Rl.splice(n,0,t),n===0&&t$(t)}};function cA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QT(){}function c8(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=_0(o);a.call(d)}}var o=_5(e,r,t,0,null,!1,!1,"",QT);return t._reactRootContainer=o,t[Ds]=o.current,pp(t.nodeType===8?t.parentNode:t),Mu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=_0(c);l.call(d)}}var c=oA(t,0,!1,null,null,!1,!1,"",QT);return t._reactRootContainer=c,t[Ds]=c.current,pp(t.nodeType===8?t.parentNode:t),Mu(function(){sb(e,c,n,r)}),c}function ub(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=_0(o);l.call(c)}}sb(e,o,t,i)}else o=c8(n,e,t,i,r);return _0(o)}XL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Am(e.pendingLanes);n!==0&&(TE(e,n|1),di(e,Pn()),!(bt&6)&&(Ph=Pn()+500,bc()))}break;case 13:Mu(function(){var r=js(t,1);if(r!==null){var i=Ur();Xa(r,t,1,i)}}),sA(t,1)}};kE=function(t){if(t.tag===13){var e=js(t,134217728);if(e!==null){var n=Ur();Xa(e,t,134217728,n)}sA(t,134217728)}};QL=function(t){if(t.tag===13){var e=nc(t),n=js(t,e);if(n!==null){var r=Ur();Xa(n,t,e,r)}sA(t,e)}};JL=function(){return Lt};e$=function(t,e){var n=Lt;try{return Lt=t,e()}finally{Lt=n}};C1=function(t,e,n){switch(e){case"input":if(S1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=eb(r);if(!i)throw Error(be(90));IL(r),S1(r,i)}}}break;case"textarea":ML(t,n);break;case"select":e=n.value,e!=null&&rh(t,!!n.multiple,e,!1)}};zL=nA;FL=Mu;var u8={usingClientEntryPoint:!1,Events:[Rg,Wd,eb,jL,BL,nA]},lm={findFiberByHostInstance:pu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},d8={bundleType:lm.bundleType,version:lm.version,rendererPackageName:lm.rendererPackageName,rendererConfig:lm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WL(t),t===null?null:t.stateNode},findFiberByHostInstance:lm.findFiberByHostInstance||l8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xy.isDisabled&&Xy.supportsFiber)try{Yw=Xy.inject(d8),Oo=Xy}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u8;$i.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cA(e))throw Error(be(200));return s8(t,e,null,n)};$i.createRoot=function(t,e){if(!cA(t))throw Error(be(299));var n=!1,r="",i=S5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oA(t,1,!1,null,null,n,!1,r,i),t[Ds]=e.current,pp(t.nodeType===8?t.parentNode:t),new lA(e)};$i.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=WL(e),t=t===null?null:t.stateNode,t};$i.flushSync=function(t){return Mu(t)};$i.hydrate=function(t,e,n){if(!cb(e))throw Error(be(200));return ub(null,t,e,!0,n)};$i.hydrateRoot=function(t,e,n){if(!cA(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=S5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_5(e,null,t,1,n??null,i,!1,a,o),t[Ds]=e.current,pp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lb(e)};$i.render=function(t,e,n){if(!cb(e))throw Error(be(200));return ub(null,t,e,!1,n)};$i.unmountComponentAtNode=function(t){if(!cb(t))throw Error(be(40));return t._reactRootContainer?(Mu(function(){ub(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};$i.unstable_batchedUpdates=nA;$i.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cb(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return ub(t,e,n,!1,r)};$i.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=$i})(Zw);var JT=Zw.exports;g1.createRoot=JT.createRoot,g1.hydrateRoot=JT.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}var Vl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vl||(Vl={}));const ek="popstate";function h8(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:l}=r.location;return c2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ap(i)}return m8(e,n,null,t)}function Dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f8(){return Math.random().toString(36).substr(2,8)}function tk(t,e){return{usr:t.state,key:t.key,idx:e}}function c2(t,e,n,r){return n===void 0&&(n=null),Ep({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hf(e):e,{state:n,key:e&&e.key||r||f8()})}function Ap(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function m8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Vl.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Ep({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=Vl.Pop;let A=f(),N=A==null?null:A-d;d=A,c&&c({action:l,location:_.location,delta:N})}function p(A,N){l=Vl.Push;let E=c2(_.location,A,N);n&&n(E,A),d=f()+1;let w=tk(E,d),C=_.createHref(E);try{o.pushState(w,"",C)}catch{i.location.assign(C)}a&&c&&c({action:l,location:_.location,delta:1})}function y(A,N){l=Vl.Replace;let E=c2(_.location,A,N);n&&n(E,A),d=f();let w=tk(E,d),C=_.createHref(E);o.replaceState(w,"",C),a&&c&&c({action:l,location:_.location,delta:0})}function P(A){let N=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof A=="string"?A:Ap(A);return Dn(N,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,N)}let _={get action(){return l},get location(){return t(i,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ek,m),c=A,()=>{i.removeEventListener(ek,m),c=null}},createHref(A){return e(i,A)},createURL:P,encodeLocation(A){let N=P(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:y,go(A){return o.go(A)}};return _}var nk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nk||(nk={}));function p8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hf(e):e,i=P5(r.pathname||"/",n);if(i==null)return null;let a=E5(t);g8(a);let o=null;for(let l=0;o==null&&l<a.length;++l)o=A8(a[l],T8(i));return o}function E5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Dn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ic([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(Dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),E5(a.children,e,f,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:S8(d,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of A5(a.path))i(a,o,c)}),e}function A5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=A5(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function g8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y8=/^:\w+$/,v8=3,w8=2,b8=1,x8=10,_8=-2,rk=t=>t==="*";function S8(t,e){let n=t.split("/"),r=n.length;return n.some(rk)&&(r+=_8),e&&(r+=w8),n.filter(i=>!rk(i)).reduce((i,a)=>i+(y8.test(a)?v8:a===""?b8:x8),r)}function E8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function A8(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=P8({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!f)return null;Object.assign(r,f.params);let m=l.route;a.push({params:r,pathname:ic([i,f.pathname]),pathnameBase:O8(ic([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ic([i,f.pathnameBase]))}return a}function P8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,m)=>{if(f==="*"){let p=l[m]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}return d[f]=k8(l[m]||"",f),d},{}),pathname:a,pathnameBase:o,pattern:t}}function N8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function T8(t){try{return decodeURI(t)}catch(e){return uA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k8(t,e){try{return decodeURIComponent(t)}catch(n){return uA(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function P5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hf(t):t;return{pathname:n?n.startsWith("/")?n:I8(n,e):e,search:M8(r),hash:R8(i)}}function I8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function y_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hf(t):(i=Ep({},t),Dn(!i.pathname||!i.pathname.includes("?"),y_("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),y_("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),y_("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(r||o==null)l=n;else{let m=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=C8(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const ic=t=>t.join("/").replace(/\/\/+/g,"/"),O8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k5=["post","put","patch","delete"];new Set(k5);const $8=["get",...k5];new Set($8);/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u2.apply(this,arguments)}function D8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const j8=typeof Object.is=="function"?Object.is:D8,{useState:B8,useEffect:z8,useLayoutEffect:F8,useDebugValue:V8}=p1;function U8(t,e,n){const r=e(),[{inst:i},a]=B8({inst:{value:r,getSnapshot:e}});return F8(()=>{i.value=r,i.getSnapshot=e,v_(i)&&a({inst:i})},[t,r,e]),z8(()=>(v_(i)&&a({inst:i}),t(()=>{v_(i)&&a({inst:i})})),[t]),V8(r),r}function v_(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!j8(n,r)}catch{return!0}}function W8(t,e,n){return e()}const H8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q8=!H8,K8=q8?W8:U8;"useSyncExternalStore"in p1&&(t=>t.useSyncExternalStore)(p1);const C5=W.exports.createContext(null),dA=W.exports.createContext(null),db=W.exports.createContext(null),hb=W.exports.createContext(null),ff=W.exports.createContext({outlet:null,matches:[]}),I5=W.exports.createContext(null);function G8(t,e){let{relative:n}=e===void 0?{}:e;mf()||Dn(!1);let{basename:r,navigator:i}=W.exports.useContext(db),{hash:a,pathname:o,search:l}=O5(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ic([r,o])),i.createHref({pathname:c,search:l,hash:a})}function mf(){return W.exports.useContext(hb)!=null}function $g(){return mf()||Dn(!1),W.exports.useContext(hb).location}function Gu(){mf()||Dn(!1);let{basename:t,navigator:e}=W.exports.useContext(db),{matches:n}=W.exports.useContext(ff),{pathname:r}=$g(),i=JSON.stringify(N5(n).map(l=>l.pathnameBase)),a=W.exports.useRef(!1);return W.exports.useEffect(()=>{a.current=!0}),W.exports.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){e.go(l);return}let d=T5(l,JSON.parse(i),r,c.relative==="path");t!=="/"&&(d.pathname=d.pathname==="/"?t:ic([t,d.pathname])),(c.replace?e.replace:e.push)(d,c.state,c)},[t,e,i,r])}function O5(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=W.exports.useContext(ff),{pathname:i}=$g(),a=JSON.stringify(N5(r).map(o=>o.pathnameBase));return W.exports.useMemo(()=>T5(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Z8(t,e){mf()||Dn(!1);let{navigator:n}=W.exports.useContext(db),r=W.exports.useContext(dA),{matches:i}=W.exports.useContext(ff),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=$g(),d;if(e){var f;let _=typeof e=="string"?hf(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Dn(!1),d=_}else d=c;let m=d.pathname||"/",p=l==="/"?m:m.slice(l.length)||"/",y=p8(t,{pathname:p}),P=J8(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:ic([l,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:ic([l,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return e&&P?W.exports.createElement(hb.Provider,{value:{location:u2({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vl.Pop}},P):P}function Y8(){let t=r9(),e=L8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return W.exports.createElement(W.exports.Fragment,null,W.exports.createElement("h2",null,"Unexpected Application Error!"),W.exports.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.exports.createElement("pre",{style:i},n):null,a)}class X8 extends W.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?W.exports.createElement(ff.Provider,{value:this.props.routeContext},W.exports.createElement(I5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q8(t){let{routeContext:e,match:n,children:r}=t,i=W.exports.useContext(C5);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.exports.createElement(ff.Provider,{value:e},r)}function J8(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||Dn(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,l)=>{let c=o.route.id?i==null?void 0:i[o.route.id]:null,d=n?o.route.errorElement||W.exports.createElement(Y8,null):null,f=e.concat(r.slice(0,l+1)),m=()=>W.exports.createElement(Q8,{match:o,routeContext:{outlet:a,matches:f}},c?d:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||l===0)?W.exports.createElement(X8,{location:n.location,component:d,error:c,children:m(),routeContext:{outlet:null,matches:f}}):m()},null)}var ik;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(ik||(ik={}));var S0;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(S0||(S0={}));function e9(t){let e=W.exports.useContext(dA);return e||Dn(!1),e}function t9(t){let e=W.exports.useContext(ff);return e||Dn(!1),e}function n9(t){let e=t9(),n=e.matches[e.matches.length-1];return n.route.id||Dn(!1),n.route.id}function r9(){var t;let e=W.exports.useContext(I5),n=e9(S0.UseRouteError),r=n9(S0.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Eo(t){let{to:e,replace:n,state:r,relative:i}=t;mf()||Dn(!1);let a=W.exports.useContext(dA),o=Gu();return W.exports.useEffect(()=>{a&&a.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function gt(t){Dn(!1)}function i9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vl.Pop,navigator:a,static:o=!1}=t;mf()&&Dn(!1);let l=e.replace(/^\/*/,"/"),c=W.exports.useMemo(()=>({basename:l,navigator:a,static:o}),[l,a,o]);typeof r=="string"&&(r=hf(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=r,P=W.exports.useMemo(()=>{let _=P5(d,l);return _==null?null:{pathname:_,search:f,hash:m,state:p,key:y}},[l,d,f,m,p,y]);return P==null?null:W.exports.createElement(db.Provider,{value:c},W.exports.createElement(hb.Provider,{children:n,value:{location:P,navigationType:i}}))}function a9(t){let{children:e,location:n}=t,r=W.exports.useContext(C5),i=r&&!e?r.router.routes:d2(e);return Z8(i,n)}var ak;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(ak||(ak={}));new Promise(()=>{});function d2(t,e){e===void 0&&(e=[]);let n=[];return W.exports.Children.forEach(t,(r,i)=>{if(!W.exports.isValidElement(r))return;if(r.type===W.exports.Fragment){n.push.apply(n,d2(r.props.children,e));return}r.type!==gt&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let a=[...e,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=d2(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h2.apply(this,arguments)}function o9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l9(t,e){return t.button===0&&(!e||e==="_self")&&!s9(t)}const c9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function u9(t){let{basename:e,children:n,window:r}=t,i=W.exports.useRef();i.current==null&&(i.current=h8({window:r,v5Compat:!0}));let a=i.current,[o,l]=W.exports.useState({action:a.action,location:a.location});return W.exports.useLayoutEffect(()=>a.listen(l),[a]),W.exports.createElement(i9,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a})}const d9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hA=W.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:f}=e,m=o9(e,c9),p=typeof d=="string"?d:Ap(d),y=/^[a-z+]+:\/\//i.test(p)||p.startsWith("//"),P=p,_=!1;if(d9&&y){let w=new URL(window.location.href),C=p.startsWith("//")?new URL(w.protocol+p):new URL(p);C.origin===w.origin?P=C.pathname+C.search+C.hash:_=!0}let A=G8(P,{relative:i}),N=h9(P,{replace:o,state:l,target:c,preventScrollReset:f,relative:i});function E(w){r&&r(w),w.defaultPrevented||N(w)}return W.exports.createElement("a",h2({},m,{href:y?p:A,onClick:_||a?r:E,ref:n,target:c}))});var ok;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(ok||(ok={}));var sk;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sk||(sk={}));function h9(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=e===void 0?{}:e,l=Gu(),c=$g(),d=O5(t,{relative:o});return W.exports.useCallback(f=>{if(l9(f,n)){f.preventDefault();let m=r!==void 0?r:Ap(c)===Ap(d);l(t,{replace:m,state:i,preventScrollReset:a,relative:o})}},[c,l,d,r,i,n,t,a,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},R5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=a>>2,m=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new m9;const p=a<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const P=d<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p9=function(t){const e=M5(t);return R5.encodeByteArray(e,!0)},E0=function(t){return p9(t).replace(/\./g,"")},L5=function(t){try{return R5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=()=>g9().__FIREBASE_DEFAULTS__,v9=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L5(t[1]);return e&&JSON.parse(e)},fb=()=>{try{return y9()||v9()||w9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$5=t=>{var e,n;return(n=(e=fb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b9=t=>{const e=$5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D5=()=>{var t;return(t=fb())===null||t===void 0?void 0:t.config},j5=t=>{var e;return(e=fb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[E0(JSON.stringify(n)),E0(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function E9(){var t;const e=(t=fb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N9(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T9(){return!E9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k9(){try{return typeof indexedDB=="object"}catch{return!1}}function C9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="FirebaseError";class Qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I9,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dg.prototype.create)}}class Dg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?O9(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qs(i,l,r)}}function O9(t,e){return t.replace(M9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const M9=/\{\$([^}]+)}/g;function R9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(lk(a)&&lk(o)){if(!A0(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Tm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function L9(t,e){const n=new $9(t,e);return n.subscribe.bind(n)}class $9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=w_),i.error===void 0&&(i.error=w_),i.complete===void 0&&(i.complete=w_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function w_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class Ru{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z9(e))try{this.getOrInitializeService({instanceIdentifier:cu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=cu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cu){return this.instances.has(e)}getOptions(e=cu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cu){return this.component?this.component.multipleInstances?e:cu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B9(t){return t===cu?void 0:t}function z9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const V9={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},U9=mt.INFO,W9={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},H9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=W9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fA{constructor(e){this.name=e,this._logLevel=U9,this._logHandler=H9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const q9=(t,e)=>e.some(n=>t instanceof n);let ck,uk;function K9(){return ck||(ck=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G9(){return uk||(uk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B5=new WeakMap,f2=new WeakMap,z5=new WeakMap,b_=new WeakMap,mA=new WeakMap;function Z9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ac(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&B5.set(n,t)}).catch(()=>{}),mA.set(e,t),e}function Y9(t){if(f2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});f2.set(t,e)}let m2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ac(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X9(t){m2=t(m2)}function Q9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(x_(this),e,...n);return z5.set(r,e.sort?e.sort():[e]),ac(r)}:G9().includes(t)?function(...e){return t.apply(x_(this),e),ac(B5.get(this))}:function(...e){return ac(t.apply(x_(this),e))}}function J9(t){return typeof t=="function"?Q9(t):(t instanceof IDBTransaction&&Y9(t),q9(t,K9())?new Proxy(t,m2):t)}function ac(t){if(t instanceof IDBRequest)return Z9(t);if(b_.has(t))return b_.get(t);const e=J9(t);return e!==t&&(b_.set(t,e),mA.set(e,t)),e}const x_=t=>mA.get(t);function eU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=ac(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ac(o.result),c.oldVersion,c.newVersion,ac(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const tU=["get","getKey","getAll","getAllKeys","count"],nU=["put","add","delete","clear"],__=new Map;function dk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(__.get(e))return __.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tU.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return __.set(e,a),a}X9(t=>({...t,get:(e,n,r)=>dk(e,n)||t.get(e,n,r),has:(e,n)=>!!dk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const p2="@firebase/app",hk="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new fA("@firebase/app"),aU="@firebase/app-compat",oU="@firebase/analytics-compat",sU="@firebase/analytics",lU="@firebase/app-check-compat",cU="@firebase/app-check",uU="@firebase/auth",dU="@firebase/auth-compat",hU="@firebase/database",fU="@firebase/database-compat",mU="@firebase/functions",pU="@firebase/functions-compat",gU="@firebase/installations",yU="@firebase/installations-compat",vU="@firebase/messaging",wU="@firebase/messaging-compat",bU="@firebase/performance",xU="@firebase/performance-compat",_U="@firebase/remote-config",SU="@firebase/remote-config-compat",EU="@firebase/storage",AU="@firebase/storage-compat",PU="@firebase/firestore",NU="@firebase/vertexai-preview",TU="@firebase/firestore-compat",kU="firebase",CU="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="[DEFAULT]",IU={[p2]:"fire-core",[aU]:"fire-core-compat",[sU]:"fire-analytics",[oU]:"fire-analytics-compat",[cU]:"fire-app-check",[lU]:"fire-app-check-compat",[uU]:"fire-auth",[dU]:"fire-auth-compat",[hU]:"fire-rtdb",[fU]:"fire-rtdb-compat",[mU]:"fire-fn",[pU]:"fire-fn-compat",[gU]:"fire-iid",[yU]:"fire-iid-compat",[vU]:"fire-fcm",[wU]:"fire-fcm-compat",[bU]:"fire-perf",[xU]:"fire-perf-compat",[_U]:"fire-rc",[SU]:"fire-rc-compat",[EU]:"fire-gcs",[AU]:"fire-gcs-compat",[PU]:"fire-fst",[TU]:"fire-fst-compat",[NU]:"fire-vertex","fire-js":"fire-js",[kU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map,OU=new Map,y2=new Map;function fk(t,e){try{t.container.addComponent(e)}catch(n){Lu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nh(t){const e=t.name;if(y2.has(e))return Lu.debug(`There were multiple attempts to register component ${e}.`),!1;y2.set(e,t);for(const n of P0.values())fk(n,t);for(const n of OU.values())fk(n,t);return!0}function pA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ko(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},oc=new Dg("app","Firebase",MU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=CU;function F5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:g2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oc.create("bad-app-name",{appName:String(i)});if(n||(n=D5()),!n)throw oc.create("no-options");const a=P0.get(i);if(a){if(A0(n,a.options)&&A0(r,a.config))return a;throw oc.create("duplicate-app",{appName:i})}const o=new F9(i);for(const c of y2.values())o.addComponent(c);const l=new RU(n,r,o);return P0.set(i,l),l}function V5(t=g2){const e=P0.get(t);if(!e&&t===g2&&D5())return F5();if(!e)throw oc.create("no-app",{appName:t});return e}function sc(t,e,n){var r;let i=(r=IU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lu.warn(l.join(" "));return}Nh(new Ru(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="firebase-heartbeat-database",$U=1,Pp="firebase-heartbeat-store";let S_=null;function U5(){return S_||(S_=eU(LU,$U,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pp)}catch(n){console.warn(n)}}}}).catch(t=>{throw oc.create("idb-open",{originalErrorMessage:t.message})})),S_}async function DU(t){try{const n=(await U5()).transaction(Pp),r=await n.objectStore(Pp).get(W5(t));return await n.done,r}catch(e){if(e instanceof Qs)Lu.warn(e.message);else{const n=oc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lu.warn(n.message)}}}async function mk(t,e){try{const r=(await U5()).transaction(Pp,"readwrite");await r.objectStore(Pp).put(e,W5(t)),await r.done}catch(n){if(n instanceof Qs)Lu.warn(n.message);else{const r=oc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lu.warn(r.message)}}}function W5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=1024,BU=30*24*60*60*1e3;class zU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pk();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=BU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pk(),{heartbeatsToSend:r,unsentEntries:i}=FU(this._heartbeatsCache.heartbeats),a=E0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function pk(){return new Date().toISOString().substring(0,10)}function FU(t,e=jU){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),gk(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k9()?C9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gk(t){return E0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){Nh(new Ru("platform-logger",e=>new rU(e),"PRIVATE")),Nh(new Ru("heartbeat",e=>new zU(e),"PRIVATE")),sc(p2,hk,t),sc(p2,hk,"esm2017"),sc("fire-js","")}UU("");function gA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function H5(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WU=H5,q5=new Dg("auth","Firebase",H5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new fA("@firebase/auth");function HU(t,...e){N0.logLevel<=mt.WARN&&N0.warn(`Auth (${pf}): ${t}`,...e)}function Fv(t,...e){N0.logLevel<=mt.ERROR&&N0.error(`Auth (${pf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,...e){throw yA(t,...e)}function Ro(t,...e){return yA(t,...e)}function K5(t,e,n){const r=Object.assign(Object.assign({},WU()),{[e]:n});return new Dg("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return K5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q5.create(t,...e)}function We(t,e,...n){if(!t)throw yA(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fv(e),new Error(e)}function zs(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qU(){return yk()==="http:"||yk()==="https:"}function yk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qU()||A9()||"connection"in navigator)?navigator.onLine:!0}function GU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=S9()||P9()}get(){return KU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Bg(3e4,6e4);function xc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _c(t,e,n,r,i={}){return Z5(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=jg(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),G5.fetch()(Y5(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},a))})}async function Z5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZU),e);try{const i=new QU(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Qy(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qy(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Qy(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Qy(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw K5(t,f,d);eo(t,f)}}catch(i){if(i instanceof Qs)throw i;eo(t,"network-request-failed",{message:String(i)})}}async function zg(t,e,n,r,i={}){const a=await _c(t,e,n,r,i);return"mfaPendingCredential"in a&&eo(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Y5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vA(t.config,i):`${t.config.apiScheme}://${i}`}function XU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ro(this.auth,"network-request-failed")),YU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ro(t,e,r);return i.customData._tokenResponse=n,i}function vk(t){return t!==void 0&&t.enterprise!==void 0}class JU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function e7(t,e){return _c(t,"GET","/v2/recaptchaConfig",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e){return _c(t,"POST","/v1/accounts:delete",e)}async function X5(t,e){return _c(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n7(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),i=wA(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:qm(E_(i.auth_time)),issuedAtTime:qm(E_(i.iat)),expirationTime:qm(E_(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function E_(t){return Number(t)*1e3}function wA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fv("JWT malformed, contained fewer than 3 sections"),null;try{const i=L5(n);return i?JSON.parse(i):(Fv("Failed to decode base64 JWT payload"),null)}catch(i){return Fv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wk(t){const e=wA(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qs&&r7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qm(this.lastLoginAt),this.creationTime=qm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Np(t,X5(n,{idToken:r}));We(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Q5(a.providerUserInfo):[],l=o7(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new w2(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function a7(t){const e=Gn(t);await T0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q5(t){return t.map(e=>{var{providerId:n}=e,r=gA(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e){const n=await Z5(t,{},async()=>{const r=jg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=Y5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",G5.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l7(t,e){return _c(t,"POST","/v2/accounts:revokeToken",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=wk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await s7(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new ch;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(We(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ch,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Es{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=gA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new w2(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Np(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n7(this,e)}reload(){return a7(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await T0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ko(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Np(this,t7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,l,c,d,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,P=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,N=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:C,isAnonymous:$,providerData:D,stsTokenManager:S}=n;We(w&&S,e,"internal-error");const T=ch.fromJSON(this.name,S);We(typeof w=="string",e,"internal-error"),El(m,e.name),El(p,e.name),We(typeof C=="boolean",e,"internal-error"),We(typeof $=="boolean",e,"internal-error"),El(y,e.name),El(P,e.name),El(_,e.name),El(A,e.name),El(N,e.name),El(E,e.name);const O=new Es({uid:w,auth:e,email:p,emailVerified:C,displayName:m,isAnonymous:$,photoURL:P,phoneNumber:y,tenantId:_,stsTokenManager:T,createdAt:N,lastLoginAt:E});return D&&Array.isArray(D)&&(O.providerData=D.map(R=>Object.assign({},R))),A&&(O._redirectEventId=A),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ch;i.updateFromServerResponse(n);const a=new Es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await T0(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Q5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new ch;l.updateFromIdToken(r);const c=new Es({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new w2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new Map;function As(t){zs(t instanceof Function,"Expected a class definition");let e=bk.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J5.type="NONE";const xk=J5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e,n){return`firebase:${t}:${e}:${n}`}class uh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Vv(this.userKey,i.apiKey,a),this.fullPersistenceKey=Vv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uh(As(xk),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||As(xk);const o=Vv(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){const m=Es._fromJSON(e,f);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new uh(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new uh(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iD(e))return"Blackberry";if(aD(e))return"Webos";if(bA(e))return"Safari";if((e.includes("chrome/")||tD(e))&&!e.includes("edge/"))return"Chrome";if(rD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eD(t=xr()){return/firefox\//i.test(t)}function bA(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tD(t=xr()){return/crios\//i.test(t)}function nD(t=xr()){return/iemobile/i.test(t)}function rD(t=xr()){return/android/i.test(t)}function iD(t=xr()){return/blackberry/i.test(t)}function aD(t=xr()){return/webos/i.test(t)}function mb(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c7(t=xr()){var e;return mb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u7(){return N9()&&document.documentMode===10}function oD(t=xr()){return mb(t)||rD(t)||aD(t)||iD(t)||/windows phone/i.test(t)||nD(t)}function d7(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e=[]){let n;switch(t){case"Browser":n=_k(xr());break;case"Worker":n=`${_k(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e={}){return _c(t,"GET","/v2/passwordPolicy",xc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=6;class p7{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:m7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sk(this),this.idTokenSubscription=new Sk(this),this.beforeStateQueue=new h7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await uh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await X5(this,{idToken:e}),r=await Es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ko(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await T0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ko(this.app))return Promise.reject(Cs(this));const n=e?Gn(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ko(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ko(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f7(this),n=new p7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await uh.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zu(t){return Gn(t)}class Sk{constructor(e){this.auth=e,this.observer=null,this.addObserver=L9(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y7(t){pb=t}function lD(t){return pb.loadJS(t)}function v7(){return pb.recaptchaEnterpriseScript}function w7(){return pb.gapiScript}function b7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const x7="recaptcha-enterprise",_7="NO_RECAPTCHA";class S7{constructor(e){this.type=x7,this.auth=Zu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{e7(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new JU(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;vk(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(_7)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&vk(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=v7();c.length!==0&&(c+=l),lD(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Ek(t,e,n,r=!1){const i=new S7(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function b2(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ek(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ek(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t,e){const n=pA(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(A0(a,e??{}))return i;eo(i,"already-initialized")}return n.initialize({options:e})}function A7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P7(t,e,n){const r=Zu(t);We(r._canInitEmulator,r,"emulator-config-failed"),We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=cD(e),{host:o,port:l}=N7(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||T7()}function cD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N7(t){const e=cD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Ak(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:Ak(o)}}}function Ak(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function k7(t,e){return _c(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e){return zg(t,"POST","/v1/accounts:signInWithPassword",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e){return zg(t,"POST","/v1/accounts:signInWithEmailLink",xc(t,e))}async function O7(t,e){return zg(t,"POST","/v1/accounts:signInWithEmailLink",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends xA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b2(e,n,"signInWithPassword",C7);case"emailLink":return I7(e,{email:this._email,oobCode:this._password});default:eo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b2(e,r,"signUpPassword",k7);case"emailLink":return O7(e,{idToken:n,email:this._email,oobCode:this._password});default:eo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t,e){return zg(t,"POST","/v1/accounts:signInWithIdp",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7="http://localhost";class $u extends xA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $u(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):eo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=gA(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $u(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return dh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dh(e,n)}buildRequest(){const e={requestUri:M7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L7(t){const e=Nm(Tm(t)).link,n=e?Nm(Tm(e)).deep_link_id:null,r=Nm(Tm(t)).deep_link_id;return(r?Nm(Tm(r)).link:null)||r||n||e||t}class _A{constructor(e){var n,r,i,a,o,l;const c=Nm(Tm(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,m=R7((i=c.mode)!==null&&i!==void 0?i:null);We(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=L7(e);try{return new _A(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.providerId=gf.PROVIDER_ID}static credential(e,n){return Tp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_A.parseLink(n);return We(r,"argument-error"),Tp._fromEmailAndCode(e,r.code,r.tenantId)}}gf.PROVIDER_ID="password";gf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends uD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Fg{constructor(){super("facebook.com")}static credential(e){return $u._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.FACEBOOK_SIGN_IN_METHOD="facebook.com";$l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Fg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $u._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dl.credential(n,r)}catch{return null}}}Dl.GOOGLE_SIGN_IN_METHOD="google.com";Dl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Fg{constructor(){super("github.com")}static credential(e){return $u._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jl.credential(e.oauthAccessToken)}catch{return null}}}jl.GITHUB_SIGN_IN_METHOD="github.com";jl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Fg{constructor(){super("twitter.com")}static credential(e,n){return $u._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bl.credentialFromTaggedObject(e)}static credentialFromError(e){return Bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bl.credential(n,r)}catch{return null}}}Bl.TWITTER_SIGN_IN_METHOD="twitter.com";Bl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(t,e){return zg(t,"POST","/v1/accounts:signUp",xc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Es._fromIdTokenResponse(e,r,i),o=Pk(r);return new Du({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Pk(r);return new Du({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Pk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends Qs{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,k0.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new k0(e,n,r,i)}}function dD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?k0._fromErrorAndOperation(t,a,e,r):a})}async function D7(t,e,n=!1){const r=await Np(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Du._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e,n=!1){const{auth:r}=t;if(ko(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const a=await Np(t,dD(r,i,e,t),n);We(a.idToken,r,"internal-error");const o=wA(a.idToken);We(o,r,"internal-error");const{sub:l}=o;return We(t.uid===l,r,"user-mismatch"),Du._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&eo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e,n=!1){if(ko(t.app))return Promise.reject(Cs(t));const r="signIn",i=await dD(t,r,e),a=await Du._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function B7(t,e){return hD(Zu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t){const e=Zu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SA(t,e,n){if(ko(t.app))return Promise.reject(Cs(t));const r=Zu(t),o=await b2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$7).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fD(t),c}),l=await Du._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function z7(t,e,n){return ko(t.app)?Promise.reject(Cs(t)):B7(Gn(t),gf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t,e){return Gn(t).setPersistence(e)}function V7(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function U7(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function W7(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}function mD(t){return Gn(t).signOut()}const C0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(C0,"1"),this.storage.removeItem(C0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(){const t=xr();return bA(t)||mb(t)}const q7=1e3,K7=10;class gD extends pD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=H7()&&d7(),this.fallbackToPolling=oD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);u7()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,K7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gD.type="LOCAL";const yD=gD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD extends pD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vD.type="SESSION";const wD=vD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await G7(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=EA("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(f),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(){return window}function Y7(t){Lo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return typeof Lo().WorkerGlobalScope<"u"&&typeof Lo().importScripts=="function"}async function X7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J7(){return bD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="firebaseLocalStorageDb",eW=1,I0="firebaseLocalStorage",_D="fbase_key";class Vg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yb(t,e){return t.transaction([I0],e?"readwrite":"readonly").objectStore(I0)}function tW(){const t=indexedDB.deleteDatabase(xD);return new Vg(t).toPromise()}function x2(){const t=indexedDB.open(xD,eW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(I0,{keyPath:_D})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(I0)?e(r):(r.close(),await tW(),e(await x2()))})})}async function Nk(t,e,n){const r=yb(t,!0).put({[_D]:e,value:n});return new Vg(r).toPromise()}async function nW(t,e){const n=yb(t,!1).get(e),r=await new Vg(n).toPromise();return r===void 0?null:r.value}function Tk(t,e){const n=yb(t,!0).delete(e);return new Vg(n).toPromise()}const rW=800,iW=3;class SD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gb._getInstance(J7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X7(),!this.activeServiceWorker)return;this.sender=new Z7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x2();return await Nk(e,C0,"1"),await Tk(e,C0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=yb(i,!1).getAll();return new Vg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SD.type="LOCAL";const aW=SD;new Bg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t,e){return e?As(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends xA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sW(t){return hD(t.auth,new AA(t),t.bypassAuthState)}function lW(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),j7(n,new AA(t),t.bypassAuthState)}async function cW(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),D7(n,new AA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sW;case"linkViaPopup":case"linkViaRedirect":return cW;case"reauthViaPopup":case"reauthViaRedirect":return lW;default:eo(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=new Bg(2e3,1e4);class Xd extends ED{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Xd.currentPopupAction&&Xd.currentPopupAction.cancel(),Xd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=EA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ro(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ro(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ro(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uW.get())};e()}}Xd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="pendingRedirect",Uv=new Map;class hW extends ED{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uv.get(this.auth._key());if(!e){try{const r=await fW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uv.set(this.auth._key(),e)}return this.bypassAuthState||Uv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fW(t,e){const n=gW(e),r=pW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mW(t,e){Uv.set(t._key(),e)}function pW(t){return As(t._redirectPersistence)}function gW(t){return Vv(dW,t.config.apiKey,t.name)}async function yW(t,e,n=!1){if(ko(t.app))return Promise.reject(Cs(t));const r=Zu(t),i=oW(r,e),o=await new hW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=10*60*1e3;class wW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ro(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vW&&this.cachedEventUids.clear(),this.cachedEventUids.has(kk(e))}saveEventToCache(e){this.cachedEventUids.add(kk(e)),this.lastProcessedEventTime=Date.now()}}function kk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,e={}){return _c(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SW=/^https?/;async function EW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xW(t);for(const n of e)try{if(AW(n))return}catch{}eo(t,"unauthorized-domain")}function AW(t){const e=v2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SW.test(n))return!1;if(_W.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=new Bg(3e4,6e4);function Ck(){const t=Lo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NW(t){return new Promise((e,n)=>{var r,i,a;function o(){Ck(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ck(),n(Ro(t,"network-request-failed"))},timeout:PW.get()})}if(!((i=(r=Lo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Lo().gapi)===null||a===void 0)&&a.load)o();else{const l=b7("iframefcb");return Lo()[l]=()=>{gapi.load?o():n(Ro(t,"network-request-failed"))},lD(`${w7()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Wv=null,e})}let Wv=null;function TW(t){return Wv=Wv||NW(t),Wv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=new Bg(5e3,15e3),CW="__/auth/iframe",IW="emulator/auth/iframe",OW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RW(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vA(e,IW):`https://${t.config.authDomain}/${CW}`,r={apiKey:e.apiKey,appName:t.name,v:pf},i=MW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${jg(r).slice(1)}`}async function LW(t){const e=await TW(t),n=Lo().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:RW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OW,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ro(t,"network-request-failed"),l=Lo().setTimeout(()=>{a(o)},kW.get());function c(){Lo().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DW=500,jW=600,BW="_blank",zW="http://localhost";class Ik{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FW(t,e,n,r=DW,i=jW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},$W),{width:r.toString(),height:i.toString(),top:a,left:o}),d=xr().toLowerCase();n&&(l=tD(d)?BW:n),eD(d)&&(e=e||zW,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[y,P])=>`${p}${y}=${P},`,"");if(c7(d)&&l!=="_self")return VW(e||"",l),new Ik(null);const m=window.open(e||"",l,f);We(m,t,"popup-blocked");try{m.focus()}catch{}return new Ik(m)}function VW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="__/auth/handler",WW="emulator/auth/handler",HW=encodeURIComponent("fac");async function Ok(t,e,n,r,i,a){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pf,eventId:i};if(e instanceof uD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",R9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries(a||{}))o[f]=m}if(e instanceof Fg){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${HW}=${encodeURIComponent(c)}`:"";return`${qW(t)}?${jg(l).slice(1)}${d}`}function qW({config:t}){return t.emulator?vA(t,WW):`https://${t.authDomain}/${UW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="webStorageSupport";class KW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wD,this._completeRedirectFn=yW,this._overrideRedirectResult=mW}async _openPopup(e,n,r,i){var a;zs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Ok(e,n,r,v2(),i);return FW(e,o,EA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Ok(e,n,r,v2(),i);return Y7(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(zs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LW(e),r=new wW(e);return n.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A_,{type:A_},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[A_];o!==void 0&&n(!!o),eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oD()||bA()||mb()}}const GW=KW;var Mk="@firebase/auth",Rk="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XW(t){Nh(new Ru("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sD(t)},d=new g7(r,i,a,c);return A7(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nh(new Ru("auth-internal",e=>{const n=Zu(e.getProvider("auth").getImmediate());return(r=>new ZW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sc(Mk,Rk,YW(t)),sc(Mk,Rk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=5*60,JW=j5("authIdTokenMaxAge")||QW;let Lk=null;const eH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JW)return;const i=n==null?void 0:n.token;Lk!==i&&(Lk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tH(t=V5()){const e=pA(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E7(t,{popupRedirectResolver:GW,persistence:[aW,yD,wD]}),r=j5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=eH(a.toString());U7(n,o,()=>o(n.currentUser)),V7(n,l=>o(l))}}const i=$5("auth");return i&&P7(n,`http://${i}`),n}function nH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}y7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ro("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",nH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XW("Browser");var $k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Au,PD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function O(){}O.prototype=T.prototype,S.D=T.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(R,j,U){for(var V=Array(arguments.length-2),G=2;G<arguments.length;G++)V[G-2]=arguments[G];return T.prototype[j].apply(R,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,O){O||(O=0);var R=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)R[j]=T.charCodeAt(O++)|T.charCodeAt(O++)<<8|T.charCodeAt(O++)<<16|T.charCodeAt(O++)<<24;else for(j=0;16>j;++j)R[j]=T[O++]|T[O++]<<8|T[O++]<<16|T[O++]<<24;T=S.g[0],O=S.g[1],j=S.g[2];var U=S.g[3],V=T+(U^O&(j^U))+R[0]+3614090360&4294967295;T=O+(V<<7&4294967295|V>>>25),V=U+(j^T&(O^j))+R[1]+3905402710&4294967295,U=T+(V<<12&4294967295|V>>>20),V=j+(O^U&(T^O))+R[2]+606105819&4294967295,j=U+(V<<17&4294967295|V>>>15),V=O+(T^j&(U^T))+R[3]+3250441966&4294967295,O=j+(V<<22&4294967295|V>>>10),V=T+(U^O&(j^U))+R[4]+4118548399&4294967295,T=O+(V<<7&4294967295|V>>>25),V=U+(j^T&(O^j))+R[5]+1200080426&4294967295,U=T+(V<<12&4294967295|V>>>20),V=j+(O^U&(T^O))+R[6]+2821735955&4294967295,j=U+(V<<17&4294967295|V>>>15),V=O+(T^j&(U^T))+R[7]+4249261313&4294967295,O=j+(V<<22&4294967295|V>>>10),V=T+(U^O&(j^U))+R[8]+1770035416&4294967295,T=O+(V<<7&4294967295|V>>>25),V=U+(j^T&(O^j))+R[9]+2336552879&4294967295,U=T+(V<<12&4294967295|V>>>20),V=j+(O^U&(T^O))+R[10]+4294925233&4294967295,j=U+(V<<17&4294967295|V>>>15),V=O+(T^j&(U^T))+R[11]+2304563134&4294967295,O=j+(V<<22&4294967295|V>>>10),V=T+(U^O&(j^U))+R[12]+1804603682&4294967295,T=O+(V<<7&4294967295|V>>>25),V=U+(j^T&(O^j))+R[13]+4254626195&4294967295,U=T+(V<<12&4294967295|V>>>20),V=j+(O^U&(T^O))+R[14]+2792965006&4294967295,j=U+(V<<17&4294967295|V>>>15),V=O+(T^j&(U^T))+R[15]+1236535329&4294967295,O=j+(V<<22&4294967295|V>>>10),V=T+(j^U&(O^j))+R[1]+4129170786&4294967295,T=O+(V<<5&4294967295|V>>>27),V=U+(O^j&(T^O))+R[6]+3225465664&4294967295,U=T+(V<<9&4294967295|V>>>23),V=j+(T^O&(U^T))+R[11]+643717713&4294967295,j=U+(V<<14&4294967295|V>>>18),V=O+(U^T&(j^U))+R[0]+3921069994&4294967295,O=j+(V<<20&4294967295|V>>>12),V=T+(j^U&(O^j))+R[5]+3593408605&4294967295,T=O+(V<<5&4294967295|V>>>27),V=U+(O^j&(T^O))+R[10]+38016083&4294967295,U=T+(V<<9&4294967295|V>>>23),V=j+(T^O&(U^T))+R[15]+3634488961&4294967295,j=U+(V<<14&4294967295|V>>>18),V=O+(U^T&(j^U))+R[4]+3889429448&4294967295,O=j+(V<<20&4294967295|V>>>12),V=T+(j^U&(O^j))+R[9]+568446438&4294967295,T=O+(V<<5&4294967295|V>>>27),V=U+(O^j&(T^O))+R[14]+3275163606&4294967295,U=T+(V<<9&4294967295|V>>>23),V=j+(T^O&(U^T))+R[3]+4107603335&4294967295,j=U+(V<<14&4294967295|V>>>18),V=O+(U^T&(j^U))+R[8]+1163531501&4294967295,O=j+(V<<20&4294967295|V>>>12),V=T+(j^U&(O^j))+R[13]+2850285829&4294967295,T=O+(V<<5&4294967295|V>>>27),V=U+(O^j&(T^O))+R[2]+4243563512&4294967295,U=T+(V<<9&4294967295|V>>>23),V=j+(T^O&(U^T))+R[7]+1735328473&4294967295,j=U+(V<<14&4294967295|V>>>18),V=O+(U^T&(j^U))+R[12]+2368359562&4294967295,O=j+(V<<20&4294967295|V>>>12),V=T+(O^j^U)+R[5]+4294588738&4294967295,T=O+(V<<4&4294967295|V>>>28),V=U+(T^O^j)+R[8]+2272392833&4294967295,U=T+(V<<11&4294967295|V>>>21),V=j+(U^T^O)+R[11]+1839030562&4294967295,j=U+(V<<16&4294967295|V>>>16),V=O+(j^U^T)+R[14]+4259657740&4294967295,O=j+(V<<23&4294967295|V>>>9),V=T+(O^j^U)+R[1]+2763975236&4294967295,T=O+(V<<4&4294967295|V>>>28),V=U+(T^O^j)+R[4]+1272893353&4294967295,U=T+(V<<11&4294967295|V>>>21),V=j+(U^T^O)+R[7]+4139469664&4294967295,j=U+(V<<16&4294967295|V>>>16),V=O+(j^U^T)+R[10]+3200236656&4294967295,O=j+(V<<23&4294967295|V>>>9),V=T+(O^j^U)+R[13]+681279174&4294967295,T=O+(V<<4&4294967295|V>>>28),V=U+(T^O^j)+R[0]+3936430074&4294967295,U=T+(V<<11&4294967295|V>>>21),V=j+(U^T^O)+R[3]+3572445317&4294967295,j=U+(V<<16&4294967295|V>>>16),V=O+(j^U^T)+R[6]+76029189&4294967295,O=j+(V<<23&4294967295|V>>>9),V=T+(O^j^U)+R[9]+3654602809&4294967295,T=O+(V<<4&4294967295|V>>>28),V=U+(T^O^j)+R[12]+3873151461&4294967295,U=T+(V<<11&4294967295|V>>>21),V=j+(U^T^O)+R[15]+530742520&4294967295,j=U+(V<<16&4294967295|V>>>16),V=O+(j^U^T)+R[2]+3299628645&4294967295,O=j+(V<<23&4294967295|V>>>9),V=T+(j^(O|~U))+R[0]+4096336452&4294967295,T=O+(V<<6&4294967295|V>>>26),V=U+(O^(T|~j))+R[7]+1126891415&4294967295,U=T+(V<<10&4294967295|V>>>22),V=j+(T^(U|~O))+R[14]+2878612391&4294967295,j=U+(V<<15&4294967295|V>>>17),V=O+(U^(j|~T))+R[5]+4237533241&4294967295,O=j+(V<<21&4294967295|V>>>11),V=T+(j^(O|~U))+R[12]+1700485571&4294967295,T=O+(V<<6&4294967295|V>>>26),V=U+(O^(T|~j))+R[3]+2399980690&4294967295,U=T+(V<<10&4294967295|V>>>22),V=j+(T^(U|~O))+R[10]+4293915773&4294967295,j=U+(V<<15&4294967295|V>>>17),V=O+(U^(j|~T))+R[1]+2240044497&4294967295,O=j+(V<<21&4294967295|V>>>11),V=T+(j^(O|~U))+R[8]+1873313359&4294967295,T=O+(V<<6&4294967295|V>>>26),V=U+(O^(T|~j))+R[15]+4264355552&4294967295,U=T+(V<<10&4294967295|V>>>22),V=j+(T^(U|~O))+R[6]+2734768916&4294967295,j=U+(V<<15&4294967295|V>>>17),V=O+(U^(j|~T))+R[13]+1309151649&4294967295,O=j+(V<<21&4294967295|V>>>11),V=T+(j^(O|~U))+R[4]+4149444226&4294967295,T=O+(V<<6&4294967295|V>>>26),V=U+(O^(T|~j))+R[11]+3174756917&4294967295,U=T+(V<<10&4294967295|V>>>22),V=j+(T^(U|~O))+R[2]+718787259&4294967295,j=U+(V<<15&4294967295|V>>>17),V=O+(U^(j|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+U&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var O=T-this.blockSize,R=this.B,j=this.h,U=0;U<T;){if(j==0)for(;U<=O;)i(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<T;)if(R[j++]=S.charCodeAt(U++),j==this.blockSize){i(this,R),j=0;break}}else for(;U<T;)if(R[j++]=S[U++],j==this.blockSize){i(this,R),j=0;break}}this.h=j,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var O=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=O&255,O/=256;for(this.u(S),S=Array(16),T=O=0;4>T;++T)for(var R=0;32>R;R+=8)S[O++]=this.g[T]>>>R&255;return S};function a(S,T){var O=l;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=T(S)}function o(S,T){this.h=T;for(var O=[],R=!0,j=S.length-1;0<=j;j--){var U=S[j]|0;R&&U==T||(O[j]=U,R=!1)}this.g=O}var l={};function c(S){return-128<=S&&128>S?a(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return A(d(-S));for(var T=[],O=1,R=0;S>=O;R++)T[R]=S/O|0,O*=4294967296;return new o(T,0)}function f(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return A(f(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(T,8)),R=m,j=0;j<S.length;j+=8){var U=Math.min(8,S.length-j),V=parseInt(S.substring(j,j+U),T);8>U?(U=d(Math.pow(T,U)),R=R.j(U).add(d(V))):(R=R.j(O),R=R.add(d(V)))}return R}var m=c(0),p=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-A(this).m();for(var S=0,T=1,O=0;O<this.g.length;O++){var R=this.i(O);S+=(0<=R?R:4294967296+R)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(_(this))return"-"+A(this).toString(S);for(var T=d(Math.pow(S,6)),O=this,R="";;){var j=C(O,T).g;O=N(O,j.j(T));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=j,P(O))return U+R;for(;6>U.length;)U="0"+U;R=U+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=N(this,S),_(S)?-1:P(S)?0:1};function A(S){for(var T=S.g.length,O=[],R=0;R<T;R++)O[R]=~S.g[R];return new o(O,~S.h).add(p)}t.abs=function(){return _(this)?A(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],R=0,j=0;j<=T;j++){var U=R+(this.i(j)&65535)+(S.i(j)&65535),V=(U>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);R=V>>>16,U&=65535,V&=65535,O[j]=V<<16|U}return new o(O,O[O.length-1]&-2147483648?-1:0)};function N(S,T){return S.add(A(T))}t.j=function(S){if(P(this)||P(S))return m;if(_(this))return _(S)?A(this).j(A(S)):A(A(this).j(S));if(_(S))return A(this.j(A(S)));if(0>this.l(y)&&0>S.l(y))return d(this.m()*S.m());for(var T=this.g.length+S.g.length,O=[],R=0;R<2*T;R++)O[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<S.g.length;j++){var U=this.i(R)>>>16,V=this.i(R)&65535,G=S.i(j)>>>16,X=S.i(j)&65535;O[2*R+2*j]+=V*X,E(O,2*R+2*j),O[2*R+2*j+1]+=U*X,E(O,2*R+2*j+1),O[2*R+2*j+1]+=V*G,E(O,2*R+2*j+1),O[2*R+2*j+2]+=U*G,E(O,2*R+2*j+2)}for(R=0;R<T;R++)O[R]=O[2*R+1]<<16|O[2*R];for(R=T;R<2*T;R++)O[R]=0;return new o(O,0)};function E(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function w(S,T){this.g=S,this.h=T}function C(S,T){if(P(T))throw Error("division by zero");if(P(S))return new w(m,m);if(_(S))return T=C(A(S),T),new w(A(T.g),A(T.h));if(_(T))return T=C(S,A(T)),new w(A(T.g),T.h);if(30<S.g.length){if(_(S)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var O=p,R=T;0>=R.l(S);)O=$(O),R=$(R);var j=D(O,1),U=D(R,1);for(R=D(R,2),O=D(O,2);!P(R);){var V=U.add(R);0>=V.l(S)&&(j=j.add(O),U=V),R=D(R,1),O=D(O,1)}return T=N(S,j.j(T)),new w(j,T)}for(j=m;0<=S.l(T);){for(O=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(O)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),U=d(O),V=U.j(T);_(V)||0<V.l(S);)O-=R,U=d(O),V=U.j(T);P(U)&&(U=p),j=j.add(U),S=N(S,V)}return new w(j,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],R=0;R<T;R++)O[R]=this.i(R)&S.i(R);return new o(O,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],R=0;R<T;R++)O[R]=this.i(R)|S.i(R);return new o(O,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),O=[],R=0;R<T;R++)O[R]=this.i(R)^S.i(R);return new o(O,this.h^S.h)};function $(S){for(var T=S.g.length+1,O=[],R=0;R<T;R++)O[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(O,S.h)}function D(S,T){var O=T>>5;T%=32;for(var R=S.g.length-O,j=[],U=0;U<R;U++)j[U]=0<T?S.i(U+O)>>>T|S.i(U+O+1)<<32-T:S.i(U+O);return new o(j,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Au=o}).apply(typeof $k<"u"?$k:typeof self<"u"?self:typeof window<"u"?window:{});var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ND,TD,km,kD,Hv,_2,CD,ID,OD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,M,F){return g==Array.prototype||g==Object.prototype||(g[M]=F.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jy=="object"&&Jy];for(var M=0;M<g.length;++M){var F=g[M];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(g,M){if(M)e:{var F=r;g=g.split(".");for(var q=0;q<g.length-1;q++){var ne=g[q];if(!(ne in F))break e;F=F[ne]}g=g[g.length-1],q=F[g],M=M(q),M!=q&&M!=null&&e(F,g,{configurable:!0,writable:!0,value:M})}}function a(g,M){g instanceof String&&(g+="");var F=0,q=!1,ne={next:function(){if(!q&&F<g.length){var oe=F++;return{value:M(oe,g[oe]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(g){return g||function(){return a(this,function(M,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var M=typeof g;return M=M!="object"?M:g?Array.isArray(g)?"array":M:"null",M=="array"||M=="object"&&typeof g.length=="number"}function d(g){var M=typeof g;return M=="object"&&g!=null||M=="function"}function f(g,M,F){return g.call.apply(g.bind,arguments)}function m(g,M,F){if(!g)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,q),g.apply(M,ne)}}return function(){return g.apply(M,arguments)}}function p(g,M,F){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function y(g,M){var F=Array.prototype.slice.call(arguments,1);return function(){var q=F.slice();return q.push.apply(q,arguments),g.apply(this,q)}}function P(g,M){function F(){}F.prototype=M.prototype,g.aa=M.prototype,g.prototype=new F,g.prototype.constructor=g,g.Qb=function(q,ne,oe){for(var Se=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Se[wt-2]=arguments[wt];return M.prototype[ne].apply(q,Se)}}function _(g){const M=g.length;if(0<M){const F=Array(M);for(let q=0;q<M;q++)F[q]=g[q];return F}return[]}function A(g,M){for(let F=1;F<arguments.length;F++){const q=arguments[F];if(c(q)){const ne=g.length||0,oe=q.length||0;g.length=ne+oe;for(let Se=0;Se<oe;Se++)g[ne+Se]=q[Se]}else g.push(q)}}class N{constructor(M,F){this.i=M,this.j=F,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function E(g){return/^[\s\xa0]*$/.test(g)}function w(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function C(g){return C[" "](g),g}C[" "]=function(){};var $=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(g,M,F){for(const q in g)M.call(F,g[q],q,g)}function S(g,M){for(const F in g)M.call(void 0,g[F],F,g)}function T(g){const M={};for(const F in g)M[F]=g[F];return M}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(g,M){let F,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for(F in q)g[F]=q[F];for(let oe=0;oe<O.length;oe++)F=O[oe],Object.prototype.hasOwnProperty.call(q,F)&&(g[F]=q[F])}}function j(g){var M=1;g=g.split(":");const F=[];for(;0<M&&g.length;)F.push(g.shift()),M--;return g.length&&F.push(g.join(":")),F}function U(g){l.setTimeout(()=>{throw g},0)}function V(){var g=le;let M=null;return g.g&&(M=g.g,g.g=g.g.next,g.g||(g.h=null),M.next=null),M}class G{constructor(){this.h=this.g=null}add(M,F){const q=X.get();q.set(M,F),this.h?this.h.next=q:this.g=q,this.h=q}}var X=new N(()=>new ee,g=>g.reset());class ee{constructor(){this.next=this.g=this.h=null}set(M,F){this.h=M,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let te,J=!1,le=new G,Y=()=>{const g=l.Promise.resolve(void 0);te=()=>{g.then(he)}};var he=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(F){U(F)}var M=X;M.j(g),100>M.h&&(M.h++,g.next=M.g,M.g=g)}J=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(g,M){this.type=g,this.g=this.target=M,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,M=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};l.addEventListener("test",F,M),l.removeEventListener("test",F,M)}catch{}return g}();function Ee(g,M){if(fe.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var F=this.type=g.type,q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=M,M=g.relatedTarget){if($){e:{try{C(M.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(M=null)}}else F=="mouseover"?M=g.fromElement:F=="mouseout"&&(M=g.toElement);this.relatedTarget=M,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ge[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ee.aa.h.call(this)}}P(Ee,fe);var ge={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function me(g,M,F,q,ne){this.listener=g,this.proxy=null,this.src=M,this.type=F,this.capture=!!q,this.ha=ne,this.key=++Oe,this.da=this.fa=!1}function Ae(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function De(g){this.src=g,this.g={},this.h=0}De.prototype.add=function(g,M,F,q,ne){var oe=g.toString();g=this.g[oe],g||(g=this.g[oe]=[],this.h++);var Se=tt(g,M,q,ne);return-1<Se?(M=g[Se],F||(M.fa=!1)):(M=new me(M,this.src,oe,!!q,ne),M.fa=F,g.push(M)),M};function ue(g,M){var F=M.type;if(F in g.g){var q=g.g[F],ne=Array.prototype.indexOf.call(q,M,void 0),oe;(oe=0<=ne)&&Array.prototype.splice.call(q,ne,1),oe&&(Ae(M),g.g[F].length==0&&(delete g.g[F],g.h--))}}function tt(g,M,F,q){for(var ne=0;ne<g.length;++ne){var oe=g[ne];if(!oe.da&&oe.listener==M&&oe.capture==!!F&&oe.ha==q)return ne}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Ot={};function nt(g,M,F,q,ne){if(q&&q.once)return dn(g,M,F,q,ne);if(Array.isArray(M)){for(var oe=0;oe<M.length;oe++)nt(g,M[oe],F,q,ne);return null}return F=Qn(F),g&&g[ye]?g.K(M,F,d(q)?!!q.capture:!!q,ne):Mt(g,M,F,!1,q,ne)}function Mt(g,M,F,q,ne,oe){if(!M)throw Error("Invalid event type");var Se=d(ne)?!!ne.capture:!!ne,wt=wn(g);if(wt||(g[He]=wt=new De(g)),F=wt.add(M,F,q,Se,oe),F.proxy)return F;if(q=Yn(),F.proxy=q,q.src=g,q.listener=F,g.addEventListener)Ne||(ne=Se),ne===void 0&&(ne=!1),g.addEventListener(M.toString(),q,ne);else if(g.attachEvent)g.attachEvent(Qr(M.toString()),q);else if(g.addListener&&g.removeListener)g.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Yn(){function g(F){return M.call(g.src,g.listener,F)}const M=Ze;return g}function dn(g,M,F,q,ne){if(Array.isArray(M)){for(var oe=0;oe<M.length;oe++)dn(g,M[oe],F,q,ne);return null}return F=Qn(F),g&&g[ye]?g.L(M,F,d(q)?!!q.capture:!!q,ne):Mt(g,M,F,!0,q,ne)}function Xn(g,M,F,q,ne){if(Array.isArray(M))for(var oe=0;oe<M.length;oe++)Xn(g,M[oe],F,q,ne);else q=d(q)?!!q.capture:!!q,F=Qn(F),g&&g[ye]?(g=g.i,M=String(M).toString(),M in g.g&&(oe=g.g[M],F=tt(oe,F,q,ne),-1<F&&(Ae(oe[F]),Array.prototype.splice.call(oe,F,1),oe.length==0&&(delete g.g[M],g.h--)))):g&&(g=wn(g))&&(M=g.g[M.toString()],g=-1,M&&(g=tt(M,F,q,ne)),(F=-1<g?M[g]:null)&&_r(F))}function _r(g){if(typeof g!="number"&&g&&!g.da){var M=g.src;if(M&&M[ye])ue(M.i,g);else{var F=g.type,q=g.proxy;M.removeEventListener?M.removeEventListener(F,q,g.capture):M.detachEvent?M.detachEvent(Qr(F),q):M.addListener&&M.removeListener&&M.removeListener(q),(F=wn(M))?(ue(F,g),F.h==0&&(F.src=null,M[He]=null)):Ae(g)}}}function Qr(g){return g in Ot?Ot[g]:Ot[g]="on"+g}function Ze(g,M){if(g.da)g=!0;else{M=new Ee(M,this);var F=g.listener,q=g.ha||g.src;g.fa&&_r(g),g=F.call(q,M)}return g}function wn(g){return g=g[He],g instanceof De?g:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(g){return typeof g=="function"?g:(g[hr]||(g[hr]=function(M){return g.handleEvent(M)}),g[hr])}function at(){pe.call(this),this.i=new De(this),this.M=this,this.F=null}P(at,pe),at.prototype[ye]=!0,at.prototype.removeEventListener=function(g,M,F,q){Xn(this,g,M,F,q)};function ht(g,M){var F,q=g.F;if(q)for(F=[];q;q=q.F)F.push(q);if(g=g.M,q=M.type||M,typeof M=="string")M=new fe(M,g);else if(M instanceof fe)M.target=M.target||g;else{var ne=M;M=new fe(q,g),R(M,ne)}if(ne=!0,F)for(var oe=F.length-1;0<=oe;oe--){var Se=M.g=F[oe];ne=lo(Se,q,!0,M)&&ne}if(Se=M.g=g,ne=lo(Se,q,!0,M)&&ne,ne=lo(Se,q,!1,M)&&ne,F)for(oe=0;oe<F.length;oe++)Se=M.g=F[oe],ne=lo(Se,q,!1,M)&&ne}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var g=this.i,M;for(M in g.g){for(var F=g.g[M],q=0;q<F.length;q++)Ae(F[q]);delete g.g[M],g.h--}}this.F=null},at.prototype.K=function(g,M,F,q){return this.i.add(String(g),M,!1,F,q)},at.prototype.L=function(g,M,F,q){return this.i.add(String(g),M,!0,F,q)};function lo(g,M,F,q){if(M=g.i.g[String(M)],!M)return!0;M=M.concat();for(var ne=!0,oe=0;oe<M.length;++oe){var Se=M[oe];if(Se&&!Se.da&&Se.capture==F){var wt=Se.listener,xn=Se.ha||Se.src;Se.fa&&ue(g.i,Se),ne=wt.call(xn,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function nl(g,M,F){if(typeof g=="function")F&&(g=p(g,F));else if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:l.setTimeout(g,M||0)}function Aa(g){g.g=nl(()=>{g.g=null,g.i&&(g.i=!1,Aa(g))},g.l);const M=g.h;g.h=null,g.m.apply(null,M)}class Jn extends pe{constructor(M,F){super(),this.m=M,this.l=F,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Aa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(g){pe.call(this),this.h=g,this.g={}}P(co,pe);var Yo=[];function rl(g){D(g.g,function(M,F){this.g.hasOwnProperty(F)&&_r(M)},g),g.g={}}co.prototype.N=function(){co.aa.N.call(this),rl(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=l.JSON.stringify,Qo=l.JSON.parse,Uf=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function kc(){}kc.prototype.h=null;function Cc(g){return g.h||(g.h=g.i())}function fi(){}var uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ic(){fe.call(this,"d")}P(Ic,fe);function Oc(){fe.call(this,"c")}P(Oc,fe);var Pa={},ad=null;function ho(){return ad=ad||new at}Pa.La="serverreachability";function od(g){fe.call(this,Pa.La,g)}P(od,fe);function Na(g){const M=ho();ht(M,new od(M))}Pa.STAT_EVENT="statevent";function sd(g,M){fe.call(this,Pa.STAT_EVENT,g),this.stat=M}P(sd,fe);function zn(g){const M=ho();ht(M,new sd(M,g))}Pa.Ma="timingevent";function ld(g,M){fe.call(this,Pa.Ma,g),this.size=M}P(ld,fe);function Ta(g,M){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},M)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Le(g,M,F,q,ne,oe){g.info(function(){if(g.g)if(oe)for(var Se="",wt=oe.split("&"),xn=0;xn<wt.length;xn++){var Fe=wt[xn].split("=");if(1<Fe.length){var Qt=Fe[0];Fe=Fe[1];var In=Qt.split("_");Se=2<=In.length&&In[1]=="type"?Se+(Qt+"="+Fe+"&"):Se+(Qt+"=redacted&")}}else Se=null;else Se=oe;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+M+`
`+F+`
`+Se})}function cd(g,M,F,q,ne,oe,Se){g.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+M+`
`+F+`
`+oe+" "+Se})}function ka(g,M,F,q){g.info(function(){return"XMLHTTP TEXT ("+M+"): "+At(g,F)+(q?" "+q:"")})}function ud(g,M){g.info(function(){return"TIMEOUT: "+M})}er.prototype.info=function(){};function At(g,M){if(!g.g)return M;if(!M)return null;try{var F=JSON.parse(M);if(F){for(g=0;g<F.length;g++)if(Array.isArray(F[g])){var q=F[g];if(!(2>q.length)){var ne=q[1];if(Array.isArray(ne)&&!(1>ne.length)){var oe=ne[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Se=1;Se<ne.length;Se++)ne[Se]=""}}}}return Xo(F)}catch{return M}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vi;function Jo(){}P(Jo,kc),Jo.prototype.g=function(){return new XMLHttpRequest},Jo.prototype.i=function(){return{}},Vi=new Jo;function Ui(g,M,F,q){this.j=g,this.i=M,this.l=F,this.R=q||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dd}function dd(){this.i=null,this.g="",this.h=!1}var il={},Ca={};function es(g,M,F){g.L=1,g.v=qi(Jr(M)),g.m=F,g.P=!0,ts(g,null)}function ts(g,M){g.F=Date.now(),al(g),g.A=Jr(g.v);var F=g.A,q=g.R;Array.isArray(q)||(q=[String(q)]),qe(F.i,"t",q),g.C=0,F=g.j.J,g.h=new dd,g.g=qc(g.j,F?M:null,!g.m),0<g.O&&(g.M=new Jn(p(g.Y,g,g.g),g.O)),M=g.U,F=g.g,q=g.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Yo[0]=ne.toString()),ne=Yo);for(var oe=0;oe<ne.length;oe++){var Se=nt(F,ne[oe],q||M.handleEvent,!1,M.h||M);if(!Se)break;M.g[Se.key]=Se}M=g.H?T(g.H):{},g.m?(g.u||(g.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,M)):(g.u="GET",g.g.ea(g.A,g.u,null,M)),Na(),Le(g.i,g.u,g.A,g.l,g.R,g.m)}Ui.prototype.ca=function(g){g=g.target;const M=this.M;M&&Dr(g)==3?M.j():this.Y(g)},Ui.prototype.Y=function(g){try{if(g==this.g)e:{const In=Dr(this.g);var M=this.g.Ba();const tr=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||yo(this.g)))){this.J||In!=4||M==7||(M==8||0>=tr?Na(3):Na(2)),ol(this);var F=this.g.Z();this.X=F;t:if(Rt(this)){var q=yo(this.g);g="";var ne=q.length,oe=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),mo(this);var Se="";break t}this.h.i=new l.TextDecoder}for(M=0;M<ne;M++)this.h.h=!0,g+=this.h.i.decode(q[M],{stream:!(oe&&M==ne-1)});q.length=0,this.h.g+=g,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=F==200,cd(this.i,this.u,this.A,this.l,this.R,In,F),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,xn=this.g;if((wt=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(wt)){var Fe=wt;break t}}Fe=null}if(F=Fe)ka(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,F);else{this.o=!1,this.s=3,zn(12),mi(this),mo(this);break e}}if(this.P){F=!0;let Sr;for(;!this.J&&this.C<Se.length;)if(Sr=Wf(this,Se),Sr==Ca){In==4&&(this.s=4,zn(14),F=!1),ka(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==il){this.s=4,zn(15),ka(this.i,this.l,Se,"[Invalid Chunk]"),F=!1;break}else ka(this.i,this.l,Sr,null),Ia(this,Sr);if(Rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Se.length!=0||this.h.h||(this.s=1,zn(16),F=!1),this.o=this.o&&F,!F)ka(this.i,this.l,Se,"[Invalid Chunked Response]"),mi(this),mo(this);else if(0<Se.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),os(Qt),Qt.M=!0,zn(11))}}else ka(this.i,this.l,Se,null),Ia(this,Se);In==4&&mi(this),this.o&&!this.J&&(In==4?ml(this.j,this):(this.o=!1,al(this)))}else Vc(this.g),F==400&&0<Se.indexOf("Unknown SID")?(this.s=3,zn(12)):(this.s=0,zn(13)),mi(this),mo(this)}}}catch{}finally{}};function Rt(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Wf(g,M){var F=g.C,q=M.indexOf(`
`,F);return q==-1?Ca:(F=Number(M.substring(F,q)),isNaN(F)?il:(q+=1,q+F>M.length?Ca:(M=M.slice(q,q+F),g.C=q+F,M)))}Ui.prototype.cancel=function(){this.J=!0,mi(this)};function al(g){g.S=Date.now()+g.I,hd(g,g.I)}function hd(g,M){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ta(p(g.ba,g),M)}function ol(g){g.B&&(l.clearTimeout(g.B),g.B=null)}Ui.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ud(this.i,this.A),this.L!=2&&(Na(),zn(17)),mi(this),this.s=2,mo(this)):hd(this,this.S-g)};function mo(g){g.j.G==0||g.J||ml(g.j,g)}function mi(g){ol(g);var M=g.M;M&&typeof M.ma=="function"&&M.ma(),g.M=null,rl(g.U),g.g&&(M=g.g,g.g=null,M.abort(),M.ma())}function Ia(g,M){try{var F=g.j;if(F.G!=0&&(F.g==g||Pt(F.h,g))){if(!g.K&&Pt(F.h,g)&&F.G==3){try{var q=F.Da.g.parse(M)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<g.F)ea(F),gi(F);else break e;fl(F),zn(18)}}else F.za=ne[1],0<F.za-F.T&&37500>ne[2]&&F.F&&F.v==0&&!F.C&&(F.C=Ta(p(F.Za,F),6e3));if(1>=st(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Da(F,11)}else if((g.K||F.g==g)&&ea(F),!E(M))for(ne=F.Da.g.parse(M),M=0;M<ne.length;M++){let Fe=ne[M];if(F.T=Fe[0],Fe=Fe[1],F.G==2)if(Fe[0]=="c"){F.K=Fe[1],F.ia=Fe[2];const Qt=Fe[3];Qt!=null&&(F.la=Qt,F.j.info("VER="+F.la));const In=Fe[4];In!=null&&(F.Aa=In,F.j.info("SVER="+F.Aa));const tr=Fe[5];tr!=null&&typeof tr=="number"&&0<tr&&(q=1.5*tr,F.L=q,F.j.info("backChannelRequestTimeoutMs_="+q)),q=F;const Sr=g.g;if(Sr){const ni=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var oe=q.h;oe.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Ma(oe,oe.h),oe.h=null))}if(q.D){const yl=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(q.ya=yl,ft(q.I,q.D,yl))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-g.F,F.j.info("Handshake RTT: "+F.R+"ms")),q=F;var Se=g;if(q.qa=Hc(q,q.J?q.ia:null,q.W),Se.K){Wi(q.h,Se);var wt=Se,xn=q.L;xn&&(wt.I=xn),wt.B&&(ol(wt),al(wt)),q.g=Se}else Wc(q);0<F.i.length&&hl(F)}else Fe[0]!="stop"&&Fe[0]!="close"||Da(F,7);else F.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Da(F,7):ul(F):Fe[0]!="noop"&&F.l&&F.l.ta(Fe),F.v=0)}}Na(4)}catch{}}var Rc=class{constructor(g,M){this.g=g,this.map=M}};function Lc(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function st(g){return g.h?1:g.g?g.g.size:0}function Pt(g,M){return g.h?g.h==M:g.g?g.g.has(M):!1}function Ma(g,M){g.g?g.g.add(M):g.h=M}function Wi(g,M){g.h&&g.h==M?g.h=null:g.g&&g.g.has(M)&&g.g.delete(M)}Lc.prototype.cancel=function(){if(this.i=Hi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Hi(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let M=g.i;for(const F of g.g.values())M=M.concat(F.D);return M}return _(g.i)}function sl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var M=[],F=g.length,q=0;q<F;q++)M.push(g[q]);return M}M=[],F=0;for(q in g)M[F++]=g[q];return M}function Ye(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var M=[];g=g.length;for(var F=0;F<g;F++)M.push(F);return M}M=[],F=0;for(const q in g)M[F++]=q;return M}}}function Vt(g,M){if(g.forEach&&typeof g.forEach=="function")g.forEach(M,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,M,void 0);else for(var F=Ye(g),q=sl(g),ne=q.length,oe=0;oe<ne;oe++)M.call(void 0,q[oe],F&&F[oe],g)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(g,M){if(g){g=g.split("&");for(var F=0;F<g.length;F++){var q=g[F].indexOf("="),ne=null;if(0<=q){var oe=g[F].substring(0,q);ne=g[F].substring(q+1)}else oe=g[F];M(oe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Zt(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Zt){this.h=g.h,$a(this,g.j),this.o=g.o,this.g=g.g,ei(this,g.s),this.l=g.l;var M=g.i,F=new Zi;F.i=M.i,M.g&&(F.g=new Map(M.g),F.h=M.h),Yt(this,F),this.m=g.m}else g&&(M=String(g).match(Ra))?(this.h=!1,$a(this,M[1]||"",!0),this.o=pi(M[2]||""),this.g=pi(M[3]||"",!0),ei(this,M[4]),this.l=pi(M[5]||"",!0),Yt(this,M[6]||"",!0),this.m=pi(M[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Zt.prototype.toString=function(){var g=[],M=this.j;M&&g.push(Ki(M,rs,!0),":");var F=this.g;return(F||M=="file")&&(g.push("//"),(M=this.o)&&g.push(Ki(M,rs,!0),"@"),g.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&g.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(Ki(F,F.charAt(0)=="/"?ll:$c,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",Ki(F,cl)),g.join("")};function Jr(g){return new Zt(g)}function $a(g,M,F){g.j=F?pi(M,!0):M,g.j&&(g.j=g.j.replace(/:$/,""))}function ei(g,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);g.s=M}else g.s=null}function Yt(g,M,F){M instanceof Zi?(g.i=M,kt(g.i,g.h)):(F||(M=Ki(M,Gi)),g.i=new Zi(M,g.h))}function ft(g,M,F){g.i.set(M,F)}function qi(g){return ft(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function pi(g,M){return g?M?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ki(g,M,F){return typeof g=="string"?(g=encodeURI(g).replace(M,ns),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ns(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var rs=/[#\/\?@]/g,$c=/[#\?:]/g,ll=/[#\?]/g,Gi=/[#\?@]/g,cl=/#/g;function Zi(g,M){this.h=this.g=null,this.i=g||null,this.j=!!M}function Lr(g){g.g||(g.g=new Map,g.h=0,g.i&&La(g.i,function(M,F){g.add(decodeURIComponent(M.replace(/\+/g," ")),F)}))}t=Zi.prototype,t.add=function(g,M){Lr(this),this.i=null,g=Fn(this,g);var F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(M),this.h+=1,this};function is(g,M){Lr(g),M=Fn(g,M),g.g.has(M)&&(g.i=null,g.h-=g.g.get(M).length,g.g.delete(M))}function fd(g,M){return Lr(g),M=Fn(g,M),g.g.has(M)}t.forEach=function(g,M){Lr(this),this.g.forEach(function(F,q){F.forEach(function(ne){g.call(M,ne,q,this)},this)},this)},t.na=function(){Lr(this);const g=Array.from(this.g.values()),M=Array.from(this.g.keys()),F=[];for(let q=0;q<M.length;q++){const ne=g[q];for(let oe=0;oe<ne.length;oe++)F.push(M[q])}return F},t.V=function(g){Lr(this);let M=[];if(typeof g=="string")fd(this,g)&&(M=M.concat(this.g.get(Fn(this,g))));else{g=Array.from(this.g.values());for(let F=0;F<g.length;F++)M=M.concat(g[F])}return M},t.set=function(g,M){return Lr(this),this.i=null,g=Fn(this,g),fd(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[M]),this.h+=1,this},t.get=function(g,M){return g?(g=this.V(g),0<g.length?String(g[0]):M):M};function qe(g,M,F){is(g,M),0<F.length&&(g.i=null,g.g.set(Fn(g,M),_(F)),g.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],M=Array.from(this.g.keys());for(var F=0;F<M.length;F++){var q=M[F];const oe=encodeURIComponent(String(q)),Se=this.V(q);for(q=0;q<Se.length;q++){var ne=oe;Se[q]!==""&&(ne+="="+encodeURIComponent(String(Se[q]))),g.push(ne)}}return this.i=g.join("&")};function Fn(g,M){return M=String(M),g.j&&(M=M.toLowerCase()),M}function kt(g,M){M&&!g.j&&(Lr(g),g.i=null,g.g.forEach(function(F,q){var ne=q.toLowerCase();q!=ne&&(is(this,q),qe(this,ne,F))},g)),g.j=M}function md(g,M){const F=new er;if(l.Image){const q=new Image;q.onload=y(Vn,F,"TestLoadImage: loaded",!0,M,q),q.onerror=y(Vn,F,"TestLoadImage: error",!1,M,q),q.onabort=y(Vn,F,"TestLoadImage: abort",!1,M,q),q.ontimeout=y(Vn,F,"TestLoadImage: timeout",!1,M,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=g}else M(!1)}function Dc(g,M){const F=new er,q=new AbortController,ne=setTimeout(()=>{q.abort(),Vn(F,"TestPingServer: timeout",!1,M)},1e4);fetch(g,{signal:q.signal}).then(oe=>{clearTimeout(ne),oe.ok?Vn(F,"TestPingServer: ok",!0,M):Vn(F,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(ne),Vn(F,"TestPingServer: error",!1,M)})}function Vn(g,M,F,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q(F)}catch{}}function jc(){this.g=new Uf}function Yi(g,M,F){const q=F||"";try{Vt(g,function(ne,oe){let Se=ne;d(ne)&&(Se=Xo(ne)),M.push(q+oe+"="+encodeURIComponent(Se))})}catch(ne){throw M.push(q+"type="+encodeURIComponent("_badmap")),ne}}function Xi(g){this.l=g.Ub||null,this.j=g.eb||!1}P(Xi,kc),Xi.prototype.g=function(){return new Qi(this.l,this.j)},Xi.prototype.i=function(g){return function(){return g}}({});function Qi(g,M){at.call(this),this.D=g,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Qi,at),t=Qi.prototype,t.open=function(g,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=M,this.readyState=1,po(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(M.body=g),(this.D||l).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bn(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function bn(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var M=g.value?g.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!g.done}))&&(this.response=this.responseText+=M)}g.done?$r(this):po(this),this.readyState==3&&bn(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,$r(this))},t.Qa=function(g){this.g&&(this.response=g,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(g){g.readyState=4,g.l=null,g.j=null,g.v=null,po(g)}t.setRequestHeader=function(g,M){this.u.append(g,M)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],M=this.h.entries();for(var F=M.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=M.next();return g.join(`\r
`)};function po(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Bc(g){let M="";return D(g,function(F,q){M+=q,M+=":",M+=F,M+=`\r
`}),M}function zc(g,M,F){e:{for(q in F){var q=!1;break e}q=!0}q||(F=Bc(F),typeof g=="string"?F!=null&&encodeURIComponent(String(F)):ft(g,M,F))}function jt(g){at.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(jt,at);var Ji=/^https?$/i,Hf=["POST","PUT"];t=jt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,M,F,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);M=M?M.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vi.g(),this.v=this.o?Cc(this.o):Cc(Vi),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(M,String(g),!0),this.B=!1}catch(oe){Fc(this,oe);return}if(g=F||"",F=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)F.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const oe of q.keys())F.set(oe,q.get(oe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(F.keys()).find(oe=>oe.toLowerCase()=="content-type"),ne=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Hf,M,void 0))||q||ne||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Se]of F)this.g.setRequestHeader(oe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(g),this.u=!1}catch(oe){Fc(this,oe)}};function Fc(g,M){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=M,g.m=5,rt(g),Xt(g)}function rt(g){g.A||(g.A=!0,ht(g,"complete"),ht(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ht(this,"complete"),ht(this,"abort"),Xt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pd(this):this.bb())},t.bb=function(){pd(this)};function pd(g){if(g.h&&typeof o<"u"&&(!g.v[1]||Dr(g)!=4||g.Z()!=2)){if(g.u&&Dr(g)==4)nl(g.Ea,0,g);else if(ht(g,"readystatechange"),Dr(g)==4){g.h=!1;try{const Se=g.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var F;if(!(F=M)){var q;if(q=Se===0){var ne=String(g.D).match(Ra)[1]||null;!ne&&l.self&&l.self.location&&(ne=l.self.location.protocol.slice(0,-1)),q=!Ji.test(ne?ne.toLowerCase():"")}F=q}if(F)ht(g,"complete"),ht(g,"success");else{g.m=6;try{var oe=2<Dr(g)?g.g.statusText:""}catch{oe=""}g.l=oe+" ["+g.Z()+"]",rt(g)}}finally{Xt(g)}}}}function Xt(g,M){if(g.g){go(g);const F=g.g,q=g.v[0]?()=>{}:null;g.g=null,g.v=null,M||ht(g,"ready");try{F.onreadystatechange=q}catch{}}}function go(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Dr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var M=this.g.responseText;return g&&M.indexOf(g)==0&&(M=M.substring(g.length)),Qo(M)}};function yo(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(g){const M={};g=(g.g&&2<=Dr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<g.length;q++){if(E(g[q]))continue;var F=j(g[q]);const ne=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const oe=M[ne]||[];M[ne]=oe,oe.push(F)}S(M,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(g,M,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||M}function Uc(g){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,g),this.cb=as("retryDelaySeedMs",1e4,g),this.Wa=as("forwardChannelMaxRetries",2,g),this.wa=as("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Lc(g&&g.concurrentRequestLimit),this.Da=new jc,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uc.prototype,t.la=8,t.G=1,t.connect=function(g,M,F,q){zn(0),this.W=g,this.H=M||{},F&&q!==void 0&&(this.H.OSID=F,this.H.OAID=q),this.F=this.X,this.I=Hc(this,null,this.W),hl(this)};function ul(g){if(dl(g),g.G==3){var M=g.U++,F=Jr(g.I);if(ft(F,"SID",g.K),ft(F,"RID",M),ft(F,"TYPE","terminate"),vo(g,F),M=new Ui(g,g.j,M),M.L=2,M.v=qi(Jr(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(M.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=M.v,F=!0),F||(M.g=qc(M.j,null),M.g.ea(M.v)),M.F=Date.now(),al(M)}pl(g)}function gi(g){g.g&&(os(g),g.g.cancel(),g.g=null)}function dl(g){gi(g),g.u&&(l.clearTimeout(g.u),g.u=null),ea(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function hl(g){if(!Oa(g.h)&&!g.s){g.s=!0;var M=g.Ga;te||Y(),J||(te(),J=!0),le.add(M,g),g.B=0}}function ti(g,M){return st(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=M.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ta(p(g.Ga,g,M),vd(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ne=new Ui(this,this.j,g);let oe=this.o;if(this.S&&(oe?(oe=T(oe),R(oe,this.S)):oe=this.S),this.m!==null||this.O||(ne.H=oe,oe=null),this.P)e:{for(var M=0,F=0;F<this.i.length;F++){t:{var q=this.i[F];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(M+=q,4096<M){M=F;break e}if(M===4096||F===this.i.length-1){M=F+1;break e}}M=1e3}else M=1e3;M=yi(this,ne,M),F=Jr(this.I),ft(F,"RID",g),ft(F,"CVER",22),this.D&&ft(F,"X-HTTP-Session-Id",this.D),vo(this,F),oe&&(this.O?M="headers="+encodeURIComponent(String(Bc(oe)))+"&"+M:this.m&&zc(F,this.m,oe)),Ma(this.h,ne),this.Ua&&ft(F,"TYPE","init"),this.P?(ft(F,"$req",M),ft(F,"SID","null"),ne.T=!0,es(ne,F,null)):es(ne,F,M),this.G=2}}else this.G==3&&(g?gd(this,g):this.i.length==0||Oa(this.h)||gd(this))};function gd(g,M){var F;M?F=M.l:F=g.U++;const q=Jr(g.I);ft(q,"SID",g.K),ft(q,"RID",F),ft(q,"AID",g.T),vo(g,q),g.m&&g.o&&zc(q,g.m,g.o),F=new Ui(g,g.j,F,g.B+1),g.m===null&&(F.H=g.o),M&&(g.i=M.D.concat(g.i)),M=yi(g,F,1e3),F.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ma(g.h,F),es(F,q,M)}function vo(g,M){g.H&&D(g.H,function(F,q){ft(M,q,F)}),g.l&&Vt({},function(F,q){ft(M,q,F)})}function yi(g,M,F){F=Math.min(g.i.length,F);var q=g.l?p(g.l.Na,g.l,g):null;e:{var ne=g.i;let oe=-1;for(;;){const Se=["count="+F];oe==-1?0<F?(oe=ne[0].g,Se.push("ofs="+oe)):oe=0:Se.push("ofs="+oe);let wt=!0;for(let xn=0;xn<F;xn++){let Fe=ne[xn].g;const Qt=ne[xn].map;if(Fe-=oe,0>Fe)oe=Math.max(0,ne[xn].g-100),wt=!1;else try{Yi(Qt,Se,"req"+Fe+"_")}catch{q&&q(Qt)}}if(wt){q=Se.join("&");break e}}}return g=g.i.splice(0,F),M.D=g,q}function Wc(g){if(!g.g&&!g.u){g.Y=1;var M=g.Fa;te||Y(),J||(te(),J=!0),le.add(M,g),g.v=0}}function fl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ta(p(g.Fa,g),vd(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,yd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ta(p(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zn(10),gi(this),yd(this))};function os(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function yd(g){g.g=new Ui(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var M=Jr(g.qa);ft(M,"RID","rpc"),ft(M,"SID",g.K),ft(M,"AID",g.T),ft(M,"CI",g.F?"0":"1"),!g.F&&g.ja&&ft(M,"TO",g.ja),ft(M,"TYPE","xmlhttp"),vo(g,M),g.m&&g.o&&zc(M,g.m,g.o),g.L&&(g.g.I=g.L);var F=g.g;g=g.ia,F.L=1,F.v=qi(Jr(M)),F.m=null,F.P=!0,ts(F,g)}t.Za=function(){this.C!=null&&(this.C=null,gi(this),fl(this),zn(19))};function ea(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function ml(g,M){var F=null;if(g.g==M){ea(g),os(g),g.g=null;var q=2}else if(Pt(g.h,M))F=M.D,Wi(g.h,M),q=1;else return;if(g.G!=0){if(M.o)if(q==1){F=M.m?M.m.length:0,M=Date.now()-M.F;var ne=g.B;q=ho(),ht(q,new ld(q,F)),hl(g)}else Wc(g);else if(ne=M.s,ne==3||ne==0&&0<M.X||!(q==1&&ti(g,M)||q==2&&fl(g)))switch(F&&0<F.length&&(M=g.h,M.i=M.i.concat(F)),ne){case 1:Da(g,5);break;case 4:Da(g,10);break;case 3:Da(g,6);break;default:Da(g,2)}}}function vd(g,M){let F=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(F*=2),F*M}function Da(g,M){if(g.j.info("Error code "+M),M==2){var F=p(g.fb,g),q=g.Xa;const ne=!q;q=new Zt(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$a(q,"https"),qi(q),ne?md(q.toString(),F):Dc(q.toString(),F)}else zn(2);g.G=0,g.l&&g.l.sa(M),pl(g),dl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),zn(2)):(this.j.info("Failed to ping google.com"),zn(1))};function pl(g){if(g.G=0,g.ka=[],g.l){const M=Hi(g.h);(M.length!=0||g.i.length!=0)&&(A(g.ka,M),A(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function Hc(g,M,F){var q=F instanceof Zt?Jr(F):new Zt(F);if(q.g!="")M&&(q.g=M+"."+q.g),ei(q,q.s);else{var ne=l.location;q=ne.protocol,M=M?M+"."+ne.hostname:ne.hostname,ne=+ne.port;var oe=new Zt(null);q&&$a(oe,q),M&&(oe.g=M),ne&&ei(oe,ne),F&&(oe.l=F),q=oe}return F=g.D,M=g.ya,F&&M&&ft(q,F,M),ft(q,"VER",g.la),vo(g,q),q}function qc(g,M,F){if(M&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=g.Ca&&!g.pa?new jt(new Xi({eb:F})):new jt(g.pa),M.Ha(g.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ss(){}t=ss.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ta(){}ta.prototype.g=function(g,M){return new an(g,M)};function an(g,M){at.call(this),this.g=new Uc(M),this.l=g,this.h=M&&M.messageUrlParams||null,g=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(g?g["X-WebChannel-Content-Type"]=M.messageContentType:g={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(g?g["X-WebChannel-Client-Profile"]=M.va:g={"X-WebChannel-Client-Profile":M.va}),this.g.S=g,(g=M&&M.Sb)&&!E(g)&&(this.g.m=g),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!E(M)&&(this.g.D=M,g=this.h,g!==null&&M in g&&(g=this.h,M in g&&delete g[M])),this.j=new En(this)}P(an,at),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ul(this.g)},an.prototype.o=function(g){var M=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.u&&(F={},F.__data__=Xo(g),g=F);M.i.push(new Rc(M.Ya++,g)),M.G==3&&hl(M)},an.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,an.aa.N.call(this)};function gl(g){Ic.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var M=g.__sm__;if(M){e:{for(const F in M){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,M=M!==null&&g in M?M[g]:void 0),this.data=M}else this.data=g}P(gl,Ic);function vi(){Oc.call(this),this.status=1}P(vi,Oc);function En(g){this.g=g}P(En,ss),En.prototype.ua=function(){ht(this.g,"a")},En.prototype.ta=function(g){ht(this.g,new gl(g))},En.prototype.sa=function(g){ht(this.g,new vi)},En.prototype.ra=function(){ht(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,OD=function(){return new ta},ID=function(){return ho()},CD=Pa,_2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,Hv=fo,Mc.COMPLETE="complete",kD=Mc,fi.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",at.prototype.listen=at.prototype.K,km=fi,TD=Xi,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,ND=jt}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});const Dk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new fA("@firebase/firestore");function cm(){return ju.logLevel}function Me(t,...e){if(ju.logLevel<=mt.DEBUG){const n=e.map(PA);ju.debug(`Firestore (${yf}): ${t}`,...n)}}function Fs(t,...e){if(ju.logLevel<=mt.ERROR){const n=e.map(PA);ju.error(`Firestore (${yf}): ${t}`,...n)}}function Th(t,...e){if(ju.logLevel<=mt.WARN){const n=e.map(PA);ju.warn(`Firestore (${yf}): ${t}`,...n)}}function PA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${yf}) INTERNAL ASSERTION FAILED: `+t;throw Fs(e),new Error(e)}function qt(t,e){t||Ke()}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tr.UNAUTHENTICATED))}shutdown(){}}class iH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aH{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Is,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new MD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Tr(e)}}class oH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=a=>{a.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qt(typeof n.token=="string"),this.R=n.token,new lH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uH(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Nt(t,e){return t<e?-1:t>e?1:0}function kh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Nn(0,0))}static max(){return new Xe(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends kp{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const dH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends kp{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return dH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Te(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new Te(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(nn.fromString(e))}static fromName(e){return new je(nn.fromString(e).popFirst(5))}static empty(){return new je(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new nn(e.slice()))}}function hH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Nn(n+1,0):new Nn(n,r));return new mc(i,je.empty(),e)}function fH(t){return new mc(t.readTime,t.key,-1)}class mc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mc(Xe.min(),je.empty(),-1)}static max(){return new mc(Xe.max(),je.empty(),-1)}}function mH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==pH)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):we.reject(n)}static resolve(e){return new we((n,r)=>{n(e)})}static reject(e){return new we((n,r)=>{r(e)})}static waitFor(e){return new we((n,r)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&n()},c=>r(c))}),o=!0,a===i&&n()})}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next(i=>i?we.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new we((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++l,l===a&&r(o)},f=>i(f))}})}static doWhile(e,n){return new we((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function yH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}NA.oe=-1;function vb(t){return t==null}function O0(t){return t===0&&1/t==-1/0}function vH(t){return typeof t=="number"&&Number.isInteger(t)&&!O0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ev(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ev(this.root,e,this.comparator,!1)}getReverseIterator(){return new ev(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ev(this.root,e,this.comparator,!0)}}class ev{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=a??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,a){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bk(this.data.getIterator())}getIteratorFrom(e){return new Bk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wr(this.comparator);return n.data=e,n}}class Bk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Ti([])}unionWith(e){let n=new wr(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $D("Invalid base64 string: "+a):a}}(e);return new Or(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const wH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(qt(!!t),typeof t=="string"){let e=0;const n=wH.exec(t);if(qt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(t.seconds),nanos:Rn(t.nanos)}}function Rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bu(t){return typeof t=="string"?Or.fromBase64String(t):Or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kA(t){const e=t.mapValue.fields.__previous_value__;return TA(e)?kA(e):e}function Cp(t){const e=pc(t.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n,r,i,a,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class Ip{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ip("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ip&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TA(t)?4:xH(t)?9007199254740991:10:Ke()}function Fo(t,e){if(t===e)return!0;const n=zu(t);if(n!==zu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cp(t).isEqual(Cp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=pc(i.timestampValue),l=pc(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bu(i.bytesValue).isEqual(Bu(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Rn(i.geoPointValue.latitude)===Rn(a.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Rn(i.integerValue)===Rn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Rn(i.doubleValue),l=Rn(a.doubleValue);return o===l?O0(o)===O0(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return kh(t.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(jk(o)!==jk(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Fo(o[c],l[c])))return!1;return!0}(t,e);default:return Ke()}}function Op(t,e){return(t.values||[]).find(n=>Fo(n,e))!==void 0}function Ch(t,e){if(t===e)return 0;const n=zu(t),r=zu(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Rn(a.integerValue||a.doubleValue),c=Rn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return zk(t.timestampValue,e.timestampValue);case 4:return zk(Cp(t),Cp(e));case 5:return Nt(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Bu(a),c=Bu(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=Nt(l[d],c[d]);if(f!==0)return f}return Nt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Nt(Rn(a.latitude),Rn(o.latitude));return l!==0?l:Nt(Rn(a.longitude),Rn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,o){const l=a.values||[],c=o.values||[];for(let d=0;d<l.length&&d<c.length;++d){const f=Ch(l[d],c[d]);if(f)return f}return Nt(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,o){if(a===tv.mapValue&&o===tv.mapValue)return 0;if(a===tv.mapValue)return 1;if(o===tv.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=Nt(c[m],f[m]);if(p!==0)return p;const y=Ch(l[c[m]],d[f[m]]);if(y!==0)return y}return Nt(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function zk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=pc(t),r=pc(e),i=Nt(n.seconds,r.seconds);return i!==0?i:Nt(n.nanos,r.nanos)}function Ih(t){return S2(t)}function S2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=S2(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${S2(n.fields[o])}`;return i+"}"}(t.mapValue):Ke()}function Fk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E2(t){return!!t&&"integerValue"in t}function CA(t){return!!t&&"arrayValue"in t}function Vk(t){return!!t&&"nullValue"in t}function Uk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qv(t){return!!t&&"mapValue"in t}function Km(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Km(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Km(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Km(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Km(o):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());qv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yu(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ai(Km(this.value))}}function DD(t){const e=[];return Yu(t.fields,(n,r)=>{const i=new yr([n]);if(qv(r)){const a=DD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Cr(e,0,Xe.min(),Xe.min(),Xe.min(),ai.empty(),0)}static newFoundDocument(e,n,r,i){return new Cr(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new Cr(e,2,n,Xe.min(),Xe.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new Cr(e,3,n,Xe.min(),Xe.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.position=e,this.inclusive=n}}function Wk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=Ch(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n="asc"){this.field=e,this.dir=n}}function _H(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jD=class{};class $n extends jD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EH(e,n,r):n==="array-contains"?new NH(e,r):n==="in"?new TH(e,r):n==="not-in"?new kH(e,r):n==="array-contains-any"?new CH(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AH(e,r):new PH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ch(n,this.value)):n!==null&&zu(this.value)===zu(n)&&this.matchesComparison(Ch(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class to extends jD{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new to(e,n)}matches(e){return BD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BD(t){return t.op==="and"}function zD(t){return SH(t)&&BD(t)}function SH(t){for(const e of t.filters)if(e instanceof to)return!1;return!0}function A2(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+Ih(t.value);if(zD(t))return t.filters.map(e=>A2(e)).join(",");{const e=t.filters.map(n=>A2(n)).join(",");return`${t.op}(${e})`}}function FD(t,e){return t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&Fo(r.value,i.value)}(t,e):t instanceof to?function(r,i){return i instanceof to&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,l)=>a&&FD(o,i.filters[l]),!0):!1}(t,e):void Ke()}function VD(t){return t instanceof $n?function(n){return`${n.field.canonicalString()} ${n.op} ${Ih(n.value)}`}(t):t instanceof to?function(n){return n.op.toString()+" {"+n.getFilters().map(VD).join(" ,")+"}"}(t):"Filter"}class EH extends $n{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class AH extends $n{constructor(e,n){super(e,"in",n),this.keys=UD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PH extends $n{constructor(e,n){super(e,"not-in",n),this.keys=UD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class NH extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CA(n)&&Op(n.arrayValue,this.value)}}class TH extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Op(this.value.arrayValue,n)}}class kH extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Op(this.value.arrayValue,n)}}class CH extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Op(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.ue=null}}function qk(t,e=null,n=[],r=[],i=null,a=null,o=null){return new IH(t,e,n,r,i,a,o)}function IA(t){const e=Qe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),vb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ih(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ih(r)).join(",")),e.ue=n}return e.ue}function OA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_H(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hk(t.startAt,e.startAt)&&Hk(t.endAt,e.endAt)}function P2(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OH(t,e,n,r,i,a,o,l){return new vf(t,e,n,r,i,a,o,l)}function MA(t){return new vf(t)}function Kk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WD(t){return t.collectionGroup!==null}function Gm(t){const e=Qe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new wr(yr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Mp(a,r))}),n.has(yr.keyField().canonicalString())||e.ce.push(new Mp(yr.keyField(),r))}return e.ce}function $o(t){const e=Qe(t);return e.le||(e.le=MH(e,Gm(t))),e.le}function MH(t,e){if(t.limitType==="F")return qk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Mp(i.field,a)});const n=t.endAt?new M0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new M0(t.startAt.position,t.startAt.inclusive):null;return qk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N2(t,e){const n=t.filters.concat([e]);return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function R0(t,e,n){return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wb(t,e){return OA($o(t),$o(e))&&t.limitType===e.limitType}function HD(t){return`${IA($o(t))}|lt:${t.limitType}`}function Rd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VD(i)).join(", ")}]`),vb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ih(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ih(i)).join(",")),`Target(${r})`}($o(t))}; limitType=${t.limitType})`}function bb(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Gm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const d=Wk(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Gm(r),i)||r.endAt&&!function(o,l,c){const d=Wk(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Gm(r),i))}(t,e)}function RH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,n)=>{let r=!1;for(const i of Gm(t)){const a=LH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LH(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Ch(c,d):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yu(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return LD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=new vn(je.comparator);function Vs(){return $H}const KD=new vn(je.comparator);function Cm(...t){let e=KD;for(const n of t)e=e.insert(n.key,n);return e}function GD(t){let e=KD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vu(){return Zm()}function ZD(){return Zm()}function Zm(){return new wf(t=>t.toString(),(t,e)=>t.isEqual(e))}const DH=new vn(je.comparator),jH=new wr(je.comparator);function ut(...t){let e=jH;for(const n of t)e=e.add(n);return e}const BH=new wr(Nt);function zH(){return BH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O0(e)?"-0":e}}function XD(t){return{integerValue:""+t}}function QD(t,e){return vH(e)?XD(e):YD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this._=void 0}}function FH(t,e,n){return t instanceof Rp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&TA(a)&&(a=kA(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Lp?e4(t,e):t instanceof $p?t4(t,e):function(i,a){const o=JD(i,a),l=Gk(o)+Gk(i.Pe);return E2(o)&&E2(i.Pe)?XD(l):YD(i.serializer,l)}(t,e)}function VH(t,e,n){return t instanceof Lp?e4(t,e):t instanceof $p?t4(t,e):n}function JD(t,e){return t instanceof Dp?function(r){return E2(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Rp extends xb{}class Lp extends xb{constructor(e){super(),this.elements=e}}function e4(t,e){const n=n4(e);for(const r of t.elements)n.some(i=>Fo(i,r))||n.push(r);return{arrayValue:{values:n}}}class $p extends xb{constructor(e){super(),this.elements=e}}function t4(t,e){let n=n4(e);for(const r of t.elements)n=n.filter(i=>!Fo(i,r));return{arrayValue:{values:n}}}class Dp extends xb{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gk(t){return Rn(t.integerValue||t.doubleValue)}function n4(t){return CA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.field=e,this.transform=n}}function UH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lp&&i instanceof Lp||r instanceof $p&&i instanceof $p?kh(r.elements,i.elements,Fo):r instanceof Dp&&i instanceof Dp?Fo(r.Pe,i.Pe):r instanceof Rp&&i instanceof Rp}(t.transform,e.transform)}class WH{constructor(e,n){this.version=e,this.transformResults=n}}class ga{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _b{}function i4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RA(t.key,ga.none()):new Hg(t.key,t.data,ga.none());{const n=t.data,r=ai.empty();let i=new wr(yr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Sc(t.key,r,new Ti(i.toArray()),ga.none())}}function HH(t,e,n){t instanceof Hg?function(i,a,o){const l=i.value.clone(),c=Yk(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Sc?function(i,a,o){if(!Kv(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Yk(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(a4(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ym(t,e,n,r){return t instanceof Hg?function(a,o,l,c){if(!Kv(a.precondition,o))return l;const d=a.value.clone(),f=Xk(a.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sc?function(a,o,l,c){if(!Kv(a.precondition,o))return l;const d=Xk(a.fieldTransforms,c,o),f=o.data;return f.setAll(a4(a)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,o,l){return Kv(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function qH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=JD(r.transform,i||null);a!=null&&(n===null&&(n=ai.empty()),n.set(r.field,a))}return n||null}function Zk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&kh(r,i,(a,o)=>UH(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hg extends _b{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sc extends _b{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function a4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yk(t,e,n){const r=new Map;qt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,VH(o,l,n[i]))}return r}function Xk(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,FH(a,o,e))}return r}class RA extends _b{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KH extends _b{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&HH(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ym(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ym(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZD();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const c=i4(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&kh(this.mutations,e.mutations,(n,r)=>Zk(n,r))&&kh(this.baseMutations,e.baseMutations,(n,r)=>Zk(n,r))}}class LA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qt(e.mutations.length===r.length);let i=function(){return DH}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new LA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,pt;function XH(t){switch(t){default:return Ke();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function o4(t){if(t===void 0)return Fs("GRPC error has no .code"),de.UNKNOWN;switch(t){case Mn.OK:return de.OK;case Mn.CANCELLED:return de.CANCELLED;case Mn.UNKNOWN:return de.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return de.INTERNAL;case Mn.UNAVAILABLE:return de.UNAVAILABLE;case Mn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Mn.NOT_FOUND:return de.NOT_FOUND;case Mn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Mn.ABORTED:return de.ABORTED;case Mn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Mn.DATA_LOSS:return de.DATA_LOSS;default:return Ke()}}(pt=Mn||(Mn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=new Au([4294967295,4294967295],0);function Qk(t){const e=QH().encode(t),n=new PD;return n.update(e),new Uint8Array(n.digest())}function Jk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Au([n,r],0),new Au([i,a],0)]}class $A{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Im(`Invalid padding: ${n}`);if(r<0)throw new Im(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Im(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Im(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Au.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Au.fromNumber(r)));return i.compare(JH)===1&&(i=new Au([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Qk(e),[r,i]=Jk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new $A(a,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Qk(e),[r,i]=Jk(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Im extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sb(Xe.min(),i,new vn(Nt),Vs(),ut())}}class qg{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qg(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class s4{constructor(e,n){this.targetId=e,this.me=n}}class l4{constructor(e,n,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eC{constructor(){this.fe=0,this.ge=nC(),this.pe=Or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ut(),n=ut(),r=ut();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new qg(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=nC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eq{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vs(),this.qe=tC(),this.Qe=new vn(Nt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(P2(a))if(r===0){const o=new je(a.path);this.Ue(n,o,Cr.newNoDocument(o,Xe.min()))}else qt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=Bu(r).toUint8Array()}catch(c){if(c instanceof $D)return Th("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new $A(o,i,a)}catch(c){return Th(c instanceof Im?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const l=this.Je(o);if(l){if(a.current&&P2(l.target)){const c=new je(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Cr.newNoDocument(c,e))}a.be&&(n.set(o,a.Ce()),a.ve())}});let r=ut();this.qe.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Sb(e,n,this.Qe,this.ke,r);return this.ke=Vs(),this.qe=tC(),this.Qe=new vn(Nt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new eC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wr(Nt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tC(){return new vn(je.comparator)}function nC(){return new vn(je.comparator)}const tq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rq=(()=>({and:"AND",or:"OR"}))();class iq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T2(t,e){return t.useProto3Json||vb(e)?e:{value:e}}function L0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aq(t,e){return L0(t,e.toTimestamp())}function Do(t){return qt(!!t),Xe.fromTimestamp(function(n){const r=pc(n);return new Nn(r.seconds,r.nanos)}(t))}function DA(t,e){return k2(t,e).canonicalString()}function k2(t,e){const n=function(i){return new nn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function u4(t){const e=nn.fromString(t);return qt(p4(e)),e}function C2(t,e){return DA(t.databaseId,e.path)}function P_(t,e){const n=u4(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(h4(n))}function d4(t,e){return DA(t.databaseId,e)}function oq(t){const e=u4(t);return e.length===4?nn.emptyPath():h4(e)}function I2(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h4(t){return qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rC(t,e,n){return{name:C2(t,e),fields:n.value.mapValue.fields}}function sq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,f){return d.useProto3Json?(qt(f===void 0||typeof f=="string"),Or.fromBase64String(f||"")):(qt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Or.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?de.UNKNOWN:o4(d.code);return new Te(f,d.message||"")}(o);n=new l4(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=P_(t,r.document.name),a=Do(r.document.updateTime),o=r.document.createTime?Do(r.document.createTime):Xe.min(),l=new ai({mapValue:{fields:r.document.fields}}),c=Cr.newFoundDocument(i,a,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Gv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=P_(t,r.document),a=r.readTime?Do(r.readTime):Xe.min(),o=Cr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Gv([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=P_(t,r.document),a=r.removedTargetIds||[];n=new Gv([],a,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new YH(i,a),l=r.targetId;n=new s4(l,o)}}return n}function lq(t,e){let n;if(e instanceof Hg)n={update:rC(t,e.key,e.value)};else if(e instanceof RA)n={delete:C2(t,e.key)};else if(e instanceof Sc)n={update:rC(t,e.key,e.data),updateMask:yq(e.fieldMask)};else{if(!(e instanceof KH))return Ke();n={verify:C2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof Rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Lp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $p)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dp)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:aq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke()}(t,e.precondition)),n}function cq(t,e){return t&&t.length>0?(qt(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Do(i.updateTime):Do(a);return o.isEqual(Xe.min())&&(o=Do(a)),new WH(o,i.transformResults||[])}(n,e))):[]}function uq(t,e){return{documents:[d4(t,e.path)]}}function dq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=d4(t,i);const a=function(d){if(d.length!==0)return m4(to.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:Ld(p.field),direction:mq(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=T2(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function hq(t){let e=oq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(m){const p=f4(m);return p instanceof to&&zD(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(P){return new Mp($d(P.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,vb(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,y=m.values||[];return new M0(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,y=m.values||[];return new M0(y,p)}(n.endAt)),OH(e,i,o,a,l,"F",c,d)}function fq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$d(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$d(n.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$d(n.unaryFilter.field);return $n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$d(n.unaryFilter.field);return $n.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return $n.create($d(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return to.create(n.compositeFilter.filters.map(r=>f4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function mq(t){return tq[t]}function pq(t){return nq[t]}function gq(t){return rq[t]}function Ld(t){return{fieldPath:t.canonicalString()}}function $d(t){return yr.fromServerFormat(t.fieldPath)}function m4(t){return t instanceof $n?function(n){if(n.op==="=="){if(Uk(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NAN"}};if(Vk(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uk(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NOT_NAN"}};if(Vk(n.value))return{unaryFilter:{field:Ld(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(n.field),op:pq(n.op),value:n.value}}}(t):t instanceof to?function(n){const r=n.getFilters().map(i=>m4(i));return r.length===1?r[0]:{compositeFilter:{op:gq(n.op),filters:r}}}(t):Ke()}function yq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i,a=Xe.min(),o=Xe.min(),l=Or.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ul(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.ct=e}}function wq(t){const e=hq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?R0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this._n=new xq}addToCollectionParentIndex(e,n){return this._n.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(mc.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(mc.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class xq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wr(nn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Oh(0)}static Ln(){return new Oh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this.changes=new wf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ym(r.mutation,i,Ti.empty(),Nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const i=vu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Cm();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let a=Vs();const o=Zm(),l=function(){return Zm()}();return n.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Sc)?a=a.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Ym(f.mutation,d,f.mutation.getFieldMask(),Nn.now())):o.set(d.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var m;return l.set(d,new Sq(f,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Zm();let i=new vn((o,l)=>o-l),a=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Ti.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(i.get(l.batchId)||ut()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=ZD();f.forEach(p=>{if(!a.has(p)){const y=i4(n.get(p),r.get(p));y!==null&&m.set(p,y),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return we.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):we.resolve(vu());let l=-1,c=a;return o.next(d=>we.forEach(d,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(f)?we.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,ut())).next(f=>({batchId:l,changes:GD(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let i=Cm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Cm();return this.indexManager.getCollectionParents(e,a).next(l=>we.forEach(l,c=>{const d=function(m,p){return new vf(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Cr.newInvalidDocument(f)))});let l=Cm();return o.forEach((c,d)=>{const f=a.get(c);f!==void 0&&Ym(f.mutation,d,Ti.empty(),Nn.now()),bb(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return we.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Do(i.createTime)}}(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:wq(i.bundledQuery),readTime:Do(i.readTime)}}(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.overlays=new vn(je.comparator),this.hr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vu();return we.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.hr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=vu(),a=n.length+1,o=new je(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new vn((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=a.get(d.largestBatchId);f===null&&(f=vu(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=vu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=i)););return we.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZH(n,r));let a=this.hr.get(n);a===void 0&&(a=ut(),this.hr.set(n,a)),this.hr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.Pr=new wr(rr.Ir),this.Tr=new wr(rr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new rr(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new rr(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new je(new nn([])),r=new rr(n,e),i=new rr(n,e+1),a=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),a.push(o.key)}),a}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new je(new nn([])),r=new rr(n,e),i=new rr(n,e+1);let a=ut();return this.Tr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new rr(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return je.comparator(e.key,n.key)||Nt(e.pr,n.pr)}static Er(e,n){return Nt(e.pr,n.pr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new wr(rr.Ir)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GH(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new rr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return we.resolve(o)}lookupMutationBatch(e,n){return we.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rr(n,0),i=new rr(n,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);a.push(l)}),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wr(Nt);return n.forEach(i=>{const a=new rr(i,0),o=new rr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([a,o],l=>{r=r.add(l.pr)})}),we.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const o=new rr(new je(a),0);let l=new wr(Nt);return this.wr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.pr)),!0)},o),we.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return we.forEach(n.mutations,i=>{const a=new rr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new rr(n,0),i=this.wr.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.vr=e,this.docs=function(){return new vn(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():Cr.newInvalidDocument(n))}getEntries(e,n){let r=Vs();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Cr.newInvalidDocument(i))}),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Vs();const o=n.path,l=new je(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||mH(fH(f),r)<=0||(i.has(f.key)||bb(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ke()}Fr(e,n){return we.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kq(this)}getSize(e){return we.resolve(this.size)}}class kq extends _q{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),we.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.persistence=e,this.Mr=new wf(n=>IA(n),OA),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new jA,this.targetCount=0,this.Lr=Oh.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),we.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Oh(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.qn(n),we.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),we.waitFor(a).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),we.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n){this.Br={},this.overlays={},this.kr=new NA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Cq(this),this.indexManager=new bq,this.remoteDocumentCache=function(i){return new Tq(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new vq(n),this.$r=new Aq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Nq(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new Oq(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(a=>this.referenceDelegate.Wr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gr(e,n){return we.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Oq extends gH{constructor(e){super(),this.currentSequenceNumber=e}}class BA{constructor(e){this.persistence=e,this.zr=new jA,this.jr=null}static Hr(e){return new BA(e)}get Jr(){if(this.jr)return this.jr;throw Ke()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),we.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Jr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Jr,r=>{const i=je.fromPath(r);return this.Yr(e,i).next(a=>{a||n.removeEntry(i,Xe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return we.or([()=>we.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ut(),i=ut();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return T9()?8:yH(xr())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ji(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Hi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Mq;return this.Ji(e,n,o).next(l=>{if(a.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>a.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(cm()<=mt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Rd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),we.resolve()):(cm()<=mt.DEBUG&&Me("QueryEngine","Query:",Rd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(cm()<=mt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Rd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$o(n))):we.resolve())}ji(e,n){if(Kk(n))return we.resolve(null);let r=$o(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=R0(n,null,"F"),r=$o(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ut(...a);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Zi(n,l);return this.Xi(n,d,o,c.readTime)?this.ji(e,R0(n,null,"F")):this.es(e,d,n,c)}))})))}Hi(e,n,r,i){return Kk(n)||i.isEqual(Xe.min())?we.resolve(null):this.zi.getDocuments(e,r).next(a=>{const o=this.Zi(n,a);return this.Xi(n,o,r,i)?we.resolve(null):(cm()<=mt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rd(n)),this.es(e,o,n,hH(i,-1)).next(l=>l))})}Zi(e,n){let r=new wr(qD(e));return n.forEach((i,a)=>{bb(e,a)&&(r=r.add(a))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ji(e,n,r){return cm()<=mt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Rd(n)),this.zi.getDocumentsMatchingQuery(e,n,mc.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new vn(Nt),this.rs=new wf(a=>IA(a),OA),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eq(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function $q(t,e,n,r){return new Lq(t,e,n,r)}async function g4(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let c=ut();for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({us:d,removedBatchIds:o,addedBatchIds:l}))})})}function Dq(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,d,f){const m=d.batch,p=m.keys();let y=we.resolve();return p.forEach(P=>{y=y.next(()=>f.getEntry(c,P)).next(_=>{const A=d.docVersions.get(P);qt(A!==null),_.version.compareTo(A)<0&&(m.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ut();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function y4(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function jq(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,m)=>{const p=i.get(m);if(!p)return;l.push(n.Qr.removeMatchingKeys(a,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(a,f.addedDocuments,m)));let y=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Or.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),function(_,A,N){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(p,y,f)&&l.push(n.Qr.updateTargetData(a,y))});let c=Vs(),d=ut();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),l.push(Bq(a,o,e.documentUpdates).next(f=>{c=f.cs,d=f.ls})),!r.isEqual(Xe.min())){const f=n.Qr.getLastRemoteSnapshotVersion(a).next(m=>n.Qr.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(f)}return we.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(n.ns=i,a))}function Bq(t,e,n){let r=ut(),i=ut();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Vs();return n.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Xe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{cs:o,ls:i}})}function zq(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fq(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(a=>a?(i=a,we.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ul(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function O2(t,e,n){const r=Qe(t),i=r.ns.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wg(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function iC(t,e,n){const r=Qe(t);let i=Xe.min(),a=ut();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const m=Qe(c),p=m.rs.get(f);return p!==void 0?we.resolve(m.ns.get(p)):m.Qr.getTargetData(d,f)}(r,o,$o(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?a:ut())).next(l=>(Vq(r,RH(e),l),{documents:l,hs:a})))}function Vq(t,e,n){let r=t.ss.get(e)||Xe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ss.set(e,r)}class aC{constructor(){this.activeTargetIds=zH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uq{constructor(){this.no=new aC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new aC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv=null;function N_(){return nv===null?nv=function(){return 268435456+Math.round(2147483648*Math.random())}():nv++,"0x"+nv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class Kq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${a}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Do(){return!1}Co(n,r,i,a,o){const l=N_(),c=this.vo(n,r.toUriEncodedString());Me("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,a,o),this.Mo(n,c,d,i).then(f=>(Me("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Th("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}xo(n,r,i,a,o,l){return this.Co(n,r,i,a,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}vo(n,r){const i=Hq[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const a=N_();return new Promise((o,l)=>{const c=new ND;c.setWithCredentials(!0),c.listenOnce(kD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hv.NO_ERROR:const f=c.getResponseJson();Me(Pr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case Hv.TIMEOUT:Me(Pr,`RPC '${e}' ${a} timed out`),l(new Te(de.DEADLINE_EXCEEDED,"Request time out"));break;case Hv.HTTP_ERROR:const m=c.getStatus();if(Me(Pr,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const P=function(A){const N=A.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(N)>=0?N:de.UNKNOWN}(y.status);l(new Te(P,y.message))}else l(new Te(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Te(de.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Me(Pr,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);Me(Pr,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",d,r,15)})}Oo(e,n,r){const i=N_(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OD(),l=ID(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new TD({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=a.join("");Me(Pr,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let p=!1,y=!1;const P=new qq({lo:A=>{y?Me(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(Me(Pr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Me(Pr,`RPC '${e}' stream ${i} sending:`,A),m.send(A))},ho:()=>m.close()}),_=(A,N,E)=>{A.listen(N,w=>{try{E(w)}catch(C){setTimeout(()=>{throw C},0)}})};return _(m,km.EventType.OPEN,()=>{y||(Me(Pr,`RPC '${e}' stream ${i} transport opened.`),P.mo())}),_(m,km.EventType.CLOSE,()=>{y||(y=!0,Me(Pr,`RPC '${e}' stream ${i} transport closed`),P.po())}),_(m,km.EventType.ERROR,A=>{y||(y=!0,Th(Pr,`RPC '${e}' stream ${i} transport errored:`,A),P.po(new Te(de.UNAVAILABLE,"The operation could not be completed")))}),_(m,km.EventType.MESSAGE,A=>{var N;if(!y){const E=A.data[0];qt(!!E);const w=E,C=w.error||((N=w[0])===null||N===void 0?void 0:N.error);if(C){Me(Pr,`RPC '${e}' stream ${i} received error:`,C);const $=C.status;let D=function(O){const R=Mn[O];if(R!==void 0)return o4(R)}($),S=C.message;D===void 0&&(D=de.INTERNAL,S="Unknown error status: "+$+" with message "+C.message),y=!0,P.po(new Te(D,S)),m.close()}else Me(Pr,`RPC '${e}' stream ${i} received:`,E),P.yo(E)}}),_(l,CD.STAT_EVENT,A=>{A.stat===_2.PROXY?Me(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===_2.NOPROXY&&Me(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}}function T_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){return new iq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r=1e3,i=1.5,a=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=a,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i,a,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new v4(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Te(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gq extends w4{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=sq(this.serializer,e),r=function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?Do(o.readTime):Xe.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=I2(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=P2(c)?{documents:uq(a,c)}:{query:dq(a,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=c4(a,o.resumeToken);const d=T2(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Xe.min())>0){l.readTime=L0(a,o.snapshotVersion.toTimestamp());const d=T2(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=fq(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=I2(this.serializer),n.removeTarget=e,this.i_(n)}}class Zq extends w4{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=cq(e.writeResults,e.commitTime),r=Do(e.commitTime);return this.listener.A_(r,n)}return qt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=I2(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lq(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Co(e,k2(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(de.UNKNOWN,a.toString())})}xo(e,n,r,i,a){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,k2(n,r),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(de.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Xq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fs(n),this.y_=!1):Me("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=a,this.O_.io(o=>{r.enqueueAndForget(async()=>{Xu(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Qe(c);d.M_.add(4),await Kg(d),d.N_.set("Unknown"),d.M_.delete(4),await Ab(d)}(this))})}),this.N_=new Xq(r,i)}}async function Ab(t){if(Xu(t))for(const e of t.x_)await e(!0)}async function Kg(t){for(const e of t.x_)await e(!1)}function b4(t,e){const n=Qe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),WA(n)?UA(n):bf(n).Xo()&&VA(n,e))}function FA(t,e){const n=Qe(t),r=bf(n);n.F_.delete(e),r.Xo()&&x4(n,e),n.F_.size===0&&(r.Xo()?r.n_():Xu(n)&&n.N_.set("Unknown"))}function VA(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bf(t).P_(e)}function x4(t,e){t.L_.xe(e),bf(t).I_(e)}function UA(t){t.L_=new eq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bf(t).start(),t.N_.w_()}function WA(t){return Xu(t)&&!bf(t).Zo()&&t.F_.size>0}function Xu(t){return Qe(t).M_.size===0}function _4(t){t.L_=void 0}async function Jq(t){t.N_.set("Online")}async function eK(t){t.F_.forEach((e,n)=>{VA(t,e)})}async function tK(t,e){_4(t),WA(t)?(t.N_.D_(e),UA(t)):t.N_.set("Unknown")}async function nK(t,e,n){if(t.N_.set("Online"),e instanceof l4&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $0(t,r)}else if(e instanceof Gv?t.L_.Ke(e):e instanceof s4?t.L_.He(e):t.L_.We(e),!n.isEqual(Xe.min()))try{const r=await y4(t.localStore);n.compareTo(r)>=0&&await function(a,o){const l=a.L_.rt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=a.F_.get(d);f&&a.F_.set(d,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const f=a.F_.get(c);if(!f)return;a.F_.set(c,f.withResumeToken(Or.EMPTY_BYTE_STRING,f.snapshotVersion)),x4(a,c);const m=new Ul(f.target,c,d,f.sequenceNumber);VA(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),await $0(t,r)}}async function $0(t,e,n){if(!Wg(e))throw e;t.M_.add(1),await Kg(t),t.N_.set("Offline"),n||(n=()=>y4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Ab(t)})}function S4(t,e){return e().catch(n=>$0(t,n,e))}async function Pb(t){const e=Qe(t),n=gc(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;rK(e);)try{const i=await zq(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,iK(e,i)}catch(i){await $0(e,i)}E4(e)&&A4(e)}function rK(t){return Xu(t)&&t.v_.length<10}function iK(t,e){t.v_.push(e);const n=gc(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function E4(t){return Xu(t)&&!gc(t).Zo()&&t.v_.length>0}function A4(t){gc(t).start()}async function aK(t){gc(t).V_()}async function oK(t){const e=gc(t);for(const n of t.v_)e.d_(n.mutations)}async function sK(t,e,n){const r=t.v_.shift(),i=LA.from(r,e,n);await S4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pb(t)}async function lK(t,e){e&&gc(t).E_&&await async function(r,i){if(function(o){return XH(o)&&o!==de.ABORTED}(i.code)){const a=r.v_.shift();gc(r).t_(),await S4(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Pb(r)}}(t,e),E4(t)&&A4(t)}async function sC(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=Xu(n);n.M_.add(3),await Kg(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Ab(n)}async function cK(t,e){const n=Qe(t);e?(n.M_.delete(2),await Ab(n)):e||(n.M_.add(2),await Kg(n),n.N_.set("Unknown"))}function bf(t){return t.B_||(t.B_=function(n,r,i){const a=Qe(n);return a.f_(),new Gq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Po:Jq.bind(null,t),To:eK.bind(null,t),Ao:tK.bind(null,t),h_:nK.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),WA(t)?UA(t):t.N_.set("Unknown")):(await t.B_.stop(),_4(t))})),t.B_}function gc(t){return t.k_||(t.k_=function(n,r,i){const a=Qe(n);return a.f_(),new Zq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:aK.bind(null,t),Ao:lK.bind(null,t),R_:oK.bind(null,t),A_:sK.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Pb(t)):(await t.k_.stop(),t.v_.length>0&&(Me("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new HA(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qA(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),Wg(t))return new Te(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Cm(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new hh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.q_=new vn(je.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ke():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mh{constructor(e,n,r,i,a,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Mh(e,n,hh.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class dK{constructor(){this.queries=new wf(e=>HD(e),wb),this.onlineState="Unknown",this.z_=new Set}}async function P4(t,e){const n=Qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.W_()&&e.G_()&&(r=2):(a=new uK,r=e.G_()?0:1);try{switch(r){case 0:a.K_=await n.onListen(i,!0);break;case 1:a.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=qA(o,`Initialization of query '${Rd(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.U_.push(e),e.j_(n.onlineState),a.K_&&e.H_(a.K_)&&KA(n)}async function N4(t,e){const n=Qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.U_.indexOf(e);o>=0&&(a.U_.splice(o,1),a.U_.length===0?i=e.G_()?0:1:!a.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hK(t,e){const n=Qe(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&KA(n)}function fK(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const a of i.U_)a.onError(n);r.queries.delete(e)}function KA(t){t.z_.forEach(e=>{e.next()})}var M2,cC;(cC=M2||(M2={})).J_="default",cC.Cache="cache";class T4{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==M2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.key=e}}class C4{constructor(e){this.key=e}}class mK{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ut(),this.mutatedKeys=ut(),this.Ia=qD(e),this.Ta=new hh(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new lC,i=n?n.Ta:this.Ta;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const p=i.get(f),y=bb(this.query,m)?m:null,P=!!p&&this.mutatedKeys.has(p.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?P!==_&&(r.track({type:3,doc:y}),A=!0):this.Ra(p,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.Ia(y,c)>0||d&&this.Ia(y,d)<0)&&(l=!0)):!p&&y?(r.track({type:0,doc:y}),A=!0):p&&!y&&(r.track({type:1,doc:p}),A=!0,(c||d)&&(l=!0)),A&&(y?(o=o.add(y),a=_?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:a}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,m)=>function(y,P){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return _(y)-_(P)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,d=c!==this.ha;return this.ha=c,o.length!==0||d?{snapshot:new Mh(this.query,e.Ta,a,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new lC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ut(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new C4(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new k4(r))}),n}pa(e){this.la=e.hs,this.Pa=ut();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Mh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class pK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gK{constructor(e){this.key=e,this.wa=!1}}class yK{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new wf(l=>HD(l),wb),this.Da=new Map,this.Ca=new Set,this.va=new vn(je.comparator),this.Fa=new Map,this.Ma=new jA,this.xa={},this.Oa=new Map,this.Na=Oh.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function vK(t,e,n=!0){const r=$4(t);let i;const a=r.ba.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ya()):i=await I4(r,e,n,!0),i}async function wK(t,e){const n=$4(t);await I4(n,e,!0,!1)}async function I4(t,e,n,r){const i=await Fq(t.localStore,$o(e)),a=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(a):"not-current";let l;return r&&(l=await bK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&b4(t.remoteStore,i),l}async function bK(t,e,n,r,i){t.Ba=(m,p,y)=>async function(_,A,N,E){let w=A.view.da(N);w.Xi&&(w=await iC(_.localStore,A.query,!1).then(({documents:S})=>A.view.da(S,w)));const C=E&&E.targetChanges.get(A.targetId),$=E&&E.targetMismatches.get(A.targetId)!=null,D=A.view.applyChanges(w,_.isPrimaryClient,C,$);return dC(_,A.targetId,D.fa),D.snapshot}(t,m,p,y);const a=await iC(t.localStore,e,!0),o=new mK(e,a.hs),l=o.da(a.documents),c=qg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);dC(t,n,d.fa);const f=new pK(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot}async function xK(t,e,n){const r=Qe(t),i=r.ba.get(e),a=r.Da.get(i.targetId);if(a.length>1)return r.Da.set(i.targetId,a.filter(o=>!wb(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await O2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FA(r.remoteStore,i.targetId),R2(r,i.targetId)}).catch(Ug)):(R2(r,i.targetId),await O2(r.localStore,i.targetId,!0))}async function _K(t,e){const n=Qe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FA(n.remoteStore,r.targetId))}async function SK(t,e,n){const r=CK(t);try{const i=await function(o,l){const c=Qe(o),d=Nn.now(),f=l.reduce((y,P)=>y.add(P.key),ut());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let P=Vs(),_=ut();return c.os.getEntries(y,f).next(A=>{P=A,P.forEach((N,E)=>{E.isValidDocument()||(_=_.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,P)).next(A=>{m=A;const N=[];for(const E of l){const w=qH(E,m.get(E.key).overlayedDocument);w!=null&&N.push(new Sc(E.key,w,DD(w.value.mapValue),ga.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,N,l)}).next(A=>{p=A;const N=A.applyToLocalDocumentSet(m,_);return c.documentOverlayCache.saveOverlays(y,A.batchId,N)})}).then(()=>({batchId:p.batchId,changes:GD(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let d=o.xa[o.currentUser.toKey()];d||(d=new vn(Nt)),d=d.insert(l,c),o.xa[o.currentUser.toKey()]=d}(r,i.batchId,n),await Gg(r,i.changes),await Pb(r.remoteStore)}catch(i){const a=qA(i,"Failed to persist write");n.reject(a)}}async function O4(t,e){const n=Qe(t);try{const r=await jq(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Fa.get(a);o&&(qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?qt(o.wa):i.removedDocuments.size>0&&(qt(o.wa),o.wa=!1))}),await Gg(n,r,e)}catch(r){await Ug(r)}}function uC(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((a,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Qe(o);c.onlineState=l;let d=!1;c.queries.forEach((f,m)=>{for(const p of m.U_)p.j_(l)&&(d=!0)}),d&&KA(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EK(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),a=i&&i.key;if(a){let o=new vn(je.comparator);o=o.insert(a,Cr.newNoDocument(a,Xe.min()));const l=ut().add(a),c=new Sb(Xe.min(),new Map,new vn(Nt),o,l);await O4(r,c),r.va=r.va.remove(a),r.Fa.delete(e),GA(r)}else await O2(r.localStore,e,!1).then(()=>R2(r,e,n)).catch(Ug)}async function AK(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await Dq(n.localStore,e);R4(n,r,null),M4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gg(n,i)}catch(i){await Ug(i)}}async function PK(t,e,n){const r=Qe(t);try{const i=await function(o,l){const c=Qe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(qt(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);R4(r,e,n),M4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gg(r,i)}catch(i){await Ug(i)}}function M4(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function R4(t,e,n){const r=Qe(t);let i=r.xa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function R2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||L4(t,r)})}function L4(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(FA(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),GA(t))}function dC(t,e,n){for(const r of n)r instanceof k4?(t.Ma.addReference(r.key,e),NK(t,r)):r instanceof C4?(Me("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||L4(t,r.key)):Ke()}function NK(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Me("SyncEngine","New document in limbo: "+n),t.Ca.add(r),GA(t))}function GA(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new je(nn.fromString(e)),r=t.Na.next();t.Fa.set(r,new gK(n)),t.va=t.va.insert(n,r),b4(t.remoteStore,new Ul($o(MA(n.path)),r,"TargetPurposeLimboResolution",NA.oe))}}async function Gg(t,e,n){const r=Qe(t),i=[],a=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=zA.Ki(c.targetId,d);a.push(m)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,d){const f=Qe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>we.forEach(d,p=>we.forEach(p.qi,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>we.forEach(p.Qi,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!Wg(m))throw m;Me("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.ns.get(p),P=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(P);f.ns=f.ns.insert(p,_)}}}(r.localStore,a))}async function TK(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=await g4(n.localStore,e);n.currentUser=e,function(a,o){a.Oa.forEach(l=>{l.forEach(c=>{c.reject(new Te(de.CANCELLED,o))})}),a.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gg(n,r.us)}}function kK(t,e){const n=Qe(t),r=n.Fa.get(e);if(r&&r.wa)return ut().add(r.key);{let i=ut();const a=n.Da.get(e);if(!a)return i;for(const o of a){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function $4(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EK.bind(null,e),e.Sa.h_=hK.bind(null,e.eventManager),e.Sa.ka=fK.bind(null,e.eventManager),e}function CK(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PK.bind(null,e),e}class hC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Eb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $q(this.persistence,new Rq,e.initialUser,this.serializer)}createPersistence(e){return new Iq(BA.Hr,this.serializer)}createSharedClientState(e){return new Uq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IK{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TK.bind(null,this.syncEngine),await cK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dK}()}createDatastore(e){const n=Eb(e.databaseInfo.databaseId),r=function(a){return new Kq(a)}(e.databaseInfo);return function(a,o,l,c){return new Yq(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,l){return new Qq(r,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uC(this.syncEngine,n,0),function(){return oC.D()?new oC:new Wq}())}createSyncEngine(e,n){return function(i,a,o,l,c,d,f){const m=new yK(i,a,o,l,c,d);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Qe(r);Me("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Kg(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=RD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{Me("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Me("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function k_(t,e){t.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await g4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RK(t);Me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sC(e.remoteStore,i)),t._onlineComponents=e}function MK(t){return t.name==="FirebaseError"?t.code===de.FAILED_PRECONDITION||t.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function RK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await k_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!MK(n))throw n;Th("Error using user provided cache. Falling back to memory cache: "+n),await k_(t,new hC)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await k_(t,new hC);return t._offlineComponents}async function j4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await fC(t,t._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await fC(t,new IK))),t._onlineComponents}function LK(t){return j4(t).then(e=>e.syncEngine)}async function B4(t){const e=await j4(t),n=e.eventManager;return n.onListen=vK.bind(null,e.syncEngine),n.onUnlisten=xK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_K.bind(null,e.syncEngine),n}function $K(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const f=new D4({next:p=>{o.enqueueAndForget(()=>N4(a,m));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new Te(de.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new Te(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new T4(MA(l.path),f,{includeMetadataChanges:!0,ra:!0});return P4(a,m)}(await B4(t),t.asyncQueue,e,n,r)),r.promise}function DK(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const f=new D4({next:p=>{o.enqueueAndForget(()=>N4(a,m)),p.fromCache&&c.source==="server"?d.reject(new Te(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new T4(l,f,{includeMetadataChanges:!0,ra:!0});return P4(a,m)}(await B4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t,e,n){if(!n)throw new Te(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jK(t,e,n,r){if(e===!0&&r===!0)throw new Te(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pC(t){if(!je.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gC(t){if(je.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function no(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nb(t);throw new Te(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function BK(t,e){if(e<=0)throw new Te(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Te(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rH;switch(r.type){case"firstParty":return new sH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mC.get(n);r&&(Me("ComponentProvider","Removing Datastore"),mC.delete(n),r.terminate())}(this),Promise.resolve()}}function zK(t,e,n,r={}){var i;const a=(t=no(t,Tb))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Tr.MOCK_USER;else{l=_9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Te(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Tr(d)}t._authCredentials=new iH(new MD(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class Wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}}class lc extends Ec{constructor(e,n,r){super(e,n,MA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new je(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function it(t,e,...n){if(t=Gn(t),F4("collection","path",e),t instanceof Tb){const r=nn.fromString(e,...n);return gC(r),new lc(t,null,r)}{if(!(t instanceof Wr||t instanceof lc))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return gC(r),new lc(t.firestore,null,r)}}function jn(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=RD.newId()),F4("doc","path",e),t instanceof Tb){const r=nn.fromString(e,...n);return pC(r),new Wr(t,null,new je(r))}{if(!(t instanceof Wr||t instanceof lc))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return pC(r),new Wr(t.firestore,t instanceof lc?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new v4(this,"async_queue_retry"),this.hu=()=>{const n=T_();n&&Me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=T_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=T_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Is;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Wg(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Fs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=HA.createAndSchedule(this,e,n,r,a=>this.Eu(a));return this._u.push(i),i}Pu(){this.au&&Ke()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Qu extends Tb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new FK}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||V4(this),this._firestoreClient.terminate()}}function VK(t,e){const n=typeof t=="object"?t:V5(),r=typeof t=="string"?t:e||"(default)",i=pA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=b9("firestore");a&&zK(i,...a)}return i}function ZA(t){return t._firestoreClient||V4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function V4(t){var e,n,r;const i=t._freezeSettings(),a=function(l,c,d,f){return new bH(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,z4(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OK(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rh(Or.fromBase64String(e))}catch(n){throw new Te(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rh(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=/^__.*__$/;class WK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hg(e,this.data,n,this.fieldTransforms)}}class U4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Sc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class YA{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.mu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new YA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return D0(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(W4(this.fu)&&UK.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class HK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Eb(e)}Fu(e,n,r,i=!1){return new YA({fu:e,methodName:n,vu:r,path:yr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cb(t){const e=t._freezeSettings(),n=Eb(t._databaseId);return new HK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H4(t,e,n,r,i,a={}){const o=t.Fu(a.merge||a.mergeFields?2:0,e,n,i);JA("Data must be an object, but it was:",o,r);const l=q4(r,o);let c,d;if(a.merge)c=new Ti(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const m of a.mergeFields){const p=L2(e,m,n);if(!o.contains(p))throw new Te(de.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);G4(f,p)||f.push(p)}c=new Ti(f),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new WK(new ai(l),c,d)}class Ib extends Zg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ib}}class XA extends Zg{_toFieldTransform(e){return new r4(e.path,new Rp)}isEqual(e){return e instanceof XA}}class QA extends Zg{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new Dp(e.serializer,QD(e.serializer,this.xu));return new r4(e.path,n)}isEqual(e){return e instanceof QA&&this.xu===e.xu}}function qK(t,e,n,r){const i=t.Fu(1,e,n);JA("Data must be an object, but it was:",i,r);const a=[],o=ai.empty();Yu(r,(c,d)=>{const f=eP(e,c,n);d=Gn(d);const m=i.Su(f);if(d instanceof Ib)a.push(f);else{const p=Yg(d,m);p!=null&&(a.push(f),o.set(f,p))}});const l=new Ti(a);return new U4(o,l,i.fieldTransforms)}function KK(t,e,n,r,i,a){const o=t.Fu(1,e,n),l=[L2(e,r,n)],c=[i];if(a.length%2!=0)throw new Te(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(L2(e,a[p])),c.push(a[p+1]);const d=[],f=ai.empty();for(let p=l.length-1;p>=0;--p)if(!G4(d,l[p])){const y=l[p];let P=c[p];P=Gn(P);const _=o.Su(y);if(P instanceof Ib)d.push(y);else{const A=Yg(P,_);A!=null&&(d.push(y),f.set(y,A))}}const m=new Ti(d);return new U4(f,m,o.fieldTransforms)}function GK(t,e,n,r=!1){return Yg(n,t.Fu(r?4:3,e))}function Yg(t,e){if(K4(t=Gn(t)))return JA("Unsupported field value:",e,t),q4(t,e);if(t instanceof Zg)return function(r,i){if(!W4(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const l of r){let c=Yg(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Nn.fromDate(r);return{timestampValue:L0(i.serializer,a)}}if(r instanceof Nn){const a=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:L0(i.serializer,a)}}if(r instanceof Lh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rh)return{bytesValue:c4(i.serializer,r._byteString)};if(r instanceof Wr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:DA(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Nb(r)}`)}(t,e)}function q4(t,e){const n={};return LD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yu(t,(r,i)=>{const a=Yg(i,e.pu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function K4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof Lh||t instanceof Rh||t instanceof Wr||t instanceof Zg)}function JA(t,e,n){if(!K4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Nb(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function L2(t,e,n){if((e=Gn(e))instanceof kb)return e._internalPath;if(typeof e=="string")return eP(t,e);throw D0("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZK=new RegExp("[~\\*/\\[\\]]");function eP(t,e,n){if(e.search(ZK)>=0)throw D0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kb(...e.split("."))._internalPath}catch{throw D0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function D0(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Te(de.INVALID_ARGUMENT,l+t+c)}function G4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ob("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YK extends Z4{data(){return super.data()}}function Ob(t,e){return typeof e=="string"?eP(t,e):e instanceof kb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tP{}class nP extends tP{}function xt(t,e,...n){let r=[];e instanceof tP&&r.push(e),r=r.concat(n),function(a){const o=a.filter(c=>c instanceof rP).length,l=a.filter(c=>c instanceof Mb).length;if(o>1||o>0&&l>0)throw new Te(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Mb extends nP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mb(e,n,r)}_apply(e){const n=this._parse(e);return Y4(e._query,n),new Ec(e.firestore,e.converter,N2(e._query,n))}_parse(e){const n=Cb(e.firestore);return function(a,o,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Te(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){wC(m,f);const y=[];for(const P of m)y.push(vC(c,a,P));p={arrayValue:{values:y}}}else p=vC(c,a,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||wC(m,f),p=GK(l,o,m,f==="in"||f==="not-in");return $n.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tn(t,e,n){const r=e,i=Ob("where",t);return Mb._create(i,r,n)}class rP extends tP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rP(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:to.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)Y4(o,c),o=N2(o,c)}(e._query,n),new Ec(e.firestore,e.converter,N2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iP extends nP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iP(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mp(a,o)}(e._query,this._field,this._direction);return new Ec(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new vf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function aP(t,e="asc"){const n=e,r=Ob("orderBy",t);return iP._create(r,n)}class oP extends nP{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new oP(e,n,r)}_apply(e){return new Ec(e.firestore,e.converter,R0(e._query,this._limit,this._limitType))}}function QK(t){return BK("limit",t),oP._create("limit",t,"F")}function vC(t,e,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new Te(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WD(e)&&n.indexOf("/")!==-1)throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!je.isDocumentKey(r))throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fk(t,new je(r))}if(n instanceof Wr)return Fk(t,n._key);throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nb(n)}.`)}function wC(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y4(t,e){const n=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JK{convertValue(e,n="none"){switch(zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yu(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new Lh(Rn(e.latitude),Rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cp(e));default:return null}}convertTimestamp(e){const n=pc(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);qt(p4(r));const i=new Ip(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(n)||Fs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q4 extends Z4{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ob("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zv extends Q4{data(e={}){return super.data(e)}}class eG{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Om(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zv(this._firestore,this._userDataWriter,r.key,r,new Om(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Zv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Om(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Zv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Om(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:tG(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){t=no(t,Wr);const e=no(t.firestore,Qu);return $K(ZA(e),t._key).then(n=>nG(e,t,n))}class J4 extends JK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,n)}}function ot(t){t=no(t,Ec);const e=no(t.firestore,Qu),n=ZA(e),r=new J4(e);return XK(t._query),DK(n,t._query).then(i=>new eG(e,r,t,i))}function sP(t,e,n){t=no(t,Wr);const r=no(t.firestore,Qu),i=X4(t.converter,e,n);return Rb(r,[H4(Cb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ga.none())])}function qo(t,e,n,...r){t=no(t,Wr);const i=no(t.firestore,Qu),a=Cb(i);let o;return o=typeof(e=Gn(e))=="string"||e instanceof kb?KK(a,"updateDoc",t._key,e,n,r):qK(a,"updateDoc",t._key,e),Rb(i,[o.toMutation(t._key,ga.exists(!0))])}function lP(t){return Rb(no(t.firestore,Qu),[new RA(t._key,ga.none())])}function ej(t,e){const n=no(t.firestore,Qu),r=jn(t),i=X4(t.converter,e);return Rb(n,[H4(Cb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ga.exists(!1))]).then(()=>r)}function Rb(t,e){return function(r,i){const a=new Is;return r.asyncQueue.enqueueAndForget(async()=>SK(await LK(r),i,a)),a.promise}(ZA(t),e)}function nG(t,e,n){const r=n.docs.get(e._key),i=new J4(t);return new Q4(t,i,e._key,r,new Om(n.hasPendingWrites,n.fromCache),e.converter)}function C_(){return new XA("serverTimestamp")}function rG(t){return new QA("increment",t)}(function(e,n=!0){(function(i){yf=i})(pf),Nh(new Ru("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Qu(new aH(r.getProvider("auth-internal")),new cH(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ip(d.options.projectId,f)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),sc(Dk,"4.6.4",e),sc(Dk,"4.6.4","esm2017")})();var iG="firebase",aG="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sc(iG,aG,"app");const oG={apiKey:"AIzaSyDu9ff69iK-8rPSDD8kxociN6zG8P11kRU",authDomain:"my-untitled-project-a490d.firebaseapp.com",projectId:"my-untitled-project-a490d",storageBucket:"my-untitled-project-a490d.appspot.com",messagingSenderId:"254402062831",appId:"1:254402062831:web:eec15e94235d2597d66e1a",measurementId:"G-L9WS6ZNPXF"},tj=F5(oG),Wl=tH(tj),$e=VK(tj);F7(Wl,yD).catch(t=>{console.error("Error setting persistence:",t)});const nj=W.exports.createContext();function sG({children:t}){const[e,n]=W.exports.useState(null),[r,i]=W.exports.useState(null),[a,o]=W.exports.useState(!0);async function l(p,y,P){try{const{user:_}=await SA(Wl,p,y),A={...P,createdAt:new Date,updatedAt:new Date};return await sP(jn($e,"users",_.uid),A),_}catch(_){throw console.error("Error in signup:",_),_}}async function c(p,y){try{const P=await z7(Wl,p,y),_=await $2(jn($e,"users",P.user.uid));if(_.exists()){const A=_.data();i(A)}return P}catch(P){throw console.error("Error in login:",P),P}}async function d(){try{await mD(Wl),i(null)}catch(p){throw console.error("Error in logout:",p),p}}async function f(p){try{const y=await $2(jn($e,"users",p));return y.exists()?y.data():null}catch(y){return console.error("Error getting user data:",y),null}}W.exports.useEffect(()=>{const p=W7(Wl,async y=>{if(y){const P=await f(y.uid);i(P)}else i(null);n(y),o(!1)});return()=>p()},[]);const m={currentUser:e,userData:r,signup:l,login:c,logout:d,getUserData:f};return u(nj.Provider,{value:m,children:!a&&t})}const Et=()=>{const t=W.exports.useContext(nj);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};var lG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=(t,e)=>{const n=W.exports.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},d)=>W.exports.createElement("svg",{ref:d,...lG,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${cG(t)}`,...c},[...e.map(([f,m])=>W.exports.createElement(f,m)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},jp=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),kn=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cP=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),uG=_e("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),uP=_e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),dG=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),dP=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),hG=_e("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),hP=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Fu=_e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),I_=_e("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),rj=_e("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ij=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),gn=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),fG=_e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ba=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),D2=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Lb=_e("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),mG=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),fh=_e("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),pG=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gG=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),j0=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),yG=_e("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),Bp=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ko=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),aj=_e("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]),bC=_e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),oj=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),fP=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$h=_e("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),zp=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Fp=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),j2=_e("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),mP=_e("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]),vG=_e("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),pP=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),sj=_e("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),gP=_e("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),wG=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),bG=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),lj=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),xG=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),_G=_e("LeafyGreen",[["path",{d:"M2 22c1.25-.987 2.27-1.975 3.9-2.2a5.56 5.56 0 0 1 3.8 1.5 4 4 0 0 0 6.187-2.353 3.5 3.5 0 0 0 3.69-5.116A3.5 3.5 0 0 0 20.95 8 3.5 3.5 0 1 0 16 3.05a3.5 3.5 0 0 0-5.831 1.373 3.5 3.5 0 0 0-5.116 3.69 4 4 0 0 0-2.348 6.155C3.499 15.42 4.409 16.712 4.2 18.1 3.926 19.743 3.014 20.732 2 22",key:"1134nt"}],["path",{d:"M2 22 17 7",key:"1q7jp2"}]]),SG=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Kt=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Vp=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),EG=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),cj=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Xg=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ft=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),AG=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),PG=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),xC=_e("Navigation2",[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]]),uj=_e("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),un=_e("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),yP=_e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),B2=_e("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),jo=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),_C=_e("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),NG=_e("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),TG=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),SC=_e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),Vo=_e("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),kG=_e("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),dj=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),vP=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Qa=_e("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),ao=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wP=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),CG=_e("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),IG=_e("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),hj=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),OG=_e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),bP=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xf=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Os=_e("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),$b=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ro=_e("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),fj=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),mj=_e("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),MG=_e("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),xP=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),RG=_e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Us=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ci=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),LG=_e("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Vu=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$G=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/*!
* sweetalert2 v11.16.0
* Released under the MIT License.
*/function pj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function DG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EC(t,e){return t.get(pj(t,e))}function jG(t,e,n){DG(t,e),e.set(t,n)}function BG(t,e,n){return t.set(pj(t,e),n),n}const zG=100,ze={},FG=()=>{ze.previousActiveElement instanceof HTMLElement?(ze.previousActiveElement.focus(),ze.previousActiveElement=null):document.body&&document.body.focus()},VG=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ze.restoreFocusTimeout=setTimeout(()=>{FG(),e()},zG),window.scrollTo(n,r)}),gj="swal2-",UG=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],se=UG.reduce((t,e)=>(t[e]=gj+e,t),{}),WG=["success","warning","info","question","error"],B0=WG.reduce((t,e)=>(t[e]=gj+e,t),{}),yj="SweetAlert2:",_P=t=>t.charAt(0).toUpperCase()+t.slice(1),qr=t=>{console.warn(`${yj} ${typeof t=="object"?t.join(" "):t}`)},Ju=t=>{console.error(`${yj} ${t}`)},AC=[],HG=t=>{AC.includes(t)||(AC.push(t),qr(t))},vj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;HG(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Db=t=>typeof t=="function"?t():t,SP=t=>t&&typeof t.toPromise=="function",Qg=t=>SP(t)?t.toPromise():Promise.resolve(t),EP=t=>t&&Promise.resolve(t)===t,Yr=()=>document.body.querySelector(`.${se.container}`),Jg=t=>{const e=Yr();return e?e.querySelector(t):null},ji=t=>Jg(`.${t}`),_t=()=>ji(se.popup),_f=()=>ji(se.icon),qG=()=>ji(se["icon-content"]),wj=()=>ji(se.title),AP=()=>ji(se["html-container"]),bj=()=>ji(se.image),PP=()=>ji(se["progress-steps"]),jb=()=>ji(se["validation-message"]),Uo=()=>Jg(`.${se.actions} .${se.confirm}`),Sf=()=>Jg(`.${se.actions} .${se.cancel}`),ed=()=>Jg(`.${se.actions} .${se.deny}`),KG=()=>ji(se["input-label"]),Ef=()=>Jg(`.${se.loader}`),ey=()=>ji(se.actions),xj=()=>ji(se.footer),Bb=()=>ji(se["timer-progress-bar"]),NP=()=>ji(se.close),GG=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,TP=()=>{const t=_t();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,o)=>{const l=parseInt(a.getAttribute("tabindex")||"0"),c=parseInt(o.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),r=t.querySelectorAll(GG),i=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(a=>hi(a))},kP=()=>Ms(document.body,se.shown)&&!Ms(document.body,se["toast-shown"])&&!Ms(document.body,se["no-backdrop"]),zb=()=>{const t=_t();return t?Ms(t,se.toast):!1},ZG=()=>{const t=_t();return t?t.hasAttribute("data-loading"):!1},Bi=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(o=>{t.appendChild(o)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Ms=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},YG=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(se).includes(n)&&!Object.values(B0).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Ri=(t,e,n)=>{if(YG(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){qr(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}yt(t,r)}},Fb=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${se.popup} > .${se[e]}`);case"checkbox":return t.querySelector(`.${se.popup} > .${se.checkbox} input`);case"radio":return t.querySelector(`.${se.popup} > .${se.radio} input:checked`)||t.querySelector(`.${se.popup} > .${se.radio} input:first-child`);case"range":return t.querySelector(`.${se.popup} > .${se.range} input`);default:return t.querySelector(`.${se.popup} > .${se.input}`)}},_j=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Sj=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},yt=(t,e)=>{Sj(t,e,!0)},xa=(t,e)=>{Sj(t,e,!1)},Hl=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&Ms(i,e))return i}},Pu=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},cr=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},Mr=t=>{t&&(t.style.display="none")},CP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{ty(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},PC=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},ty=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?cr(t,n):Mr(t)},hi=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),XG=()=>!hi(Uo())&&!hi(ed())&&!hi(Sf()),NC=t=>t.scrollHeight>t.clientHeight,Ej=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},IP=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Bb();n&&hi(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},QG=()=>{const t=Bb();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},JG=()=>typeof window>"u"||typeof document>"u",eZ=`
 <div aria-labelledby="${se.title}" aria-describedby="${se["html-container"]}" class="${se.popup}" tabindex="-1">
   <button type="button" class="${se.close}"></button>
   <ul class="${se["progress-steps"]}"></ul>
   <div class="${se.icon}"></div>
   <img class="${se.image}" />
   <h2 class="${se.title}" id="${se.title}"></h2>
   <div class="${se["html-container"]}" id="${se["html-container"]}"></div>
   <input class="${se.input}" id="${se.input}" />
   <input type="file" class="${se.file}" />
   <div class="${se.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${se.select}" id="${se.select}"></select>
   <div class="${se.radio}"></div>
   <label class="${se.checkbox}">
     <input type="checkbox" id="${se.checkbox}" />
     <span class="${se.label}"></span>
   </label>
   <textarea class="${se.textarea}" id="${se.textarea}"></textarea>
   <div class="${se["validation-message"]}" id="${se["validation-message"]}"></div>
   <div class="${se.actions}">
     <div class="${se.loader}"></div>
     <button type="button" class="${se.confirm}"></button>
     <button type="button" class="${se.deny}"></button>
     <button type="button" class="${se.cancel}"></button>
   </div>
   <div class="${se.footer}"></div>
   <div class="${se["timer-progress-bar-container"]}">
     <div class="${se["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),tZ=()=>{const t=Yr();return t?(t.remove(),xa([document.documentElement,document.body],[se["no-backdrop"],se["toast-shown"],se["has-column"]]),!0):!1},eu=()=>{ze.currentInstance.resetValidationMessage()},nZ=()=>{const t=_t(),e=Hl(t,se.input),n=Hl(t,se.file),r=t.querySelector(`.${se.range} input`),i=t.querySelector(`.${se.range} output`),a=Hl(t,se.select),o=t.querySelector(`.${se.checkbox} input`),l=Hl(t,se.textarea);e.oninput=eu,n.onchange=eu,a.onchange=eu,o.onchange=eu,l.oninput=eu,r.oninput=()=>{eu(),i.value=r.value},r.onchange=()=>{eu(),i.value=r.value}},rZ=t=>typeof t=="string"?document.querySelector(t):t,iZ=t=>{const e=_t();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},aZ=t=>{window.getComputedStyle(t).direction==="rtl"&&yt(Yr(),se.rtl)},oZ=t=>{const e=tZ();if(JG()){Ju("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=se.container,e&&yt(n,se["no-transition"]),Bi(n,eZ),n.dataset.swal2Theme=t.theme;const r=rZ(t.target);r.appendChild(n),iZ(t),aZ(r),nZ()},OP=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?sZ(t,e):t&&Bi(e,t)},sZ=(t,e)=>{t.jquery?lZ(e,t):Bi(e,t.toString())},lZ=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},cZ=(t,e)=>{const n=ey(),r=Ef();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Mr(n):cr(n),Ri(n,e,"actions"),uZ(n,r,e),Bi(r,e.loaderHtml||""),Ri(r,e,"loader"))};function uZ(t,e,n){const r=Uo(),i=ed(),a=Sf();!r||!i||!a||(O_(r,"confirm",n),O_(i,"deny",n),O_(a,"cancel",n),dZ(r,i,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(i,r)):(t.insertBefore(a,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function dZ(t,e,n,r){if(!r.buttonsStyling){xa([t,e,n],se.styled);return}yt([t,e,n],se.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,yt(t,se["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,yt(e,se["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,yt(n,se["default-outline"]))}function O_(t,e,n){const r=_P(e);ty(t,n[`show${r}Button`],"inline-block"),Bi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=se[e],Ri(t,n,`${e}Button`)}const hZ=(t,e)=>{const n=NP();n&&(Bi(n,e.closeButtonHtml||""),Ri(n,e,"closeButton"),ty(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},fZ=(t,e)=>{const n=Yr();n&&(mZ(n,e.backdrop),pZ(n,e.position),gZ(n,e.grow),Ri(n,e,"container"))};function mZ(t,e){typeof e=="string"?t.style.background=e:e||yt([document.documentElement,document.body],se["no-backdrop"])}function pZ(t,e){e&&(e in se?yt(t,se[e]):(qr('The "position" parameter is not valid, defaulting to "center"'),yt(t,se.center)))}function gZ(t,e){e&&yt(t,se[`grow-${e}`])}var Gt={innerParams:new WeakMap,domCache:new WeakMap};const yZ=["input","file","range","select","radio","checkbox","textarea"],vZ=(t,e)=>{const n=_t();if(!n)return;const r=Gt.innerParams.get(t),i=!r||e.input!==r.input;yZ.forEach(a=>{const o=Hl(n,se[a]);o&&(xZ(a,e.inputAttributes),o.className=se[a],i&&Mr(o))}),e.input&&(i&&wZ(e),_Z(e))},wZ=t=>{if(!t.input)return;if(!An[t.input]){Ju(`Unexpected type of input! Expected ${Object.keys(An).join(" | ")}, got "${t.input}"`);return}const e=Aj(t.input);if(!e)return;const n=An[t.input](e,t);cr(e),t.inputAutoFocus&&setTimeout(()=>{_j(n)})},bZ=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},xZ=(t,e)=>{const n=_t();if(!n)return;const r=Fb(n,t);if(r){bZ(r);for(const i in e)r.setAttribute(i,e[i])}},_Z=t=>{if(!t.input)return;const e=Aj(t.input);e&&Ri(e,t,"input")},MP=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},ny=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=se["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&yt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},Aj=t=>{const e=_t();if(e)return Hl(e,se[t]||se.input)},z0=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:EP(e)||qr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},An={};An.text=An.email=An.password=An.number=An.tel=An.url=An.search=An.date=An["datetime-local"]=An.time=An.week=An.month=(t,e)=>(z0(t,e.inputValue),ny(t,t,e),MP(t,e),t.type=e.input,t);An.file=(t,e)=>(ny(t,t,e),MP(t,e),t);An.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return z0(n,e.inputValue),n.type=e.input,z0(r,e.inputValue),ny(n,t,e),t};An.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Bi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ny(t,t,e),t};An.radio=t=>(t.textContent="",t);An.checkbox=(t,e)=>{const n=Fb(_t(),"checkbox");n.value="1",n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return Bi(r,e.inputPlaceholder||e.inputLabel),n};An.textarea=(t,e)=>{z0(t,e.inputValue),MP(t,e),ny(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(_t()).width),i=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?_t().style.width=`${a}px`:Pu(_t(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const SZ=(t,e)=>{const n=AP();n&&(CP(n),Ri(n,e,"htmlContainer"),e.html?(OP(e.html,n),cr(n,"block")):e.text?(n.textContent=e.text,cr(n,"block")):Mr(n),vZ(t,e))},EZ=(t,e)=>{const n=xj();n&&(CP(n),ty(n,e.footer,"block"),e.footer&&OP(e.footer,n),Ri(n,e,"footer"))},AZ=(t,e)=>{const n=Gt.innerParams.get(t),r=_f();if(!r)return;if(n&&e.icon===n.icon){kC(r,e),TC(r,e);return}if(!e.icon&&!e.iconHtml){Mr(r);return}if(e.icon&&Object.keys(B0).indexOf(e.icon)===-1){Ju(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Mr(r);return}cr(r),kC(r,e),TC(r,e),yt(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Pj)},TC=(t,e)=>{for(const[n,r]of Object.entries(B0))e.icon!==n&&xa(t,r);yt(t,e.icon&&B0[e.icon]),TZ(t,e),Pj(),Ri(t,e,"icon")},Pj=()=>{const t=_t();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},PZ=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,NZ=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,kC=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=CC(e.iconHtml):e.icon==="success"?(r=PZ,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=NZ:e.icon&&(r=CC({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Bi(t,r)},TZ=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])PC(t,n,"background-color",e.iconColor);PC(t,".swal2-success-ring","border-color",e.iconColor)}},CC=t=>`<div class="${se["icon-content"]}">${t}</div>`,kZ=(t,e)=>{const n=bj();if(n){if(!e.imageUrl){Mr(n);return}cr(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Pu(n,"width",e.imageWidth),Pu(n,"height",e.imageHeight),n.className=se.image,Ri(n,e,"image")}};let RP=!1,Nj=0,Tj=0,kj=0,Cj=0;const CZ=t=>{t.addEventListener("mousedown",F0),document.body.addEventListener("mousemove",V0),t.addEventListener("mouseup",U0),t.addEventListener("touchstart",F0),document.body.addEventListener("touchmove",V0),t.addEventListener("touchend",U0)},IZ=t=>{t.removeEventListener("mousedown",F0),document.body.removeEventListener("mousemove",V0),t.removeEventListener("mouseup",U0),t.removeEventListener("touchstart",F0),document.body.removeEventListener("touchmove",V0),t.removeEventListener("touchend",U0)},F0=t=>{const e=_t();if(t.target===e||_f().contains(t.target)){RP=!0;const n=Ij(t);Nj=n.clientX,Tj=n.clientY,kj=parseInt(e.style.insetInlineStart)||0,Cj=parseInt(e.style.insetBlockStart)||0,yt(e,"swal2-dragging")}},V0=t=>{const e=_t();if(RP){let{clientX:n,clientY:r}=Ij(t);e.style.insetInlineStart=`${kj+(n-Nj)}px`,e.style.insetBlockStart=`${Cj+(r-Tj)}px`}},U0=()=>{const t=_t();RP=!1,xa(t,"swal2-dragging")},Ij=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},OZ=(t,e)=>{const n=Yr(),r=_t();if(!(!n||!r)){if(e.toast){Pu(n,"width",e.width),r.style.width="100%";const i=Ef();i&&r.insertBefore(i,_f())}else Pu(r,"width",e.width);Pu(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Mr(jb()),MZ(r,e),e.draggable&&!e.toast?(yt(r,se.draggable),CZ(r)):(xa(r,se.draggable),IZ(r))}},MZ=(t,e)=>{const n=e.showClass||{};t.className=`${se.popup} ${hi(t)?n.popup:""}`,e.toast?(yt([document.documentElement,document.body],se["toast-shown"]),yt(t,se.toast)):yt(t,se.modal),Ri(t,e,"popup"),typeof e.customClass=="string"&&yt(t,e.customClass),e.icon&&yt(t,se[`icon-${e.icon}`])},RZ=(t,e)=>{const n=PP();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){Mr(n);return}cr(n),n.textContent="",i>=r.length&&qr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,o)=>{const l=LZ(a);if(n.appendChild(l),o===i&&yt(l,se["active-progress-step"]),o!==r.length-1){const c=$Z(e);n.appendChild(c)}})},LZ=t=>{const e=document.createElement("li");return yt(e,se["progress-step"]),Bi(e,t),e},$Z=t=>{const e=document.createElement("li");return yt(e,se["progress-step-line"]),t.progressStepsDistance&&Pu(e,"width",t.progressStepsDistance),e},DZ=(t,e)=>{const n=wj();n&&(CP(n),ty(n,e.title||e.titleText,"block"),e.title&&OP(e.title,n),e.titleText&&(n.innerText=e.titleText),Ri(n,e,"title"))},Oj=(t,e)=>{OZ(t,e),fZ(t,e),RZ(t,e),AZ(t,e),kZ(t,e),DZ(t,e),hZ(t,e),SZ(t,e),cZ(t,e),EZ(t,e);const n=_t();typeof e.didRender=="function"&&n&&e.didRender(n),ze.eventEmitter.emit("didRender",n)},jZ=()=>hi(_t()),Mj=()=>{var t;return(t=Uo())===null||t===void 0?void 0:t.click()},BZ=()=>{var t;return(t=ed())===null||t===void 0?void 0:t.click()},zZ=()=>{var t;return(t=Sf())===null||t===void 0?void 0:t.click()},Af=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Rj=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},FZ=(t,e,n)=>{Rj(t),e.toast||(t.keydownHandler=r=>UZ(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:_t(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},z2=(t,e)=>{var n;const r=TP();if(r.length){t=t+e,t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=_t())===null||n===void 0||n.focus()},Lj=["ArrowRight","ArrowDown"],VZ=["ArrowLeft","ArrowUp"],UZ=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?WZ(e,t):e.key==="Tab"?HZ(e):[...Lj,...VZ].includes(e.key)?qZ(e.key):e.key==="Escape"&&KZ(e,t,n)))},WZ=(t,e)=>{if(!Db(e.allowEnterKey))return;const n=Fb(_t(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Mj(),t.preventDefault()}},HZ=t=>{const e=t.target,n=TP();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?z2(r,-1):z2(r,1),t.stopPropagation(),t.preventDefault()},qZ=t=>{const e=ey(),n=Uo(),r=ed(),i=Sf();if(!e||!n||!r||!i)return;const a=[n,r,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const o=Lj.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&hi(l))break}l instanceof HTMLButtonElement&&l.focus()}},KZ=(t,e,n)=>{Db(e.allowEscapeKey)&&(t.preventDefault(),n(Af.esc))};var Dh={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const GZ=()=>{const t=Yr();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},$j=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Dj=typeof window<"u"&&!!window.GestureEvent,ZZ=()=>{if(Dj&&!Ms(document.body,se.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,yt(document.body,se.iosfix),YZ()}},YZ=()=>{const t=Yr();if(!t)return;let e;t.ontouchstart=n=>{e=XZ(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},XZ=t=>{const e=t.target,n=Yr(),r=AP();return!n||!r||QZ(t)||JZ(t)?!1:e===n||!NC(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(NC(r)&&r.contains(e))},QZ=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",JZ=t=>t.touches&&t.touches.length>1,eY=()=>{if(Ms(document.body,se.iosfix)){const t=parseInt(document.body.style.top,10);xa(document.body,se.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},tY=()=>{const t=document.createElement("div");t.className=se["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let mh=null;const nY=t=>{mh===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(mh=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${mh+tY()}px`)},rY=()=>{mh!==null&&(document.body.style.paddingRight=`${mh}px`,mh=null)};function jj(t,e,n,r){zb()?IC(t,r):(VG(n).then(()=>IC(t,r)),Rj(ze)),Dj?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),kP()&&(rY(),eY(),$j()),iY()}function iY(){xa([document.documentElement,document.body],[se.shown,se["height-auto"],se["no-backdrop"],se["toast-shown"]])}function ql(t){t=oY(t);const e=Dh.swalPromiseResolve.get(this),n=aY(this);this.isAwaitingPromise?t.isDismissed||(ry(this),e(t)):n&&e(t)}const aY=t=>{const e=_t();if(!e)return!1;const n=Gt.innerParams.get(t);if(!n||Ms(e,n.hideClass.popup))return!1;xa(e,n.showClass.popup),yt(e,n.hideClass.popup);const r=Yr();return xa(r,n.showClass.backdrop),yt(r,n.hideClass.backdrop),sY(t,e,n),!0};function Bj(t){const e=Dh.swalPromiseReject.get(this);ry(this),e&&e(t)}const ry=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Gt.innerParams.get(t)||t._destroy())},oY=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),sY=(t,e,n)=>{var r;const i=Yr(),a=Ej(e);typeof n.willClose=="function"&&n.willClose(e),(r=ze.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?lY(t,e,i,n.returnFocus,n.didClose):jj(t,i,n.returnFocus,n.didClose)},lY=(t,e,n,r,i)=>{ze.swalCloseEventFinishedCallback=jj.bind(null,t,n,r,i);const a=function(o){if(o.target===e){var l;(l=ze.swalCloseEventFinishedCallback)===null||l===void 0||l.call(ze),delete ze.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},IC=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ze.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},jh=t=>{let e=_t();if(e||new et,e=_t(),!e)return;const n=Ef();zb()?Mr(_f()):cY(e,t),cr(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},cY=(t,e)=>{const n=ey(),r=Ef();!n||!r||(!e&&hi(Uo())&&(e=Uo()),cr(n),e&&(Mr(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),yt([t,n],se.loading))},uY=(t,e)=>{e.input==="select"||e.input==="radio"?pY(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(SP(e.inputValue)||EP(e.inputValue))&&(jh(Uo()),gY(t,e))},dY=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return hY(n);case"radio":return fY(n);case"file":return mY(n);default:return e.inputAutoTrim?n.value.trim():n.value}},hY=t=>t.checked?1:0,fY=t=>t.checked?t.value:null,mY=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,pY=(t,e)=>{const n=_t();if(!n)return;const r=i=>{e.input==="select"?yY(n,W0(i),e):e.input==="radio"&&vY(n,W0(i),e)};SP(e.inputOptions)||EP(e.inputOptions)?(jh(Uo()),Qg(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ju(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},gY=(t,e)=>{const n=t.getInput();n&&(Mr(n),Qg(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,cr(n),n.focus(),t.hideLoading()}).catch(r=>{Ju(`Error in inputValue promise: ${r}`),n.value="",cr(n),n.focus(),t.hideLoading()}))};function yY(t,e,n){const r=Hl(t,se.select);if(!r)return;const i=(a,o,l)=>{const c=document.createElement("option");c.value=l,Bi(c,o),c.selected=zj(l,n.inputValue),a.appendChild(c)};e.forEach(a=>{const o=a[0],l=a[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=o,c.disabled=!1,r.appendChild(c),l.forEach(d=>i(c,d[1],d[0]))}else i(r,l,o)}),r.focus()}function vY(t,e,n){const r=Hl(t,se.radio);if(!r)return;e.forEach(a=>{const o=a[0],l=a[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=se.radio,c.value=o,zj(o,n.inputValue)&&(c.checked=!0);const f=document.createElement("span");Bi(f,l),f.className=se.label,d.appendChild(c),d.appendChild(f),r.appendChild(d)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const W0=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=W0(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=W0(r)),e.push([n,r])}),e},zj=(t,e)=>!!e&&e.toString()===t.toString(),wY=t=>{const e=Gt.innerParams.get(t);t.disableButtons(),e.input?Fj(t,"confirm"):$P(t,!0)},bY=t=>{const e=Gt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Fj(t,"deny"):LP(t,!1)},xY=(t,e)=>{t.disableButtons(),e(Af.cancel)},Fj=(t,e)=>{const n=Gt.innerParams.get(t);if(!n.input){Ju(`The "input" parameter is needed to be set when using returnInputValueOn${_P(e)}`);return}const r=t.getInput(),i=dY(t,n);n.inputValidator?_Y(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?LP(t,i):$P(t,i)},_Y=(t,e,n)=>{const r=Gt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Qg(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?LP(t,e):$P(t,e)})},LP=(t,e)=>{const n=Gt.innerParams.get(t||void 0);n.showLoaderOnDeny&&jh(ed()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Qg(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),ry(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>Vj(t||void 0,i))):t.close({isDenied:!0,value:e})},OC=(t,e)=>{t.close({isConfirmed:!0,value:e})},Vj=(t,e)=>{t.rejectPromise(e)},$P=(t,e)=>{const n=Gt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&jh(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Qg(n.preConfirm(e,n.validationMessage))).then(i=>{hi(jb())||i===!1?(t.hideLoading(),ry(t)):OC(t,typeof i>"u"?e:i)}).catch(i=>Vj(t||void 0,i))):OC(t,e)};function H0(){const t=Gt.innerParams.get(this);if(!t)return;const e=Gt.domCache.get(this);Mr(e.loader),zb()?t.icon&&cr(_f()):SY(e),xa([e.popup,e.actions],se.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const SY=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?cr(e[0],"inline-block"):XG()&&Mr(t.actions)};function Uj(){const t=Gt.innerParams.get(this),e=Gt.domCache.get(this);return e?Fb(e.popup,t.input):null}function Wj(t,e,n){const r=Gt.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function Hj(t,e){const n=_t();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${se.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function qj(){Wj(this,["confirmButton","denyButton","cancelButton"],!1)}function Kj(){Wj(this,["confirmButton","denyButton","cancelButton"],!0)}function Gj(){Hj(this.getInput(),!1)}function Zj(){Hj(this.getInput(),!0)}function Yj(t){const e=Gt.domCache.get(this),n=Gt.innerParams.get(this);Bi(e.validationMessage,t),e.validationMessage.className=se["validation-message"],n.customClass&&n.customClass.validationMessage&&yt(e.validationMessage,n.customClass.validationMessage),cr(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",se["validation-message"]),_j(r),yt(r,se.inputerror))}function Xj(){const t=Gt.domCache.get(this);t.validationMessage&&Mr(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),xa(e,se.inputerror))}const ph={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},EY=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],AY={allowEnterKey:void 0},PY=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qj=t=>Object.prototype.hasOwnProperty.call(ph,t),Jj=t=>EY.indexOf(t)!==-1,e3=t=>AY[t],NY=t=>{Qj(t)||qr(`Unknown parameter "${t}"`)},TY=t=>{PY.includes(t)&&qr(`The parameter "${t}" is incompatible with toasts`)},kY=t=>{const e=e3(t);e&&vj(t,e)},t3=t=>{t.backdrop===!1&&t.allowOutsideClick&&qr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto"].includes(t.theme)&&qr(`Invalid theme "${t.theme}". Expected "light", "dark", or "auto"`);for(const e in t)NY(e),t.toast&&TY(e),kY(e)};function n3(t){const e=Yr(),n=_t(),r=Gt.innerParams.get(this);if(!n||Ms(n,r.hideClass.popup)){qr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=CY(t),a=Object.assign({},r,i);t3(a),e.dataset.swal2Theme=a.theme,Oj(this,a),Gt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const CY=t=>{const e={};return Object.keys(t).forEach(n=>{Jj(n)?e[n]=t[n]:qr(`Invalid parameter to update: ${n}`)}),e};function r3(){const t=Gt.domCache.get(this),e=Gt.innerParams.get(this);if(!e){i3(this);return}t.popup&&ze.swalCloseEventFinishedCallback&&(ze.swalCloseEventFinishedCallback(),delete ze.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ze.eventEmitter.emit("didDestroy"),IY(this)}const IY=t=>{i3(t),delete t.params,delete ze.keydownHandler,delete ze.keydownTarget,delete ze.currentInstance},i3=t=>{t.isAwaitingPromise?(M_(Gt,t),t.isAwaitingPromise=!0):(M_(Dh,t),M_(Gt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},M_=(t,e)=>{for(const n in t)t[n].delete(e)};var OY=Object.freeze({__proto__:null,_destroy:r3,close:ql,closeModal:ql,closePopup:ql,closeToast:ql,disableButtons:Kj,disableInput:Zj,disableLoading:H0,enableButtons:qj,enableInput:Gj,getInput:Uj,handleAwaitingPromise:ry,hideLoading:H0,rejectPromise:Bj,resetValidationMessage:Xj,showValidationMessage:Yj,update:n3});const MY=(t,e,n)=>{t.toast?RY(t,e,n):($Y(e),DY(e),jY(t,e,n))},RY=(t,e,n)=>{e.popup.onclick=()=>{t&&(LY(t)||t.timer||t.input)||n(Af.close)}},LY=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let q0=!1;const $Y=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(q0=!0)}}},DY=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(q0=!0)}}},jY=(t,e,n)=>{e.container.onclick=r=>{if(q0){q0=!1;return}r.target===e.container&&Db(t.allowOutsideClick)&&n(Af.backdrop)}},BY=t=>typeof t=="object"&&t.jquery,MC=t=>t instanceof Element||BY(t),zY=t=>{const e={};return typeof t[0]=="object"&&!MC(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||MC(i)?e[n]=i:i!==void 0&&Ju(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function FY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function VY(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const UY=()=>ze.timeout&&ze.timeout.getTimerLeft(),a3=()=>{if(ze.timeout)return QG(),ze.timeout.stop()},o3=()=>{if(ze.timeout){const t=ze.timeout.start();return IP(t),t}},WY=()=>{const t=ze.timeout;return t&&(t.running?a3():o3())},HY=t=>{if(ze.timeout){const e=ze.timeout.increase(t);return IP(e,!0),e}},qY=()=>!!(ze.timeout&&ze.timeout.isRunning());let RC=!1;const F2={};function KY(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";F2[t]=this,RC||(document.body.addEventListener("click",GY),RC=!0)}const GY=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in F2){const r=e.getAttribute(n);if(r){F2[n].fire({template:r});return}}};let ZY=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){var r=this;const i=function(){r.removeListener(e,i);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];n.apply(r,o)};this.on(e,i)}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,r)}catch(o){console.error(o)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};ze.eventEmitter=new ZY;const YY=(t,e)=>{ze.eventEmitter.on(t,e)},XY=(t,e)=>{ze.eventEmitter.once(t,e)},QY=(t,e)=>{if(!t){ze.eventEmitter.reset();return}e?ze.eventEmitter.removeListener(t,e):ze.eventEmitter.removeAllListeners(t)};var JY=Object.freeze({__proto__:null,argsToParams:zY,bindClickHandler:KY,clickCancel:zZ,clickConfirm:Mj,clickDeny:BZ,enableLoading:jh,fire:FY,getActions:ey,getCancelButton:Sf,getCloseButton:NP,getConfirmButton:Uo,getContainer:Yr,getDenyButton:ed,getFocusableElements:TP,getFooter:xj,getHtmlContainer:AP,getIcon:_f,getIconContent:qG,getImage:bj,getInputLabel:KG,getLoader:Ef,getPopup:_t,getProgressSteps:PP,getTimerLeft:UY,getTimerProgressBar:Bb,getTitle:wj,getValidationMessage:jb,increaseTimer:HY,isDeprecatedParameter:e3,isLoading:ZG,isTimerRunning:qY,isUpdatableParameter:Jj,isValidParameter:Qj,isVisible:jZ,mixin:VY,off:QY,on:YY,once:XY,resumeTimer:o3,showLoading:jh,stopTimer:a3,toggleTimer:WY});class eX{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const s3=["swal-title","swal-html","swal-footer"],tX=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return cX(n),Object.assign(nX(n),rX(n),iX(n),aX(n),oX(n),sX(n),lX(n,s3))},nX=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Uu(r,["name","value"]);const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(typeof ph[i]=="boolean"?e[i]=a!=="false":typeof ph[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},rX=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},iX=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Uu(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${_P(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},aX=t=>{const e={},n=t.querySelector("swal-image");return n&&(Uu(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},oX=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Uu(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},sX=t=>{const e={},n=t.querySelector("swal-input");n&&(Uu(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Uu(i,["value"]);const a=i.getAttribute("value");if(!a)return;const o=i.innerHTML;e.inputOptions[a]=o})),e},lX=(t,e)=>{const n={};for(const r in e){const i=e[r],a=t.querySelector(i);a&&(Uu(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},cX=t=>{const e=s3.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||qr(`Unrecognized element <${r}>`)})},Uu=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&qr([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},l3=10,uX=t=>{const e=Yr(),n=_t();typeof t.willOpen=="function"&&t.willOpen(n),ze.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;fX(e,n,t),setTimeout(()=>{dX(e,n)},l3),kP()&&(hX(e,t.scrollbarPadding,i),GZ()),!zb()&&!ze.previousActiveElement&&(ze.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ze.eventEmitter.emit("didOpen",n),xa(e,se["no-transition"])},K0=t=>{const e=_t();if(t.target!==e)return;const n=Yr();e.removeEventListener("animationend",K0),e.removeEventListener("transitionend",K0),n.style.overflowY="auto"},dX=(t,e)=>{Ej(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",K0),e.addEventListener("transitionend",K0)):t.style.overflowY="auto"},hX=(t,e,n)=>{ZZ(),e&&n!=="hidden"&&nY(n),setTimeout(()=>{t.scrollTop=0})},fX=(t,e,n)=>{yt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),cr(e,"grid"),setTimeout(()=>{yt(e,n.showClass.popup),e.style.removeProperty("opacity")},l3)):cr(e,"grid"),yt([document.documentElement,document.body],se.shown),n.heightAuto&&n.backdrop&&!n.toast&&yt([document.documentElement,document.body],se["height-auto"])};var LC={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function mX(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=LC.email),t.input==="url"&&(t.inputValidator=LC.url))}function pX(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(qr('Target parameter is not valid, defaulting to "body"'),t.target="body")}function gX(t){mX(t),t.showLoaderOnConfirm&&!t.preConfirm&&qr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),pX(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),oZ(t)}let Ao;var rv=new WeakMap;class Cn{constructor(){if(jG(this,rv,void 0),typeof window>"u")return;Ao=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=Object.freeze(this.constructor.argsToParams(n));this.params=i,this.isAwaitingPromise=!1,BG(rv,this,this._main(Ao.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t3(Object.assign({},n,e)),ze.currentInstance){const a=Dh.swalPromiseResolve.get(ze.currentInstance),{isAwaitingPromise:o}=ze.currentInstance;ze.currentInstance._destroy(),o||a({isDismissed:!0}),kP()&&$j()}ze.currentInstance=Ao;const r=vX(e,n);gX(r),Object.freeze(r),ze.timeout&&(ze.timeout.stop(),delete ze.timeout),clearTimeout(ze.restoreFocusTimeout);const i=wX(Ao);return Oj(Ao,r),Gt.innerParams.set(Ao,r),yX(Ao,i,r)}then(e){return EC(rv,this).then(e)}finally(e){return EC(rv,this).finally(e)}}const yX=(t,e,n)=>new Promise((r,i)=>{const a=o=>{t.close({isDismissed:!0,dismiss:o})};Dh.swalPromiseResolve.set(t,r),Dh.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{wY(t)},e.denyButton.onclick=()=>{bY(t)},e.cancelButton.onclick=()=>{xY(t,a)},e.closeButton.onclick=()=>{a(Af.close)},MY(n,e,a),FZ(ze,n,a),uY(t,n),uX(n),bX(ze,n,a),xX(e,n),setTimeout(()=>{e.container.scrollTop=0})}),vX=(t,e)=>{const n=tX(t),r=Object.assign({},ph,e,n,t);return r.showClass=Object.assign({},ph.showClass,r.showClass),r.hideClass=Object.assign({},ph.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},wX=t=>{const e={popup:_t(),container:Yr(),actions:ey(),confirmButton:Uo(),denyButton:ed(),cancelButton:Sf(),loader:Ef(),closeButton:NP(),validationMessage:jb(),progressSteps:PP()};return Gt.domCache.set(t,e),e},bX=(t,e,n)=>{const r=Bb();Mr(r),e.timer&&(t.timeout=new eX(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(cr(r),Ri(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&IP(e.timer)})))},xX=(t,e)=>{if(!e.toast){if(!Db(e.allowEnterKey)){vj("allowEnterKey"),EX();return}_X(t)||SX(t,e)||z2(-1,1)}},_X=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&hi(n))return n.focus(),!0;return!1},SX=(t,e)=>e.focusDeny&&hi(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&hi(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&hi(t.confirmButton)?(t.confirmButton.focus(),!0):!1,EX=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Cn.prototype.disableButtons=Kj;Cn.prototype.enableButtons=qj;Cn.prototype.getInput=Uj;Cn.prototype.disableInput=Zj;Cn.prototype.enableInput=Gj;Cn.prototype.hideLoading=H0;Cn.prototype.disableLoading=H0;Cn.prototype.showValidationMessage=Yj;Cn.prototype.resetValidationMessage=Xj;Cn.prototype.close=ql;Cn.prototype.closePopup=ql;Cn.prototype.closeModal=ql;Cn.prototype.closeToast=ql;Cn.prototype.rejectPromise=Bj;Cn.prototype.update=n3;Cn.prototype._destroy=r3;Object.assign(Cn,JY);Object.keys(OY).forEach(t=>{Cn[t]=function(){return Ao&&Ao[t]?Ao[t](...arguments):null}});Cn.DismissReason=Af;Cn.version="11.16.0";const et=Cn;et.default=et;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-input-background: transparent;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function AX(){const[t,e]=W.exports.useState({email:"",password:""}),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!1),o=Gu(),{login:l,currentUser:c,loading:d}=Et(),f=async p=>{p.preventDefault(),r(!0);try{await l(t.email,t.password),await et.fire({icon:"success",title:"Login Sukses",text:"Anda berhasil masuk!",background:"#f0fff4",color:"#333",iconColor:"#28a745",timer:1500,showConfirmButton:!1,customClass:{popup:"rounded-lg shadow-lg"}}),o("/dashboard")}catch{et.fire({icon:"error",title:"Login Gagal",text:"Email atau password tidak valid",background:"#fff5f5",color:"#333",iconColor:"#d33",confirmButtonColor:"#d33",customClass:{popup:"rounded-lg shadow-lg"}})}finally{r(!1)}},m=p=>{const{name:y,value:P}=p.target;e(_=>({..._,[y]:P}))};return d?u("div",{children:"Loading..."}):c?u(Eo,{to:"/dashboard",replace:!0}):b("main",{className:"min-h-screen grid lg:grid-cols-2 font-poppins",children:[u("section",{className:"flex items-center justify-center p-6 sm:p-8 bg-gray-50",children:b("div",{className:"w-full max-w-xl space-y-6 bg-white p-8 rounded-lg shadow-md",children:[b("div",{className:"flex flex-col items-center",children:[u("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4 shadow-sm",children:u(EG,{size:24,className:"text-emerald-600"})}),u("h1",{className:"text-2xl font-bold text-gray-800",children:"Selamat Datang Kembali!"}),u("p",{className:"mt-2 text-sm text-gray-600",children:"Masuk ke akun Anda"})]}),b("form",{onSubmit:f,className:"space-y-5",children:[b("div",{children:[u("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alamat Email"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Xg,{className:"h-5 w-5 text-gray-600"})}),u("input",{id:"email",type:"email",name:"email",required:!0,value:t.email,onChange:m,placeholder:"Masukkan email Anda",className:"w-full p-3 pl-10 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400"})]})]}),b("div",{children:[u("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kata Sandi"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Vp,{className:"h-5 w-5 text-gray-600"})}),u("input",{id:"password",type:i?"text":"password",name:"password",required:!0,value:t.password,onChange:m,placeholder:"Masukkan kata sandi Anda",className:"w-full p-3 pl-10 pr-12 bg-white border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400"}),u("span",{onClick:()=>a(p=>!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 cursor-pointer select-none",role:"button",tabIndex:0,onKeyDown:p=>{p.key==="Enter"&&a(y=>!y)},children:i?u(zp,{className:"h-5 w-5"}):u(Fp,{className:"h-5 w-5"})})]})]}),u("button",{type:"submit",disabled:n,className:"w-full p-3 text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-colors shadow-sm disabled:opacity-70",children:n?"Masuk...":"Masuk"}),b("p",{className:"text-center text-sm text-gray-700",children:["Belum punya akun?"," ",u(hA,{to:"/register",className:"font-semibold text-emerald-600 hover:text-emerald-700",children:"Daftar Sekarang"})]})]})]})}),u("section",{className:"hidden lg:flex flex-col items-center justify-center bg-gradient-to-br from-emerald-600 to-emerald-800 p-8 xl:p-16",children:b("div",{className:"w-full max-w-lg px-4",children:[u("h2",{className:"text-3xl xl:text-4xl font-bold text-white mb-6 text-center",children:"Selamat Datang di WasteTrack"}),u("p",{className:"text-lg text-white/90 mb-12 text-center",children:"Bergabunglah dengan kami untuk mewujudkan masa depan yang berkelanjutan melalui pengelolaan sampah yang efisien."}),b("div",{className:"space-y-8",children:[b("div",{className:"flex items-center gap-4 text-white backdrop-blur-sm bg-white/10 p-4 rounded-lg",children:[u("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-sm",children:u(fh,{className:"w-6 h-6 text-emerald-600"})}),u("p",{className:"text-lg",children:"Pantau progres pengelolaan sampah Anda"})]}),b("div",{className:"flex items-center gap-4 text-white backdrop-blur-sm bg-white/10 p-4 rounded-lg",children:[u("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-sm",children:u(ij,{className:"w-6 h-6 text-emerald-600"})}),u("p",{className:"text-lg",children:"Update dan notifikasi real-time"})]}),b("div",{className:"flex items-center gap-4 text-white backdrop-blur-sm bg-white/10 p-4 rounded-lg",children:[u("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-sm",children:u($G,{className:"w-6 h-6 text-emerald-600"})}),u("p",{className:"text-lg",children:"Solusi efisien dan berkelanjutan"})]})]})]})})]})}const PX={super_admin:"Super Admin",customer:"Customer",collector:"Collector",wastebank_employee:"Wastebank Employee",wastebank_admin:"Wastebank Admin",industry:"Industry",government:"Government"},NX={super_admin:"Manage all aspects of the system and oversee all users.",customer:"Manage your household waste and earn rewards",collector:"Collect and transport waste efficiently",wastebank_employee:"Process and manage waste at collection points",wastebank_admin:"Oversee waste bank operations",industry:"Access recycling materials and manage sustainability",government:"Monitor and analyze environmental impact"};function TX(){const[t,e]=W.exports.useState(1),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!1),[o,l]=W.exports.useState({email:"",password:"",confirmPassword:"",role:"customer",fullName:"",phone:"",institution:"",address:"",city:"",province:"",coordinates:null}),[c,d]=W.exports.useState(""),[f,m]=W.exports.useState(!1),p=Gu(),{signup:y}=Et(),P=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async N=>{const E=N.coords.latitude,w=N.coords.longitude;l(C=>({...C,coordinates:new Lh(E,w)}));try{const $=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${E}&lon=${w}`)).json();l(D=>({...D,address:$.address.road||"",city:$.address.city||$.address.town||$.address.village||"",province:$.address.state||""}))}catch(C){console.error("Reverse geocoding failed",C),et.fire({icon:"error",title:"Location Error",text:"Failed to retrieve address information.",background:"#fff5f5",color:"#333",iconColor:"#d33",confirmButtonColor:"#d33",customClass:{popup:"rounded-lg shadow-lg"}})}},N=>{console.error("Error obtaining location:",N),et.fire({icon:"error",title:"Location Error",text:"Unable to retrieve location.",background:"#fff5f5",color:"#333",iconColor:"#d33",confirmButtonColor:"#d33",customClass:{popup:"rounded-lg shadow-lg"}})}):et.fire({icon:"error",title:"Geolocation Unsupported",text:"Geolocation is not supported by your browser.",background:"#fff5f5",color:"#333",iconColor:"#d33",confirmButtonColor:"#d33",customClass:{popup:"rounded-lg shadow-lg"}})},_=N=>{const{name:E,value:w}=N.target;l(C=>({...C,[E]:w}))},A=async N=>{if(N.preventDefault(),o.password!==o.confirmPassword)return et.fire({icon:"error",title:"Registration Error",text:"Passwords do not match",background:"#fff5f5",color:"#333",iconColor:"#d33",confirmButtonColor:"#d33",customClass:{popup:"rounded-lg shadow-lg"}});try{m(!0);const E={fullName:o.fullName,phone:o.phone,institution:o.institution,location:{address:o.address,city:o.city,province:o.province,coordinates:o.coordinates}},w={email:o.email,role:o.role,status:"active",profile:E,...o.role==="customer"&&{rewards:{points:0,tier:"rookie"}}};await y(o.email,o.password,w),await et.fire({icon:"success",title:"Account Created",text:"Your account has been created successfully! Please log in.",background:"#f0fff4",color:"#333",iconColor:"#28a745",timer:1500,showConfirmButton:!1,customClass:{popup:"rounded-lg shadow-lg"}}),p("/login")}catch{et.fire({icon:"error",title:"Registration Failed",text:"Failed to create account",background:"#fff5f5",color:"#333",iconColor:"#d33",confirmButtonColor:"#d33",customClass:{popup:"rounded-lg shadow-lg"}})}finally{m(!1)}};return u("main",{className:"min-h-screen bg-blue-50 font-poppins flex items-center justify-center p-4",children:b("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-lg p-8",children:[b("div",{className:"text-center mb-8",children:[u("div",{className:"inline-flex h-14 w-14 items-center justify-center rounded-full bg-emerald-100 mb-4",children:u(xP,{className:"h-7 w-7 text-emerald-600"})}),u("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Create Account"}),u("p",{className:"mt-2 text-sm text-blue-600",children:t===1?"Choose your role and create credentials":"Complete your profile information"})]}),b("div",{className:"mb-8",children:[b("div",{className:"flex items-center mb-2",children:[u("div",{className:`flex-1 h-1 rounded-full ${t>=1?"bg-emerald-500":"bg-gray-200"}`}),u("div",{className:"mx-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium border-2 border-emerald-500 text-emerald-500 bg-white",children:"1"}),u("div",{className:`flex-1 h-1 rounded-full ${t>=2?"bg-emerald-500":"bg-gray-200"}`}),u("div",{className:"mx-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium border-2 border-emerald-500 text-emerald-500 bg-white",children:"2"}),u("div",{className:`flex-1 h-1 rounded-full ${t>=2?"bg-emerald-500":"bg-gray-200"}`})]}),b("div",{className:"flex justify-between text-sm text-gray-600",children:[u("span",{children:"Account"}),u("span",{children:"Profile"})]})]}),c&&u("div",{className:"mb-6 p-3 text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg text-center",children:c}),b("form",{onSubmit:A,className:"space-y-5",children:[t===1?b(Oi,{children:[b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Select Role"}),u("select",{name:"role",value:o.role,onChange:_,className:"w-full p-2.5 bg-white border border-blue-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800",children:Object.entries(PX).map(([N,E])=>u("option",{value:N,children:E},N))}),u("p",{className:"mt-2 text-sm text-gray-600",children:NX[o.role]})]}),b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Email Address"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Xg,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:"email",name:"email",value:o.email,onChange:_,className:"w-full pl-10 pr-3 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your email",required:!0})]})]}),b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Password"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Vp,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:n?"text":"password",name:"password",value:o.password,onChange:_,className:"w-full pl-10 pr-12 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Create a password",required:!0}),u("span",{onClick:()=>r(N=>!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 cursor-pointer select-none",role:"button",tabIndex:0,onKeyDown:N=>{N.key==="Enter"&&r(E=>!E)},children:n?u(zp,{className:"h-5 w-5"}):u(Fp,{className:"h-5 w-5"})})]})]}),b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Confirm Password"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Vp,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:i?"text":"password",name:"confirmPassword",value:o.confirmPassword,onChange:_,className:"w-full pl-10 pr-12 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Confirm your password",required:!0}),u("span",{onClick:()=>a(N=>!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 cursor-pointer select-none",role:"button",tabIndex:0,onKeyDown:N=>{N.key==="Enter"&&a(E=>!E)},children:i?u(zp,{className:"h-5 w-5"}):u(Fp,{className:"h-5 w-5"})})]})]})]}):b(Oi,{children:[b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Full Name"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Us,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:"text",name:"fullName",value:o.fullName,onChange:_,className:"w-full pl-10 pr-3 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your full name",required:!0})]})]}),b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Phone Number"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(jo,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:"tel",name:"phone",value:o.phone,onChange:_,className:"w-full pl-10 pr-3 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your phone number",required:!0})]})]}),o.role!=="customer"&&b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Institution"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(gn,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:"text",name:"institution",value:o.institution,onChange:_,className:"w-full pl-10 pr-3 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your institution name",required:!0})]})]}),b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Address"}),b("div",{className:"relative",children:[u("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:u(Ft,{className:"h-5 w-5 text-blue-400"})}),u("input",{type:"text",name:"address",value:o.address,onChange:_,className:"w-full pl-10 pr-3 py-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your address",required:!0})]})]}),b("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"City"}),u("input",{type:"text",name:"city",value:o.city,onChange:_,className:"w-full p-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your city",required:!0})]}),b("div",{children:[u("label",{className:"block text-sm font-medium text-gray-800 mb-1.5",children:"Province"}),u("input",{type:"text",name:"province",value:o.province,onChange:_,className:"w-full p-2.5 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-800 placeholder:text-gray-400",placeholder:"Enter your province",required:!0})]})]}),b("div",{className:"flex items-center gap-4",children:[u("button",{type:"button",onClick:P,className:"flex-1 p-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Get Current Location"}),u("div",{className:"flex-1 text-center",children:o.coordinates&&u("span",{className:"text-sm text-gray-800",children:`Lat: ${o.coordinates.latitude.toFixed(2)}, Lng: ${o.coordinates.longitude.toFixed(2)}`})})]})]}),b("div",{className:"flex justify-between",children:[t>1&&u("button",{type:"button",onClick:()=>e(t-1),className:"py-2 px-4 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Back"}),t<2&&u("button",{type:"button",onClick:()=>e(t+1),className:"py-2 px-4 rounded-lg text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 transition-colors",children:"Next"}),t===2&&u("button",{type:"submit",disabled:f,className:"py-2 px-4 rounded-lg text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 transition-colors",children:f?"Creating Account...":"Create Account"})]})]}),b("p",{className:"mt-4 text-center text-sm text-blue-600",children:["Already have an account?"," ",u(hA,{to:"/login",className:"font-medium text-emerald-600 hover:text-emerald-700",children:"Sign in"})]})]})})}const kX=()=>{const{userData:t}=Et();if(!t||!t.role)return u("div",{className:"p-6 text-center",children:"Loading dashboard..."});switch(t.role){case"super_admin":return u(Eo,{to:"/dashboard/super-admin",replace:!0});case"wastebank_admin":return u(Eo,{to:"/dashboard/wastebank",replace:!0});case"wastebank_employee":return u(Eo,{to:"/dashboard/wastebank-employee",replace:!0});case"collector":return u(Eo,{to:"/dashboard/collector",replace:!0});case"customer":return u(Eo,{to:"/dashboard/customer",replace:!0});case"government":return u(Eo,{to:"/dashboard/government",replace:!0});case"industry":return u(Eo,{to:"/dashboard/industry",replace:!0});default:return u("div",{className:"p-6 text-center",children:"Role tidak dikenali."})}},It=({children:t})=>{const{currentUser:e}=Et();return e?t:u(Eo,{to:"/login",replace:!0})},Sn=({role:t,onCollapse:e})=>{const n=$g(),r=Gu(),[i,a]=W.exports.useState(!1),[o,l]=W.exports.useState(!1),c=p=>{const y={size:20,className:"group-hover:text-emerald-400 transition-colors"};return{Dashboard:u(xG,{...y}),"User Management":u(Ci,{...y}),"Waste Bank Management":u(gn,{...y}),"System Settings":u(wP,{...y}),Reports:u(mP,{...y}),"Collector Management":u(MG,{...y}),Transactions:u(SC,{...y}),"Bank Settings":u(fG,{...y}),"Process Transactions":u(SC,{...y}),"Manage Waste":u(xf,{...y}),"Daily Reports":u(Bp,{...y}),"My Assignments":u(ro,{...y}),"Update Collection":u(Bp,{...y}),Routes:u(Ft,{...y}),"Schedule Pickup":u(ba,{...y}),"Track Pickup":u(uj,{...y}),Rewards:u(Fu,{...y}),History:u(wG,{...y}),Monitoring:u(_C,{...y}),"Offset Planner":u(_C,{...y}),"Recycling Hub":u(Vo,{...y}),"Carbon Management":u(j2,{...y}),Marketplace:u(OG,{...y}),Analytics:u(uG,{...y})}[p]||u(j0,{...y})},f=(p=>({super_admin:[{label:"Dashboard",path:"/dashboard/super-admin"},{label:"User Management",path:"/dashboard/super-admin/users"},{label:"Waste Bank Management",path:"/dashboard/super-admin/wastebanks"},{label:"System Settings",path:"/dashboard/super-admin/settings"},{label:"Reports",path:"/dashboard/super-admin/reports"}],wastebank_admin:[{label:"Dashboard",path:"/dashboard/wastebank"},{label:"Collector Management",path:"/dashboard/wastebank/employees"},{label:"Transactions",path:"/dashboard/wastebank/transactions"},{label:"Bank Settings",path:"/dashboard/wastebank/bank-settings"},{label:"Reports",path:"/dashboard/wastebank/reports"}],wastebank_employee:[{label:"Dashboard",path:"/dashboard/wastebank_employee"},{label:"Process Transactions",path:"/dashboard/wastebank_employee/transactions"},{label:"Manage Waste",path:"/dashboard/wastebank_employee/waste"},{label:"Daily Reports",path:"/dashboard/wastebank_employee/reports"}],collector:[{label:"Dashboard",path:"/dashboard/collector"},{label:"My Assignments",path:"/dashboard/collector/assignments"},{label:"Update Collection",path:"/dashboard/collector/update-collection"},{label:"Routes",path:"/dashboard/collector/routes"}],customer:[{label:"Dashboard",path:"/dashboard/customer"},{label:"Schedule Pickup",path:"/dashboard/customer/schedule"},{label:"Track Pickup",path:"/dashboard/customer/track"},{label:"Rewards",path:"/dashboard/customer/rewards"},{label:"History",path:"/dashboard/customer/history"},{label:"Waste Detector",path:"/dashboard/customer/detect"}],government:[{label:"Dashboard",path:"/dashboard/government"},{label:"Monitoring",path:"/dashboard/government/monitoring"},{label:"Analytics",path:"/dashboard/government/analytics"},{label:"Reports",path:"/dashboard/government/wastebank-reports"}],industry:[{label:"Dashboard",path:"/dashboard/industry"},{label:"Recycling Hub",path:"/dashboard/industry/recycledhub"},{label:"Offset Planner",path:"/dashboard/industry/offset-planner"}]})[p]||[])(t),m=async()=>{try{(await et.fire({title:"Logout Confirmation",text:"Are you sure you want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#10B981",cancelButtonColor:"#EF4444",confirmButtonText:"Yes, logout",cancelButtonText:"Cancel",customClass:{popup:"rounded-lg",title:"text-lg font-semibold text-gray-800",htmlContainer:"text-gray-600",confirmButton:"font-medium",cancelButton:"font-medium"}})).isConfirmed&&(l(!0),await mD(Wl),await et.fire({title:"Logged Out Successfully",text:"You have been logged out of your account",icon:"success",confirmButtonColor:"#10B981",timer:1500,timerProgressBar:!0,showConfirmButton:!1,customClass:{popup:"rounded-lg"}}),r("/login"))}catch(p){console.error("Logout error:",p),et.fire({title:"Logout Failed",text:"An error occurred while logging out. Please try again.",icon:"error",confirmButtonColor:"#10B981",customClass:{popup:"rounded-lg"}})}finally{l(!1)}};return b("aside",{className:`bg-white border-r border-gray-200 shadow-lg transition-all duration-300 ease-in-out
        ${i?"w-20":"w-64"} h-screen fixed left-0 top-0`,children:[b("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200",children:[!i&&u("span",{className:"text-lg font-semibold text-emerald-600",children:"WasteTrack"}),u("button",{onClick:()=>{a(!i),e&&e(!i)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:u(j0,{size:20,className:`transform transition-transform ${i?"rotate-180":""}`})})]}),u("nav",{className:"p-4 space-y-2",children:f.map((p,y)=>{const P=n.pathname===p.path;return b(hA,{to:p.path,className:`group flex items-center gap-3 p-3 rounded-lg transition-all
                ${P?"bg-emerald-50 text-emerald-600":"text-gray-600 hover:bg-gray-50 hover:text-emerald-600"}
                ${i?"justify-center":""}`,children:[c(p.label),!i&&u("span",{className:"text-sm font-medium transition-colors group-hover:text-emerald-600",children:p.label})]},y)})}),u("div",{className:"absolute bottom-4 left-0 right-0 px-4",children:b("button",{onClick:m,disabled:o,className:`w-full flex items-center gap-3 p-3 rounded-lg
            text-gray-600 hover:bg-red-50 hover:text-red-600 
            transition-all disabled:opacity-50 disabled:cursor-not-allowed
            ${i?"justify-center":""}`,children:[o?u(Kt,{className:"h-5 w-5 animate-spin"}):u(cj,{size:20}),!i&&u("span",{className:"text-sm font-medium",children:o?"Logging out...":"Logout"})]})})]})},c3=({children:t,className:e=""})=>u("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 ${e}`,children:t}),$C=({variant:t="primary",className:e="",children:n,...r})=>u("button",{className:`
        inline-flex items-center justify-center
        px-4 py-2.5 rounded-lg
        font-medium text-sm
        transition duration-150 ease-in-out
        ${{primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm shadow-emerald-200",secondary:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-200",success:"bg-emerald-50 hover:bg-emerald-100 text-emerald-700",danger:"bg-red-50 hover:bg-red-100 text-red-700"}[t]}
        ${e}
      `,...r,children:n}),iv=({icon:t,label:e,value:n,trend:r,className:i=""})=>u(c3,{className:`p-6 transition-all duration-200 hover:shadow-md ${i}`,children:b("div",{className:"flex items-start justify-between",children:[b("div",{className:"space-y-2",children:[u("span",{className:"text-sm font-medium text-gray-500",children:e}),b("div",{className:"flex items-baseline space-x-2",children:[u("h3",{className:"text-2xl font-bold text-gray-900",children:n}),r&&b("span",{className:`text-sm font-medium ${r>0?"text-emerald-600":"text-red-600"}`,children:[r>0?"+":"",r,"%"]})]})]}),u("div",{className:"p-3 bg-emerald-50 rounded-xl",children:u(t,{className:"h-6 w-6 text-emerald-600"})})]})}),CX=({log:t})=>{var i,a;const e=o=>{const l={success:{icon:mG,colors:"text-emerald-600 bg-emerald-50"},error:{icon:kn,colors:"text-red-600 bg-red-50"},info:{icon:lj,colors:"text-blue-600 bg-blue-50"}};return l[o]||l.info},{icon:n,colors:r}=e(t.type);return b("div",{className:"flex items-start gap-4 p-4 rounded-lg hover:bg-gray-50/50 transition-all duration-200",children:[u("div",{className:`p-2 rounded-lg shrink-0 ${r}`,children:u(n,{className:"h-5 w-5"})}),b("div",{className:"flex-1 min-w-0",children:[u("p",{className:"text-sm font-medium text-gray-900",children:t.message}),b("div",{className:"mt-1 flex items-center gap-4",children:[b("div",{className:"flex items-center text-sm text-gray-500",children:[u(ba,{className:"h-4 w-4 mr-1.5"}),new Date(((i=t.createdAt)==null?void 0:i.seconds)*1e3).toLocaleDateString()]}),b("div",{className:"flex items-center text-sm text-gray-500",children:[u(Ko,{className:"h-4 w-4 mr-1.5"}),new Date(((a=t.createdAt)==null?void 0:a.seconds)*1e3).toLocaleTimeString()]})]})]})]})},IX=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(0),[a,o]=W.exports.useState(0),[l,c]=W.exports.useState([]),[d,f]=W.exports.useState(!0),[m,p]=W.exports.useState(!1),y=async()=>{f(!0);try{const _=await ot(it($e,"users"));i(_.size);const A=await ot(it($e,"wasteBanks"));o(A.size);const N=xt(it($e,"logs"),aP("createdAt","desc"),QK(10)),w=(await ot(N)).docs.map(C=>({id:C.id,...C.data(),type:Math.random()>.5?"success":"error"}));c(w)}catch(_){console.error("Error fetching dashboard data:",_)}f(!1)};W.exports.useEffect(()=>{y()},[]);const P=async()=>{p(!0),await y(),p(!1)};return b("div",{className:"flex min-h-screen bg-gray-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:_=>n(_)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[b("div",{children:[u("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),b("p",{className:"mt-1 text-sm text-gray-500",children:["Welcome back, ",(t==null?void 0:t.fullName)||"Admin"]})]}),b($C,{onClick:P,disabled:m,className:"shrink-0",children:[u(kG,{size:18,className:`mr-2 ${m?"animate-spin":""}`}),m?"Refreshing...":"Refresh Data"]})]}),d?u("div",{className:"flex items-center justify-center h-[60vh]",children:b("div",{className:"flex flex-col items-center gap-4",children:[u("div",{className:"relative",children:u("div",{className:"w-12 h-12 border-4 border-emerald-200 rounded-full animate-spin",children:u("div",{className:"absolute top-0 right-0 w-4 h-4 bg-emerald-600 rounded-full"})})}),u("p",{className:"text-sm text-gray-500",children:"Loading dashboard data..."})]})}):b(Oi,{children:[b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u(iv,{icon:Ci,label:"Total Users",value:r,trend:5.2}),u(iv,{icon:gn,label:"Waste Banks",value:a,trend:2.1}),u(iv,{icon:jp,label:"Active Sessions",value:"127",trend:-1.5}),u(iv,{icon:$b,label:"System Uptime",value:"99.9%"})]}),b(c3,{children:[u("div",{className:"px-6 py-4 border-b border-gray-200",children:b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex items-center gap-3",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(Bp,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("h2",{className:"text-lg font-semibold text-gray-900",children:"System Activity"}),u("p",{className:"text-sm text-gray-500",children:"Recent system events and logs"})]})]}),u($C,{variant:"secondary",size:"sm",children:"View All Logs"})]})}),u("div",{className:"divide-y divide-gray-100",children:l.length>0?l.map(_=>u(CX,{log:_},_.id)):b("div",{className:"flex flex-col items-center justify-center py-12",children:[u("div",{className:"p-3 bg-gray-50 rounded-full mb-4",children:u(Bp,{className:"h-6 w-6 text-gray-400"})}),u("p",{className:"text-gray-500 text-sm",children:"No recent system logs available"})]})})]})]})]})})]})},av={super_admin:"Super Admin",customer:"Customer",collector:"Collector",wastebank_employee:"Wastebank Employee",wastebank_admin:"Wastebank Admin",industry:"Industry",government:"Government"},OX={super_admin:"bg-rose-100 text-rose-700",customer:"bg-sky-100 text-sky-700",collector:"bg-amber-100 text-amber-700",wastebank_employee:"bg-purple-100 text-purple-700",wastebank_admin:"bg-emerald-100 text-emerald-700",industry:"bg-blue-100 text-blue-700",government:"bg-indigo-100 text-indigo-700"},MX={super_admin:"Manage all aspects of the system and oversee all users.",customer:"Manage household waste and earn rewards",collector:"Collect and transport waste efficiently",wastebank_employee:"Process and manage waste at collection points",wastebank_admin:"Oversee waste bank operations",industry:"Access recycling materials and manage sustainability",government:"Monitor and analyze environmental impact"},Va=({icon:t,className:e="",...n})=>b("div",{className:"relative",children:[t&&u(t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-emerald-500",size:18}),u("input",{className:`w-full ${t?"pl-10":"pl-4"} pr-4 py-2.5 bg-white
      text-gray-700 text-sm rounded-lg
      border border-gray-200 
      focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      placeholder:text-gray-400
      transition duration-150 ease-in-out
      ${e}`,...n})]}),DC=({className:t="",...e})=>u("select",{className:`w-full px-4 py-2.5 bg-white text-gray-700 text-sm rounded-lg
    border border-gray-200
    focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    transition duration-150 ease-in-out
    ${t}`,...e}),tu=({variant:t="primary",size:e="md",isLoading:n=!1,className:r="",children:i,...a})=>{const o={primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm shadow-emerald-200",secondary:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 shadow-sm",danger:"bg-red-50 hover:bg-red-100 text-red-700",ghost:"bg-gray-50 text-gray-700"},l={sm:"px-2.5 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3"};return b("button",{disabled:n,className:`
        inline-flex items-center justify-center
        font-medium rounded-lg
        transition duration-150 ease-in-out
        disabled:opacity-50 disabled:cursor-not-allowed
        ${o[t]}
        ${l[e]}
        ${r}
      `,...a,children:[n&&u(Kt,{className:"w-4 h-4 mr-2 animate-spin"}),i]})},Ad=({className:t="",...e})=>u("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 ${t}`,...e}),cs=({className:t="",children:e,...n})=>u("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${t}`,...n,children:e}),us=({className:t="",children:e,...n})=>u("div",{className:`space-y-1.5 ${t}`,...n,children:e}),RX=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState([]),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(!1),[l,c]=W.exports.useState(""),[d,f]=W.exports.useState(null),[m,p]=W.exports.useState(!1),[y,P]=W.exports.useState(!1),[_,A]=W.exports.useState({email:"",password:"",fullName:"",phone:"",role:"customer",institution:"",address:"",city:"",province:""}),N=async()=>{i(!0);try{const T=(await ot(it($e,"users"))).docs.map(O=>{var R;return{id:O.id,...O.data(),createdAt:(R=O.data().createdAt)==null?void 0:R.toDate()}});n(T)}catch{et.fire({icon:"error",title:"Error",text:"Failed to fetch users.",background:"#fff5f5",iconColor:"#d33"})}i(!1)};W.exports.useEffect(()=>{N()},[]);const E=S=>{const{name:T,value:O}=S.target;A(R=>({...R,[T]:O}))},w=async S=>{if(S.preventDefault(),i(!0),_.password.length<6){et.fire({icon:"error",title:"Invalid Password",text:"Password must be at least 6 characters long",background:"#fff5f5",iconColor:"#d33"}),i(!1);return}try{const{user:T}=await SA(Wl,_.email,_.password),O={email:_.email,fullName:_.fullName,phone:_.phone,role:_.role,institution:_.institution,address:_.address,city:_.city,province:_.province,createdAt:new Date};await sP(jn($e,"users",T.uid),O),et.fire({icon:"success",title:"Success",text:"User created successfully",background:"#f0fff4",iconColor:"#059669",timer:1500,showConfirmButton:!1}),A({email:"",password:"",fullName:"",phone:"",role:"customer",institution:"",address:"",city:"",province:""}),o(!1),N()}catch(T){et.fire({icon:"error",title:"Error",text:T.message,background:"#fff5f5",iconColor:"#d33"})}i(!1)},C=async S=>{try{await qo(jn($e,"users",S.id),{fullName:S.fullName,role:S.role,phone:S.phone,institution:S.institution,address:S.address,city:S.city,province:S.province}),et.fire({icon:"success",title:"Success",text:"User updated successfully",background:"#f0fff4",iconColor:"#059669",timer:1500,showConfirmButton:!1}),f(null),N()}catch(T){et.fire({icon:"error",title:"Error",text:T.message,background:"#fff5f5",iconColor:"#d33"})}},$=async S=>{if((await et.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await lP(jn($e,"users",S)),et.fire({icon:"success",title:"Deleted!",text:"User has been deleted.",background:"#f0fff4",iconColor:"#059669",timer:1500,showConfirmButton:!1}),N()}catch(O){et.fire({icon:"error",title:"Error",text:O.message,background:"#fff5f5",iconColor:"#d33"})}},D=e.filter(S=>{var T,O,R;return((T=S.email)==null?void 0:T.toLowerCase().includes(l.toLowerCase()))||((O=S.fullName)==null?void 0:O.toLowerCase().includes(l.toLowerCase()))||((R=av[S.role])==null?void 0:R.toLowerCase().includes(l.toLowerCase()))});return b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:S=>P(S)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${y?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex justify-between items-center mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-3 bg-emerald-50 rounded-xl border border-emerald-100",children:u(Ci,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and monitor user accounts"})]})]}),b(tu,{onClick:()=>o(!a),className:"shadow-sm",children:[u(xP,{size:18,className:"mr-2"}),a?"Cancel":"Add New User"]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u(Ad,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.length})]}),u("div",{className:"p-3 bg-emerald-50 rounded-lg",children:u(Ci,{className:"h-6 w-6 text-emerald-600"})})]})}),u(Ad,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Active Customers"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.filter(S=>S.role==="customer").length})]}),u("div",{className:"p-3 bg-blue-50 rounded-lg",children:u(mj,{className:"h-6 w-6 text-blue-600"})})]})}),u(Ad,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Total Collectors"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.filter(S=>S.role==="collector").length})]}),u("div",{className:"p-3 bg-amber-50 rounded-lg",children:u(gn,{className:"h-6 w-6 text-amber-600"})})]})}),u(Ad,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Industries"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.filter(S=>S.role==="industry").length})]}),u("div",{className:"p-3 bg-purple-50 rounded-lg",children:u(gn,{className:"h-6 w-6 text-purple-600"})})]})})]}),u("div",{className:"mb-6",children:b("div",{className:"relative max-w-xl",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u("input",{type:"text",placeholder:"Search by name, email, or role...",value:l,onChange:S=>c(S.target.value),className:`w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg \r
                  focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\r
                  text-gray-200 placeholder:text-gray-400`})]})}),a&&b(Ad,{className:"p-6 mb-8",children:[u("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Create New User"}),b("form",{onSubmit:w,className:"space-y-6",children:[b("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b(us,{children:[u(cs,{children:"Email Address"}),u(Va,{type:"email",name:"email",required:!0,value:_.email,onChange:E,placeholder:"Enter email address",icon:Xg})]}),b(us,{children:[u(cs,{children:"Password"}),b("div",{className:"relative",children:[u(Va,{type:m?"text":"password",name:"password",required:!0,value:_.password,onChange:E,placeholder:"Enter password",icon:Vp,className:"pr-10"}),u("button",{type:"button",onClick:()=>p(!m),className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 \r
                          hover:text-gray-500 transition-colors`,children:m?u(zp,{size:18}):u(Fp,{size:18})})]})]}),b(us,{children:[u(cs,{children:"Full Name"}),u(Va,{type:"text",name:"fullName",required:!0,value:_.fullName,onChange:E,placeholder:"Enter full name",icon:Us})]}),b(us,{children:[u(cs,{children:"Phone Number"}),u(Va,{type:"tel",name:"phone",value:_.phone,onChange:E,placeholder:"Enter phone number",icon:jo})]}),b(us,{children:[u(cs,{children:"User Role"}),u(DC,{name:"role",value:_.role,onChange:E,children:Object.entries(av).map(([S,T])=>u("option",{value:S,children:T},S))}),u("p",{className:"mt-1.5 text-sm text-gray-500",children:MX[_.role]})]}),b(us,{children:[u(cs,{children:"Institution/Company"}),u(Va,{type:"text",name:"institution",value:_.institution,onChange:E,placeholder:"Enter institution or company name",icon:gn})]}),b(us,{className:"md:col-span-2",children:[u(cs,{children:"Address"}),u(Va,{type:"text",name:"address",value:_.address,onChange:E,placeholder:"Enter complete address",icon:Ft})]}),b(us,{children:[u(cs,{children:"City"}),u(Va,{type:"text",name:"city",value:_.city,onChange:E,placeholder:"Enter city"})]}),b(us,{children:[u(cs,{children:"Province"}),u(Va,{type:"text",name:"province",value:_.province,onChange:E,placeholder:"Enter province"})]})]}),b("div",{className:"flex justify-end space-x-4",children:[u(tu,{type:"button",variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),u(tu,{type:"submit",isLoading:r,children:"Create User"})]})]})]}),u(Ad,{className:"overflow-hidden",children:u("div",{className:"overflow-x-auto",children:b("table",{className:"w-full",children:[u("thead",{children:b("tr",{className:"bg-gray-50 border-b border-gray-200",children:[u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Info"}),u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role & Status"}),u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact & Location"}),u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Joined"}),u("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u("tbody",{className:"divide-y divide-gray-200 bg-white",children:r?u("tr",{children:u("td",{colSpan:"5",className:"px-6 py-8 text-center",children:b("div",{className:"flex items-center justify-center text-gray-500 space-x-3",children:[u(Kt,{className:"w-5 h-5 animate-spin"}),u("span",{children:"Loading users..."})]})})}):D.length===0?u("tr",{children:u("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No users found matching your search."})}):D.map(S=>{var T,O,R;return b("tr",{className:"group hover:bg-gray-50/50 transition-colors",children:[u("td",{className:"px-6 py-4",children:(d==null?void 0:d.id)===S.id?u(Va,{type:"text",value:d.fullName,onChange:j=>f({...d,fullName:j.target.value}),placeholder:"Enter full name"}):b("div",{className:"flex items-center space-x-3",children:[u("div",{className:"flex-shrink-0",children:u("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center",children:u("span",{className:"text-emerald-600 font-medium",children:((T=S.fullName)==null?void 0:T.charAt(0))||((O=S.email)==null?void 0:O.charAt(0))||"?"})})}),b("div",{children:[u("div",{className:"text-sm font-medium text-gray-900",children:S.fullName}),u("div",{className:"text-sm text-gray-500",children:S.email})]})]})}),u("td",{className:"px-6 py-4",children:(d==null?void 0:d.id)===S.id?u(DC,{value:d.role,onChange:j=>f({...d,role:j.target.value}),children:Object.entries(av).map(([j,U])=>u("option",{value:j,children:U},j))}):b("div",{children:[u("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${OX[S.role]}`,children:av[S.role]}),S.institution&&u("div",{className:"text-sm text-gray-500 mt-1",children:S.institution})]})}),u("td",{className:"px-6 py-4",children:(d==null?void 0:d.id)===S.id?b("div",{className:"space-y-2",children:[u(Va,{type:"tel",value:d.phone||"",onChange:j=>f({...d,phone:j.target.value}),placeholder:"Phone number",icon:jo}),u(Va,{type:"text",value:d.address||"",onChange:j=>f({...d,address:j.target.value}),placeholder:"Address",icon:Ft})]}):b("div",{children:[S.phone&&b("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[u(jo,{size:14,className:"mr-1"}),S.phone]}),S.address&&b("div",{className:"flex items-center text-sm text-gray-500",children:[u(Ft,{size:14,className:"mr-1"}),S.address]})]})}),u("td",{className:"px-6 py-4",children:b("div",{className:"flex items-center text-sm text-gray-500",children:[u(ba,{size:14,className:"mr-1.5"}),((R=S.createdAt)==null?void 0:R.toLocaleDateString())||"N/A"]})}),u("td",{className:"px-6 py-4 text-right",children:u("div",{className:"transition-all flex justify-end space-x-2",children:(d==null?void 0:d.id)===S.id?b(Oi,{children:[b(tu,{variant:"success",size:"sm",onClick:()=>C(d),children:[u(vP,{size:14,className:"mr-1"}),"Save"]}),b(tu,{variant:"secondary",size:"sm",onClick:()=>f(null),children:[u(Vu,{size:14,className:"mr-1"}),"Cancel"]})]}):b(Oi,{children:[b(tu,{variant:"ghost",size:"sm",onClick:()=>f(S),children:[u(yP,{size:14,className:"mr-1"}),"Edit"]}),b(tu,{variant:"danger",size:"sm",onClick:()=>$(S.id),children:[u(xf,{size:14,className:"mr-1"}),"Delete"]})]})})})]},S.id)})})]})})})]})})]})},fr=({className:t="",...e})=>u("input",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
    text-zinc-700 text-sm transition duration-200 ease-in-out
    placeholder:text-zinc-400
    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    disabled:opacity-50 disabled:cursor-not-allowed
    ${t}`,...e}),ov=({className:t="",...e})=>u("select",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
    text-zinc-700 text-sm transition duration-200 ease-in-out
    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    disabled:opacity-50 disabled:cursor-not-allowed
    ${t}`,...e}),ds=({variant:t="primary",size:e="md",isLoading:n=!1,className:r="",children:i,...a})=>{const o={primary:"bg-emerald-500 hover:bg-emerald-600 text-white",secondary:"bg-zinc-100 hover:bg-zinc-200 text-zinc-700",success:"bg-emerald-500 hover:bg-emerald-600 text-white",danger:"bg-red-500 hover:bg-red-600 text-white",warning:"bg-amber-500 hover:bg-amber-600 text-white",ghost:"bg-red-500 text-zinc-700"},l={sm:"px-2 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3"};return b("button",{disabled:n,className:`
        inline-flex items-center justify-center
        font-medium rounded-lg
        transition duration-200 ease-in-out
        focus:outline-none focus:ring-2 focus:ring-offset-2
        disabled:opacity-50 disabled:cursor-not-allowed
        ${o[t]}
        ${l[e]}
        ${r}
      `,...a,children:[n&&u(Kt,{className:"w-4 h-4 mr-2 animate-spin"}),i]})},bo=({className:t="",...e})=>u("label",{className:`block text-sm font-medium text-zinc-700 mb-1 ${t}`,...e}),um=({className:t="",...e})=>u("div",{className:`bg-white rounded-xl shadow-sm border border-zinc-200 ${t}`,...e}),LX=({children:t,className:e="",...n})=>u("div",{className:"overflow-x-auto",children:u("table",{className:`w-full ${e}`,...n,children:t})}),xo=({children:t,className:e="",...n})=>u("th",{className:`px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider ${e}`,...n,children:t}),ia=({children:t,className:e="",...n})=>u("td",{className:`px-6 py-4 text-sm text-zinc-700 ${e}`,...n,children:t}),sv=({variant:t="default",children:e,className:n="",...r})=>u("span",{className:`
        inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
        ${{default:"bg-zinc-100 text-zinc-700",success:"bg-emerald-100 text-emerald-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700",info:"bg-emerald-100 text-emerald-700"}[t]}
        ${n}
      `,...r,children:e});function $X(){const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState([]),[a,o]=W.exports.useState(!0),[l,c]=W.exports.useState(""),[d,f]=W.exports.useState(""),[m,p]=W.exports.useState(!1),[y,P]=W.exports.useState(""),[_,A]=W.exports.useState(null),[N,E]=W.exports.useState([]),[w,C]=W.exports.useState([]),[$,D]=W.exports.useState({name:"",adminName:"",address:"",city:"",province:"",latitude:"",longitude:"",capacity:"",industry:"",governmentRelation:""});W.exports.useEffect(()=>{Promise.all([S(),T(),O()]).catch(console.error)},[]);const S=async()=>{try{const Y=xt(it($e,"users"),Tn("role","==","government")),pe=(await ot(Y)).docs.map(fe=>({id:fe.id,...fe.data()}));C(pe)}catch(Y){console.error("Error fetching government users:",Y)}},T=async()=>{try{const Y=xt(it($e,"users"),Tn("role","==","industry")),pe=(await ot(Y)).docs.map(fe=>({id:fe.id,...fe.data()}));E(pe)}catch(Y){console.error("Error fetching industry users:",Y)}},O=async()=>{o(!0);try{const he=(await ot(it($e,"wasteBanks"))).docs.map(pe=>({id:pe.id,...pe.data()}));i(he)}catch(Y){c("Failed to fetch wastebanks: "+Y.message),et.fire({icon:"error",title:"Error",text:"Failed to fetch wastebanks: "+Y.message,background:"#fff5f5",iconColor:"#d33"})}o(!1)},R=Y=>{const{name:he,value:pe}=Y.target;D(fe=>({...fe,[he]:pe}))},j=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Y=>{D(he=>({...he,latitude:Y.coords.latitude,longitude:Y.coords.longitude}))},Y=>{c("Failed to get current location: "+Y.message),et.fire({icon:"error",title:"Location Error",text:"Failed to get current location: "+Y.message,background:"#fff5f5",iconColor:"#d33"})}):c("Geolocation is not supported by this browser.")},U=async Y=>{Y.preventDefault(),c(""),f(""),o(!0);try{await ej(it($e,"wasteBanks"),{name:$.name,adminName:$.adminName,address:$.address,city:$.city,province:$.province,coordinates:$.latitude&&$.longitude?new Lh(parseFloat($.latitude),parseFloat($.longitude)):null,capacity:$.capacity?parseFloat($.capacity):0,industry:$.industry,governmentRelation:$.governmentRelation,createdAt:C_(),updatedAt:C_()}),f("Wastebank created successfully"),O(),D({name:"",adminName:"",address:"",city:"",province:"",latitude:"",longitude:"",capacity:"",industry:"",governmentRelation:""}),p(!1)}catch(he){c("Failed to create wastebank: "+he.message),et.fire({icon:"error",title:"Create Error",text:"Failed to create wastebank: "+he.message,background:"#fff5f5",iconColor:"#d33"})}o(!1)},V=async Y=>{c(""),f("");try{await qo(jn($e,"wasteBanks",Y.id),{name:Y.name,adminName:Y.adminName,address:Y.address,city:Y.city,province:Y.province,coordinates:Y.latitude&&Y.longitude?new Lh(parseFloat(Y.latitude),parseFloat(Y.longitude)):null,capacity:Y.capacity?parseFloat(Y.capacity):0,industry:Y.industry,governmentRelation:Y.governmentRelation,updatedAt:C_()}),f("Wastebank updated successfully"),A(null),O()}catch(he){c("Failed to update wastebank: "+he.message),et.fire({icon:"error",title:"Update Error",text:"Failed to update wastebank: "+he.message,background:"#fff5f5",iconColor:"#d33"})}},G=async Y=>{if((await et.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await lP(jn($e,"wasteBanks",Y)),f("Wastebank deleted successfully"),O()}catch(pe){c("Failed to delete wastebank: "+pe.message),et.fire({icon:"error",title:"Delete Error",text:"Failed to delete wastebank: "+pe.message,background:"#fff5f5",iconColor:"#d33"})}},X=Y=>{A({...Y,latitude:Y.coordinates?Y.coordinates.latitude:"",longitude:Y.coordinates?Y.coordinates.longitude:""})},ee=()=>{A(null)},te=Y=>{const{name:he,value:pe}=Y.target;A(fe=>({...fe,[he]:pe}))},J=async Y=>{Y.preventDefault(),_&&await V(_)},le=r.filter(Y=>{var he,pe,fe,Ne;return((he=Y.name)==null?void 0:he.toLowerCase().includes(y.toLowerCase()))||((pe=Y.address)==null?void 0:pe.toLowerCase().includes(y.toLowerCase()))||((fe=Y.city)==null?void 0:fe.toLowerCase().includes(y.toLowerCase()))||((Ne=Y.province)==null?void 0:Ne.toLowerCase().includes(y.toLowerCase()))});return b("div",{className:"flex min-h-screen bg-zinc-50/40",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:Y=>n(Y)}),b("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"} p-8`,children:[b("div",{className:"flex justify-between items-center mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-zinc-200",children:u(gn,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-zinc-800",children:"Wastebank Management"}),u("p",{className:"text-sm text-zinc-500 mt-1",children:"Manage and monitor waste bank operations"})]})]}),b(ds,{onClick:()=>p(!m),variant:"primary",className:"shadow-sm",children:[u(NG,{size:18,className:"mr-2"}),m?"Cancel":"Add New Wastebank"]})]}),u("div",{className:"mb-6",children:b("div",{className:"relative max-w-xl",children:[u(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400",size:20}),u(fr,{type:"text",placeholder:"Search wastebanks by name, address, or location...",value:y,onChange:Y=>P(Y.target.value),className:"pl-10"})]})}),l&&u("div",{className:"mb-4 p-4 bg-red-50 border border-red-100 rounded-lg",children:u("p",{className:"text-sm text-red-600",children:l})}),d&&u("div",{className:"mb-4 p-4 bg-emerald-50 border border-emerald-100 rounded-lg",children:u("p",{className:"text-sm text-emerald-600",children:d})}),m&&b(um,{className:"p-6 mb-8",children:[u("h2",{className:"text-xl font-semibold text-zinc-800 mb-6",children:"Create New Wastebank"}),b("form",{onSubmit:U,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b("div",{children:[u(bo,{children:"Wastebank Name"}),u(fr,{type:"text",name:"name",required:!0,value:$.name,onChange:R,placeholder:"Enter wastebank name"})]}),b("div",{children:[u(bo,{children:"Admin Name"}),u(fr,{type:"text",name:"adminName",required:!0,value:$.adminName,onChange:R,placeholder:"Enter admin name"})]}),b("div",{children:[u(bo,{children:"Address"}),u(fr,{type:"text",name:"address",required:!0,value:$.address,onChange:R,placeholder:"Enter complete address"})]}),b("div",{children:[u(bo,{children:"City"}),u(fr,{type:"text",name:"city",required:!0,value:$.city,onChange:R,placeholder:"Enter city name"})]}),b("div",{children:[u(bo,{children:"Province"}),u(fr,{type:"text",name:"province",required:!0,value:$.province,onChange:R,placeholder:"Enter province name"})]}),b("div",{children:[u(bo,{children:"Capacity (tons)"}),u(fr,{type:"number",step:"any",name:"capacity",required:!0,value:$.capacity,onChange:R,placeholder:"Enter capacity in tons"})]}),b("div",{children:[u(bo,{children:"Industry Relation"}),b(ov,{name:"industry",value:$.industry,onChange:R,children:[u("option",{value:"",children:"Select Industry Partner"}),N.map(Y=>u("option",{value:Y.id,children:Y.fullName||Y.email},Y.id))]})]}),b("div",{children:[u(bo,{children:"Government Relation"}),b(ov,{name:"governmentRelation",value:$.governmentRelation,onChange:R,children:[u("option",{value:"",children:"Select Government Partner"}),w.map(Y=>u("option",{value:Y.id,children:Y.fullName||Y.email},Y.id))]})]}),b("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[b("div",{children:[u(bo,{children:"Latitude"}),u(fr,{type:"number",step:"any",name:"latitude",required:!0,value:$.latitude,onChange:R,placeholder:"e.g., -6.200000"})]}),b("div",{children:[u(bo,{children:"Longitude"}),u(fr,{type:"number",step:"any",name:"longitude",required:!0,value:$.longitude,onChange:R,placeholder:"e.g., 106.816666"})]})]}),b("div",{className:"md:col-span-2 space-y-4",children:[b(ds,{type:"button",variant:"ghost",onClick:j,className:"w-full",children:[u(Ft,{size:18,className:"mr-2"}),"Get Current Location"]}),u(ds,{type:"submit",isLoading:a,className:"w-full",children:a?"Creating...":"Create Wastebank"})]})]})]}),u(um,{className:"overflow-hidden",children:b(LX,{children:[u("thead",{children:b("tr",{className:"bg-zinc-50/50 border-b border-zinc-200",children:[u(xo,{children:"Name"}),u(xo,{children:"Admin"}),u(xo,{children:"Address"}),u(xo,{children:"City"}),u(xo,{children:"Province"}),u(xo,{children:"Capacity"}),u(xo,{children:"Industry"}),u(xo,{children:"Government"}),u(xo,{children:"Location"}),u(xo,{className:"text-right",children:"Actions"})]})}),u("tbody",{className:"divide-y divide-zinc-200",children:a?u("tr",{children:u(ia,{colSpan:"10",className:"text-center",children:b("div",{className:"flex items-center justify-center py-8 text-zinc-500",children:[u(Kt,{className:"w-5 h-5 mr-3 animate-spin"}),"Loading wastebanks..."]})})}):le.length===0?u("tr",{children:u(ia,{colSpan:"10",className:"text-center py-8 text-zinc-500",children:"No wastebanks found"})}):le.map(Y=>{var he,pe,fe,Ne;return b("tr",{className:"group hover:bg-zinc-50/50 transition-colors",children:[u(ia,{children:(_==null?void 0:_.id)===Y.id?u(fr,{type:"text",name:"name",value:_.name||"",onChange:te,className:"py-1"}):u("span",{className:"font-medium",children:Y.name})}),u(ia,{children:(_==null?void 0:_.id)===Y.id?u(fr,{type:"text",name:"adminName",value:_.adminName||"",onChange:te,className:"py-1"}):u(sv,{children:Y.adminName})}),u(ia,{children:(_==null?void 0:_.id)===Y.id?u(fr,{type:"text",name:"address",value:_.address||"",onChange:te,className:"py-1"}):Y.address}),u(ia,{children:(_==null?void 0:_.id)===Y.id?u(fr,{type:"text",name:"city",value:_.city||"",onChange:te,className:"py-1"}):Y.city}),u(ia,{children:(_==null?void 0:_.id)===Y.id?u(fr,{type:"text",name:"province",value:_.province||"",onChange:te,className:"py-1"}):Y.province}),u(ia,{children:(_==null?void 0:_.id)===Y.id?u(fr,{type:"number",step:"any",name:"capacity",value:_.capacity||0,onChange:te,className:"py-1"}):b(sv,{variant:"info",children:[Y.capacity," tons"]})}),u(ia,{children:(_==null?void 0:_.id)===Y.id?b(ov,{name:"industry",value:_.industry||"",onChange:te,className:"py-1",children:[u("option",{value:"",children:"Select Industry"}),N.map(Ee=>u("option",{value:Ee.id,children:Ee.fullName||Ee.email},Ee.id))]}):u(sv,{variant:"success",children:((he=N.find(Ee=>Ee.id===Y.industry))==null?void 0:he.fullName)||((pe=N.find(Ee=>Ee.id===Y.industry))==null?void 0:pe.email)||"Not assigned"})}),u(ia,{children:(_==null?void 0:_.id)===Y.id?b(ov,{name:"governmentRelation",value:_.governmentRelation||"",onChange:te,className:"py-1",children:[u("option",{value:"",children:"Select Government"}),w.map(Ee=>u("option",{value:Ee.id,children:Ee.fullName||Ee.email},Ee.id))]}):u(sv,{variant:"warning",children:((fe=w.find(Ee=>Ee.id===Y.governmentRelation))==null?void 0:fe.fullName)||((Ne=w.find(Ee=>Ee.id===Y.governmentRelation))==null?void 0:Ne.email)||"Not assigned"})}),u(ia,{children:(_==null?void 0:_.id)===Y.id?b("div",{className:"grid grid-cols-2 gap-2",children:[u(fr,{type:"number",step:"any",name:"latitude",value:_.latitude||"",onChange:te,placeholder:"Lat",className:"py-1"}),u(fr,{type:"number",step:"any",name:"longitude",value:_.longitude||"",onChange:te,placeholder:"Lng",className:"py-1"})]}):b("div",{className:"flex items-center space-x-1",children:[u(Ft,{size:14,className:"text-zinc-400"}),u("span",{className:"text-sm",children:Y.coordinates?`${Y.coordinates.latitude.toFixed(4)}, ${Y.coordinates.longitude.toFixed(4)}`:"N/A"})]})}),u(ia,{className:"text-right",children:u("div",{className:"transition-all",children:(_==null?void 0:_.id)===Y.id?b("div",{className:"flex justify-end space-x-2",children:[b(ds,{variant:"success",size:"sm",onClick:J,children:[u(vP,{size:14,className:"mr-1"}),"Save"]}),b(ds,{variant:"secondary",size:"sm",onClick:ee,children:[u(Vu,{size:14,className:"mr-1"}),"Cancel"]})]}):b("div",{className:"flex justify-end space-x-2",children:[b(ds,{variant:"secondary",size:"sm",onClick:()=>X(Y),children:[u(yP,{size:14,className:"mr-1"}),"Edit"]}),b(ds,{variant:"danger",size:"sm",onClick:()=>G(Y.id),children:[u(xf,{size:14,className:"mr-1"}),"Delete"]})]})})})]},Y.id)})})]})}),b("div",{className:"mt-6 flex items-center justify-between",children:[b("div",{className:"text-sm text-zinc-500",children:["Showing ",le.length," wastebanks"]}),b("div",{className:"flex items-center space-x-2",children:[u(ds,{variant:"secondary",size:"sm",disabled:!0,children:"Previous"}),u(ds,{variant:"secondary",size:"sm",disabled:!0,children:"Next"})]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[b(um,{className:"p-6",children:[u("h3",{className:"text-sm font-medium text-zinc-500 mb-2",children:"Total Capacity"}),b("div",{className:"text-2xl font-semibold text-zinc-800",children:[r.reduce((Y,he)=>Y+(he.capacity||0),0).toFixed(2)," tons"]})]}),b(um,{className:"p-6",children:[u("h3",{className:"text-sm font-medium text-zinc-500 mb-2",children:"Total Wastebanks"}),u("div",{className:"text-2xl font-semibold text-zinc-800",children:r.length})]}),b(um,{className:"p-6",children:[u("h3",{className:"text-sm font-medium text-zinc-500 mb-2",children:"Connected Industries"}),u("div",{className:"text-2xl font-semibold text-zinc-800",children:new Set(r.map(Y=>Y.industry).filter(Boolean)).size})]})]})]})]})}const lv={super_admin:"Super Admin",customer:"Customer",collector:"Collector",wastebank_employee:"Wastebank Employee",wastebank_admin:"Wastebank Admin",industry:"Industry",government:"Government"},DX={super_admin:"bg-rose-100 text-rose-700",customer:"bg-sky-100 text-sky-700",collector:"bg-amber-100 text-amber-700",wastebank_employee:"bg-purple-100 text-purple-700",wastebank_admin:"bg-emerald-100 text-emerald-700",industry:"bg-blue-100 text-blue-700",government:"bg-indigo-100 text-indigo-700"},jX={super_admin:"Manage all aspects of the system and oversee all users.",customer:"Manage household waste and earn rewards",collector:"Collect and transport waste efficiently",wastebank_employee:"Process and manage waste at collection points",wastebank_admin:"Oversee waste bank operations",industry:"Access recycling materials and manage sustainability",government:"Monitor and analyze environmental impact"},Ua=({icon:t,className:e="",...n})=>b("div",{className:"relative",children:[t&&u(t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-emerald-500",size:18}),u("input",{className:`w-full ${t?"pl-10":"pl-4"} pr-4 py-2.5 bg-white
      text-gray-700 text-sm rounded-lg
      border border-gray-200 
      focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      placeholder:text-gray-400
      transition duration-150 ease-in-out
      ${e}`,...n})]}),jC=({className:t="",...e})=>u("select",{className:`w-full px-4 py-2.5 bg-white text-gray-700 text-sm rounded-lg
    border border-gray-200
    focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    transition duration-150 ease-in-out
    ${t}`,...e}),nu=({variant:t="primary",size:e="md",isLoading:n=!1,className:r="",children:i,...a})=>{const o={primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm shadow-emerald-200",secondary:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 shadow-sm",danger:"bg-red-50 hover:bg-red-100 text-red-700",ghost:"hover:bg-gray-50 text-gray-700"},l={sm:"px-2.5 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3"};return b("button",{disabled:n,className:`
        inline-flex items-center justify-center
        font-medium rounded-lg
        transition duration-150 ease-in-out
        disabled:opacity-50 disabled:cursor-not-allowed
        ${o[t]}
        ${l[e]}
        ${r}
      `,...a,children:[n&&u(Kt,{className:"w-4 h-4 mr-2 animate-spin"}),i]})},Pd=({className:t="",...e})=>u("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 ${t}`,...e}),hs=({className:t="",children:e,...n})=>u("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${t}`,...n,children:e}),fs=({className:t="",children:e,...n})=>u("div",{className:`space-y-1.5 ${t}`,...n,children:e}),BX=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState([]),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(!1),[l,c]=W.exports.useState(""),[d,f]=W.exports.useState(null),[m,p]=W.exports.useState(!1),[y,P]=W.exports.useState(!1),[_,A]=W.exports.useState({email:"",password:"",fullName:"",phone:"",role:"customer",institution:"",address:"",city:"",province:""}),N=async()=>{i(!0);try{const T=(await ot(it($e,"users"))).docs.map(O=>{var R;return{id:O.id,...O.data(),createdAt:(R=O.data().createdAt)==null?void 0:R.toDate()}});n(T)}catch{et.fire({icon:"error",title:"Error",text:"Failed to fetch users.",background:"#fff5f5",iconColor:"#d33"})}i(!1)};W.exports.useEffect(()=>{N()},[]);const E=S=>{const{name:T,value:O}=S.target;A(R=>({...R,[T]:O}))},w=async S=>{if(S.preventDefault(),i(!0),_.password.length<6){et.fire({icon:"error",title:"Invalid Password",text:"Password must be at least 6 characters long",background:"#fff5f5",iconColor:"#d33"}),i(!1);return}try{const{user:T}=await SA(Wl,_.email,_.password),O={email:_.email,fullName:_.fullName,phone:_.phone,role:_.role,institution:_.institution,address:_.address,city:_.city,province:_.province,createdAt:new Date};await sP(jn($e,"users",T.uid),O),et.fire({icon:"success",title:"Success",text:"User created successfully",background:"#f0fff4",iconColor:"#059669",timer:1500,showConfirmButton:!1}),A({email:"",password:"",fullName:"",phone:"",role:"customer",institution:"",address:"",city:"",province:""}),o(!1),N()}catch(T){et.fire({icon:"error",title:"Error",text:T.message,background:"#fff5f5",iconColor:"#d33"})}i(!1)},C=async S=>{try{await qo(jn($e,"users",S.id),{fullName:S.fullName,role:S.role,phone:S.phone,institution:S.institution,address:S.address,city:S.city,province:S.province}),et.fire({icon:"success",title:"Success",text:"User updated successfully",background:"#f0fff4",iconColor:"#059669",timer:1500,showConfirmButton:!1}),f(null),N()}catch(T){et.fire({icon:"error",title:"Error",text:T.message,background:"#fff5f5",iconColor:"#d33"})}},$=async S=>{if((await et.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await lP(jn($e,"users",S)),et.fire({icon:"success",title:"Deleted!",text:"User has been deleted.",background:"#f0fff4",iconColor:"#059669",timer:1500,showConfirmButton:!1}),N()}catch(O){et.fire({icon:"error",title:"Error",text:O.message,background:"#fff5f5",iconColor:"#d33"})}},D=e.filter(S=>{var T,O,R;return((T=S.email)==null?void 0:T.toLowerCase().includes(l.toLowerCase()))||((O=S.fullName)==null?void 0:O.toLowerCase().includes(l.toLowerCase()))||((R=lv[S.role])==null?void 0:R.toLowerCase().includes(l.toLowerCase()))});return b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:S=>P(S)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${y?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex justify-between items-center mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-3 bg-emerald-50 rounded-xl border border-emerald-100",children:u(Ci,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and monitor user accounts"})]})]}),b(nu,{onClick:()=>o(!a),className:"shadow-sm",children:[u(xP,{size:18,className:"mr-2"}),a?"Cancel":"Add New User"]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u(Pd,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.length})]}),u("div",{className:"p-3 bg-emerald-50 rounded-lg",children:u(Ci,{className:"h-6 w-6 text-emerald-600"})})]})}),u(Pd,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Active Customers"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.filter(S=>S.role==="customer").length})]}),u("div",{className:"p-3 bg-blue-50 rounded-lg",children:u(mj,{className:"h-6 w-6 text-blue-600"})})]})}),u(Pd,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Total Collectors"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.filter(S=>S.role==="collector").length})]}),u("div",{className:"p-3 bg-amber-50 rounded-lg",children:u(gn,{className:"h-6 w-6 text-amber-600"})})]})}),u(Pd,{className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Industries"}),u("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:e.filter(S=>S.role==="industry").length})]}),u("div",{className:"p-3 bg-purple-50 rounded-lg",children:u(gn,{className:"h-6 w-6 text-purple-600"})})]})})]}),u("div",{className:"mb-6",children:b("div",{className:"relative max-w-xl",children:[u(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u("input",{type:"text",placeholder:"Search by name, email, or role...",value:l,onChange:S=>c(S.target.value),className:`w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg \r
                  focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\r
                  text-gray-700 placeholder:text-gray-400`})]})}),a&&b(Pd,{className:"p-6 mb-8",children:[u("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Create New User"}),b("form",{onSubmit:w,className:"space-y-6",children:[b("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b(fs,{children:[u(hs,{children:"Email Address"}),u(Ua,{type:"email",name:"email",required:!0,value:_.email,onChange:E,placeholder:"Enter email address",icon:Xg})]}),b(fs,{children:[u(hs,{children:"Password"}),b("div",{className:"relative",children:[u(Ua,{type:m?"text":"password",name:"password",required:!0,value:_.password,onChange:E,placeholder:"Enter password",icon:Vp,className:"pr-10"}),u("button",{type:"button",onClick:()=>p(!m),className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 \r
                          hover:text-gray-500 transition-colors`,children:m?u(zp,{size:18}):u(Fp,{size:18})})]})]}),b(fs,{children:[u(hs,{children:"Full Name"}),u(Ua,{type:"text",name:"fullName",required:!0,value:_.fullName,onChange:E,placeholder:"Enter full name",icon:Us})]}),b(fs,{children:[u(hs,{children:"Phone Number"}),u(Ua,{type:"tel",name:"phone",value:_.phone,onChange:E,placeholder:"Enter phone number",icon:jo})]}),b(fs,{children:[u(hs,{children:"User Role"}),u(jC,{name:"role",value:_.role,onChange:E,children:Object.entries(lv).map(([S,T])=>u("option",{value:S,children:T},S))}),u("p",{className:"mt-1.5 text-sm text-gray-500",children:jX[_.role]})]}),b(fs,{children:[u(hs,{children:"Institution/Company"}),u(Ua,{type:"text",name:"institution",value:_.institution,onChange:E,placeholder:"Enter institution or company name",icon:gn})]}),b(fs,{className:"md:col-span-2",children:[u(hs,{children:"Address"}),u(Ua,{type:"text",name:"address",value:_.address,onChange:E,placeholder:"Enter complete address",icon:Ft})]}),b(fs,{children:[u(hs,{children:"City"}),u(Ua,{type:"text",name:"city",value:_.city,onChange:E,placeholder:"Enter city"})]}),b(fs,{children:[u(hs,{children:"Province"}),u(Ua,{type:"text",name:"province",value:_.province,onChange:E,placeholder:"Enter province"})]})]}),b("div",{className:"flex justify-end space-x-4",children:[u(nu,{type:"button",variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),u(nu,{type:"submit",isLoading:r,children:"Create User"})]})]})]}),u(Pd,{className:"overflow-hidden",children:u("div",{className:"overflow-x-auto",children:b("table",{className:"w-full",children:[u("thead",{children:b("tr",{className:"bg-gray-50 border-b border-gray-200",children:[u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Info"}),u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role & Status"}),u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact & Location"}),u("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Joined"}),u("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u("tbody",{className:"divide-y divide-gray-200 bg-white",children:r?u("tr",{children:u("td",{colSpan:"5",className:"px-6 py-8 text-center",children:b("div",{className:"flex items-center justify-center text-gray-500 space-x-3",children:[u(Kt,{className:"w-5 h-5 animate-spin"}),u("span",{children:"Loading users..."})]})})}):D.length===0?u("tr",{children:u("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No users found matching your search."})}):D.map(S=>{var T,O,R;return b("tr",{className:"group hover:bg-gray-50/50 transition-colors",children:[u("td",{className:"px-6 py-4",children:(d==null?void 0:d.id)===S.id?u(Ua,{type:"text",value:d.fullName,onChange:j=>f({...d,fullName:j.target.value}),placeholder:"Enter full name"}):b("div",{className:"flex items-center space-x-3",children:[u("div",{className:"flex-shrink-0",children:u("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center",children:u("span",{className:"text-emerald-600 font-medium",children:((T=S.fullName)==null?void 0:T.charAt(0))||((O=S.email)==null?void 0:O.charAt(0))||"?"})})}),b("div",{children:[u("div",{className:"text-sm font-medium text-gray-900",children:S.fullName}),u("div",{className:"text-sm text-gray-500",children:S.email})]})]})}),u("td",{className:"px-6 py-4",children:(d==null?void 0:d.id)===S.id?u(jC,{value:d.role,onChange:j=>f({...d,role:j.target.value}),children:Object.entries(lv).map(([j,U])=>u("option",{value:j,children:U},j))}):b("div",{children:[u("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${DX[S.role]}`,children:lv[S.role]}),S.institution&&u("div",{className:"text-sm text-gray-500 mt-1",children:S.institution})]})}),u("td",{className:"px-6 py-4",children:(d==null?void 0:d.id)===S.id?b("div",{className:"space-y-2",children:[u(Ua,{type:"tel",value:d.phone||"",onChange:j=>f({...d,phone:j.target.value}),placeholder:"Phone number",icon:jo}),u(Ua,{type:"text",value:d.address||"",onChange:j=>f({...d,address:j.target.value}),placeholder:"Address",icon:Ft})]}):b("div",{children:[S.phone&&b("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[u(jo,{size:14,className:"mr-1"}),S.phone]}),S.address&&b("div",{className:"flex items-center text-sm text-gray-500",children:[u(Ft,{size:14,className:"mr-1"}),S.address]})]})}),u("td",{className:"px-6 py-4",children:b("div",{className:"flex items-center text-sm text-gray-500",children:[u(ba,{size:14,className:"mr-1.5"}),((R=S.createdAt)==null?void 0:R.toLocaleDateString())||"N/A"]})}),u("td",{className:"px-6 py-4 text-right",children:u("div",{className:"transition-all flex justify-end space-x-2",children:(d==null?void 0:d.id)===S.id?b(Oi,{children:[b(nu,{variant:"success",size:"sm",onClick:()=>C(d),children:[u(vP,{size:14,className:"mr-1"}),"Save"]}),b(nu,{variant:"secondary",size:"sm",onClick:()=>f(null),children:[u(Vu,{size:14,className:"mr-1"}),"Cancel"]})]}):b(Oi,{children:[b(nu,{variant:"ghost",size:"sm",onClick:()=>f(S),children:[u(yP,{size:14,className:"mr-1"}),"Edit"]}),b(nu,{variant:"danger",size:"sm",onClick:()=>$(S.id),children:[u(xf,{size:14,className:"mr-1"}),"Delete"]})]})})})]},S.id)})})]})})})]})})]})};var u3={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(u3);const vt=u3.exports;function zX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zi=zX,FX=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,d3=FX,VX=d3,UX=typeof self=="object"&&self&&self.Object===Object&&self,WX=VX||UX||Function("return this")(),Go=WX,HX=Go,qX=HX.Symbol,iy=qX,BC=iy,h3=Object.prototype,KX=h3.hasOwnProperty,GX=h3.toString,dm=BC?BC.toStringTag:void 0;function ZX(t){var e=KX.call(t,dm),n=t[dm];try{t[dm]=void 0;var r=!0}catch{}var i=GX.call(t);return r&&(e?t[dm]=n:delete t[dm]),i}var YX=ZX,XX=Object.prototype,QX=XX.toString;function JX(t){return QX.call(t)}var eQ=JX,zC=iy,tQ=YX,nQ=eQ,rQ="[object Null]",iQ="[object Undefined]",FC=zC?zC.toStringTag:void 0;function aQ(t){return t==null?t===void 0?iQ:rQ:FC&&FC in Object(t)?tQ(t):nQ(t)}var Js=aQ,oQ=Js,sQ=zi,lQ="[object AsyncFunction]",cQ="[object Function]",uQ="[object GeneratorFunction]",dQ="[object Proxy]";function hQ(t){if(!sQ(t))return!1;var e=oQ(t);return e==cQ||e==uQ||e==lQ||e==dQ}var Re=hQ,fQ=Array.isArray,ct=fQ;function mQ(t){return t!=null&&typeof t=="object"}var el=mQ,pQ=Js,gQ=ct,yQ=el,vQ="[object String]";function wQ(t){return typeof t=="string"||!gQ(t)&&yQ(t)&&pQ(t)==vQ}var bQ=wQ;const ay=bQ;var xQ=Js,_Q=el,SQ="[object Symbol]";function EQ(t){return typeof t=="symbol"||_Q(t)&&xQ(t)==SQ}var Pf=EQ,AQ=ct,PQ=Pf,NQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TQ=/^\w*$/;function kQ(t,e){if(AQ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PQ(t)?!0:TQ.test(t)||!NQ.test(t)||e!=null&&t in Object(e)}var DP=kQ,CQ=Go,IQ=CQ["__core-js_shared__"],OQ=IQ,R_=OQ,VC=function(){var t=/[^.]+$/.exec(R_&&R_.keys&&R_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MQ(t){return!!VC&&VC in t}var RQ=MQ,LQ=Function.prototype,$Q=LQ.toString;function DQ(t){if(t!=null){try{return $Q.call(t)}catch{}try{return t+""}catch{}}return""}var f3=DQ,jQ=Re,BQ=RQ,zQ=zi,FQ=f3,VQ=/[\\^$.*+?()[\]{}|]/g,UQ=/^\[object .+?Constructor\]$/,WQ=Function.prototype,HQ=Object.prototype,qQ=WQ.toString,KQ=HQ.hasOwnProperty,GQ=RegExp("^"+qQ.call(KQ).replace(VQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZQ(t){if(!zQ(t)||BQ(t))return!1;var e=jQ(t)?GQ:UQ;return e.test(FQ(t))}var YQ=ZQ;function XQ(t,e){return t==null?void 0:t[e]}var QQ=XQ,JQ=YQ,eJ=QQ;function tJ(t,e){var n=eJ(t,e);return JQ(n)?n:void 0}var td=tJ,nJ=td,rJ=nJ(Object,"create"),Vb=rJ,UC=Vb;function iJ(){this.__data__=UC?UC(null):{},this.size=0}var aJ=iJ;function oJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sJ=oJ,lJ=Vb,cJ="__lodash_hash_undefined__",uJ=Object.prototype,dJ=uJ.hasOwnProperty;function hJ(t){var e=this.__data__;if(lJ){var n=e[t];return n===cJ?void 0:n}return dJ.call(e,t)?e[t]:void 0}var fJ=hJ,mJ=Vb,pJ=Object.prototype,gJ=pJ.hasOwnProperty;function yJ(t){var e=this.__data__;return mJ?e[t]!==void 0:gJ.call(e,t)}var vJ=yJ,wJ=Vb,bJ="__lodash_hash_undefined__";function xJ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wJ&&e===void 0?bJ:e,this}var _J=xJ,SJ=aJ,EJ=sJ,AJ=fJ,PJ=vJ,NJ=_J;function Nf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nf.prototype.clear=SJ;Nf.prototype.delete=EJ;Nf.prototype.get=AJ;Nf.prototype.has=PJ;Nf.prototype.set=NJ;var TJ=Nf;function kJ(){this.__data__=[],this.size=0}var CJ=kJ;function IJ(t,e){return t===e||t!==t&&e!==e}var jP=IJ,OJ=jP;function MJ(t,e){for(var n=t.length;n--;)if(OJ(t[n][0],e))return n;return-1}var Ub=MJ,RJ=Ub,LJ=Array.prototype,$J=LJ.splice;function DJ(t){var e=this.__data__,n=RJ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$J.call(e,n,1),--this.size,!0}var jJ=DJ,BJ=Ub;function zJ(t){var e=this.__data__,n=BJ(e,t);return n<0?void 0:e[n][1]}var FJ=zJ,VJ=Ub;function UJ(t){return VJ(this.__data__,t)>-1}var WJ=UJ,HJ=Ub;function qJ(t,e){var n=this.__data__,r=HJ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var KJ=qJ,GJ=CJ,ZJ=jJ,YJ=FJ,XJ=WJ,QJ=KJ;function Tf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tf.prototype.clear=GJ;Tf.prototype.delete=ZJ;Tf.prototype.get=YJ;Tf.prototype.has=XJ;Tf.prototype.set=QJ;var Wb=Tf,JJ=td,eee=Go,tee=JJ(eee,"Map"),BP=tee,WC=TJ,nee=Wb,ree=BP;function iee(){this.size=0,this.__data__={hash:new WC,map:new(ree||nee),string:new WC}}var aee=iee;function oee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var see=oee,lee=see;function cee(t,e){var n=t.__data__;return lee(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hb=cee,uee=Hb;function dee(t){var e=uee(this,t).delete(t);return this.size-=e?1:0,e}var hee=dee,fee=Hb;function mee(t){return fee(this,t).get(t)}var pee=mee,gee=Hb;function yee(t){return gee(this,t).has(t)}var vee=yee,wee=Hb;function bee(t,e){var n=wee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var xee=bee,_ee=aee,See=hee,Eee=pee,Aee=vee,Pee=xee;function kf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kf.prototype.clear=_ee;kf.prototype.delete=See;kf.prototype.get=Eee;kf.prototype.has=Aee;kf.prototype.set=Pee;var zP=kf,m3=zP,Nee="Expected a function";function FP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nee);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(FP.Cache||m3),n}FP.Cache=m3;var Tee=FP,kee=Tee,Cee=500;function Iee(t){var e=kee(t,function(r){return n.size===Cee&&n.clear(),r}),n=e.cache;return e}var Oee=Iee,Mee=Oee,Ree=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lee=/\\(\\)?/g,$ee=Mee(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ree,function(n,r,i,a){e.push(i?a.replace(Lee,"$1"):r||n)}),e}),Dee=$ee;function jee(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var VP=jee,HC=iy,Bee=VP,zee=ct,Fee=Pf,Vee=1/0,qC=HC?HC.prototype:void 0,KC=qC?qC.toString:void 0;function p3(t){if(typeof t=="string")return t;if(zee(t))return Bee(t,p3)+"";if(Fee(t))return KC?KC.call(t):"";var e=t+"";return e=="0"&&1/t==-Vee?"-0":e}var Uee=p3,Wee=Uee;function Hee(t){return t==null?"":Wee(t)}var g3=Hee,qee=ct,Kee=DP,Gee=Dee,Zee=g3;function Yee(t,e){return qee(t)?t:Kee(t,e)?[t]:Gee(Zee(t))}var y3=Yee,Xee=Pf,Qee=1/0;function Jee(t){if(typeof t=="string"||Xee(t))return t;var e=t+"";return e=="0"&&1/t==-Qee?"-0":e}var qb=Jee,ete=y3,tte=qb;function nte(t,e){e=ete(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tte(e[n++])];return n&&n==r?t:void 0}var UP=nte,rte=UP;function ite(t,e,n){var r=t==null?void 0:rte(t,e);return r===void 0?n:r}var Hn=ite;function ate(t){return t==null}var Pe=ate,v3={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ur=typeof Symbol=="function"&&Symbol.for,WP=ur?Symbol.for("react.element"):60103,HP=ur?Symbol.for("react.portal"):60106,Kb=ur?Symbol.for("react.fragment"):60107,Gb=ur?Symbol.for("react.strict_mode"):60108,Zb=ur?Symbol.for("react.profiler"):60114,Yb=ur?Symbol.for("react.provider"):60109,Xb=ur?Symbol.for("react.context"):60110,qP=ur?Symbol.for("react.async_mode"):60111,Qb=ur?Symbol.for("react.concurrent_mode"):60111,Jb=ur?Symbol.for("react.forward_ref"):60112,ex=ur?Symbol.for("react.suspense"):60113,ote=ur?Symbol.for("react.suspense_list"):60120,tx=ur?Symbol.for("react.memo"):60115,nx=ur?Symbol.for("react.lazy"):60116,ste=ur?Symbol.for("react.block"):60121,lte=ur?Symbol.for("react.fundamental"):60117,cte=ur?Symbol.for("react.responder"):60118,ute=ur?Symbol.for("react.scope"):60119;function Fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WP:switch(t=t.type,t){case qP:case Qb:case Kb:case Zb:case Gb:case ex:return t;default:switch(t=t&&t.$$typeof,t){case Xb:case Jb:case nx:case tx:case Yb:return t;default:return e}}case HP:return e}}}function w3(t){return Fi(t)===Qb}$t.AsyncMode=qP;$t.ConcurrentMode=Qb;$t.ContextConsumer=Xb;$t.ContextProvider=Yb;$t.Element=WP;$t.ForwardRef=Jb;$t.Fragment=Kb;$t.Lazy=nx;$t.Memo=tx;$t.Portal=HP;$t.Profiler=Zb;$t.StrictMode=Gb;$t.Suspense=ex;$t.isAsyncMode=function(t){return w3(t)||Fi(t)===qP};$t.isConcurrentMode=w3;$t.isContextConsumer=function(t){return Fi(t)===Xb};$t.isContextProvider=function(t){return Fi(t)===Yb};$t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WP};$t.isForwardRef=function(t){return Fi(t)===Jb};$t.isFragment=function(t){return Fi(t)===Kb};$t.isLazy=function(t){return Fi(t)===nx};$t.isMemo=function(t){return Fi(t)===tx};$t.isPortal=function(t){return Fi(t)===HP};$t.isProfiler=function(t){return Fi(t)===Zb};$t.isStrictMode=function(t){return Fi(t)===Gb};$t.isSuspense=function(t){return Fi(t)===ex};$t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kb||t===Qb||t===Zb||t===Gb||t===ex||t===ote||typeof t=="object"&&t!==null&&(t.$$typeof===nx||t.$$typeof===tx||t.$$typeof===Yb||t.$$typeof===Xb||t.$$typeof===Jb||t.$$typeof===lte||t.$$typeof===cte||t.$$typeof===ute||t.$$typeof===ste)};$t.typeOf=Fi;(function(t){t.exports=$t})(v3);var dte=Js,hte=el,fte="[object Number]";function mte(t){return typeof t=="number"||hte(t)&&dte(t)==fte}var b3=mte,pte=b3;function gte(t){return pte(t)&&t!=+t}var Cf=gte,Fr=function(e){return e===0?0:e>0?1:-1},wu=function(e){return ay(e)&&e.indexOf("%")===e.length-1},xe=function(e){return b3(e)&&!Cf(e)},Kn=function(e){return xe(e)||ay(e)},yte=0,Ac=function(e){var n=++yte;return"".concat(e||"").concat(n)},si=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!ay(e))return r;var a;if(wu(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Cf(a)&&(a=r),i&&a>n&&(a=n),a},Tl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},vte=function(e){if(!ct(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Bt=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function G0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Hn(r,e))===n})}var wte=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,a=0,o=0,l=1/0,c=-1/0,d=0,f=0,m=0;m<n;m++)d=e[m].cx||0,f=e[m].cy||0,r+=d,i+=f,a+=d*f,o+=d*d,l=Math.min(l,d),c=Math.max(c,d);var p=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:l,xmax:c,a:p,b:(i-p*r)/n}};function gh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function V2(t){return V2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V2(t)}var bte=["viewBox","children"],xte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GC=["points","pathLength"],L_={svg:bte,polygon:GC,polyline:GC},KP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Z0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(W.exports.isValidElement(e)&&(r=e.props),!zi(r))return null;var i={};return Object.keys(r).forEach(function(a){KP.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},_te=function(e,n,r){return function(i){return e(n,r,i),null}},yc=function(e,n,r){if(!zi(e)||V2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];KP.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=_te(o,n,r))}),i},Ste=["children"],Ete=["children"];function ZC(t,e){if(t==null)return{};var n=Ate(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ate(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function U2(t){return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}var YC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},cc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},XC=null,$_=null,GP=function t(e){if(e===XC&&ct($_))return $_;var n=[];return W.exports.Children.forEach(e,function(r){Pe(r)||(v3.exports.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$_=n,XC=e,n};function Hr(t,e){var n=[],r=[];return ct(e)?r=e.map(function(i){return cc(i)}):r=[cc(e)],GP(t).forEach(function(i){var a=Hn(i,"type.displayName")||Hn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ps(t,e){var n=Hr(t,e);return n&&n[0]}var QC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},Pte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Nte=function(e){return e&&e.type&&ay(e.type)&&Pte.indexOf(e.type)>=0},x3=function(e){return e&&U2(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},Tte=function(e,n,r,i){var a,o=(a=L_==null?void 0:L_[i])!==null&&a!==void 0?a:[];return!Re(e)&&(i&&o.includes(n)||xte.includes(n))||r&&KP.includes(n)},ke=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(W.exports.isValidElement(e)&&(i=e.props),!zi(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Tte((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},_3=function t(e,n){if(e===n)return!0;var r=W.exports.Children.count(e);if(r!==W.exports.Children.count(n))return!1;if(r===0)return!0;if(r===1)return JC(ct(e)?e[0]:e,ct(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(ct(a)||ct(o)){if(!t(a,o))return!1}else if(!JC(a,o))return!1}return!0},JC=function(e,n){if(Pe(e)&&Pe(n))return!0;if(!Pe(e)&&!Pe(n)){var r=e.props||{},i=r.children,a=ZC(r,Ste),o=n.props||{},l=o.children,c=ZC(o,Ete);return i&&l?gh(a,c)&&_3(i,l):!i&&!l?gh(a,c):!1}return!1},eI=function(e,n){var r=[],i={};return GP(e).forEach(function(a,o){if(Nte(a))r.push(a);else if(a){var l=cc(a.type),c=n[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var m=d(a,l,o);r.push(m),i[l]=!0}}}),r},kte=function(e){var n=e&&e.type;return n&&YC[n]?YC[n]:null},Cte=function(e,n){return GP(n).indexOf(e)},Ite=["children","width","height","viewBox","className","style"];function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(this,arguments)}function Ote(t,e){if(t==null)return{};var n=Mte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function H2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,l=Ote(t,Ite),c=i||{width:n,height:r,x:0,y:0},d=vt("recharts-surface",a);return Z.createElement("svg",W2({},ke(l,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),Z.createElement("title",null,t.title),Z.createElement("desc",null,t.desc),e)}var Rte=["children","className"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(this,arguments)}function Lte(t,e){if(t==null)return{};var n=$te(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $te(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ge=Z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Lte(t,Rte),a=vt("recharts-layer",r);return Z.createElement("g",q2({className:a},ke(i,!0),{ref:e}),n)}),Dte=Wb;function jte(){this.__data__=new Dte,this.size=0}var Bte=jte;function zte(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Fte=zte;function Vte(t){return this.__data__.get(t)}var Ute=Vte;function Wte(t){return this.__data__.has(t)}var Hte=Wte,qte=Wb,Kte=BP,Gte=zP,Zte=200;function Yte(t,e){var n=this.__data__;if(n instanceof qte){var r=n.__data__;if(!Kte||r.length<Zte-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gte(r)}return n.set(t,e),this.size=n.size,this}var Xte=Yte,Qte=Wb,Jte=Bte,ene=Fte,tne=Ute,nne=Hte,rne=Xte;function If(t){var e=this.__data__=new Qte(t);this.size=e.size}If.prototype.clear=Jte;If.prototype.delete=ene;If.prototype.get=tne;If.prototype.has=nne;If.prototype.set=rne;var S3=If,ine="__lodash_hash_undefined__";function ane(t){return this.__data__.set(t,ine),this}var one=ane;function sne(t){return this.__data__.has(t)}var lne=sne,cne=zP,une=one,dne=lne;function Y0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cne;++e<n;)this.add(t[e])}Y0.prototype.add=Y0.prototype.push=une;Y0.prototype.has=dne;var E3=Y0;function hne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var A3=hne;function fne(t,e){return t.has(e)}var P3=fne,mne=E3,pne=A3,gne=P3,yne=1,vne=2;function wne(t,e,n,r,i,a){var o=n&yne,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var m=-1,p=!0,y=n&vne?new mne:void 0;for(a.set(t,e),a.set(e,t);++m<l;){var P=t[m],_=e[m];if(r)var A=o?r(_,P,m,e,t,a):r(P,_,m,t,e,a);if(A!==void 0){if(A)continue;p=!1;break}if(y){if(!pne(e,function(N,E){if(!gne(y,E)&&(P===N||i(P,N,n,r,a)))return y.push(E)})){p=!1;break}}else if(!(P===_||i(P,_,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var N3=wne,bne=Go,xne=bne.Uint8Array,_ne=xne;function Sne(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ene=Sne;function Ane(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ZP=Ane,tI=iy,nI=_ne,Pne=jP,Nne=N3,Tne=Ene,kne=ZP,Cne=1,Ine=2,One="[object Boolean]",Mne="[object Date]",Rne="[object Error]",Lne="[object Map]",$ne="[object Number]",Dne="[object RegExp]",jne="[object Set]",Bne="[object String]",zne="[object Symbol]",Fne="[object ArrayBuffer]",Vne="[object DataView]",rI=tI?tI.prototype:void 0,D_=rI?rI.valueOf:void 0;function Une(t,e,n,r,i,a,o){switch(n){case Vne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Fne:return!(t.byteLength!=e.byteLength||!a(new nI(t),new nI(e)));case One:case Mne:case $ne:return Pne(+t,+e);case Rne:return t.name==e.name&&t.message==e.message;case Dne:case Bne:return t==e+"";case Lne:var l=Tne;case jne:var c=r&Cne;if(l||(l=kne),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;r|=Ine,o.set(t,e);var f=Nne(l(t),l(e),r,i,a,o);return o.delete(t),f;case zne:if(D_)return D_.call(t)==D_.call(e)}return!1}var Wne=Une;function Hne(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var T3=Hne,qne=T3,Kne=ct;function Gne(t,e,n){var r=e(t);return Kne(t)?r:qne(r,n(t))}var Zne=Gne;function Yne(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Xne=Yne;function Qne(){return[]}var Jne=Qne,ere=Xne,tre=Jne,nre=Object.prototype,rre=nre.propertyIsEnumerable,iI=Object.getOwnPropertySymbols,ire=iI?function(t){return t==null?[]:(t=Object(t),ere(iI(t),function(e){return rre.call(t,e)}))}:tre,are=ire;function ore(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sre=ore,lre=Js,cre=el,ure="[object Arguments]";function dre(t){return cre(t)&&lre(t)==ure}var hre=dre,aI=hre,fre=el,k3=Object.prototype,mre=k3.hasOwnProperty,pre=k3.propertyIsEnumerable,gre=aI(function(){return arguments}())?aI:function(t){return fre(t)&&mre.call(t,"callee")&&!pre.call(t,"callee")},YP=gre,X0={exports:{}};function yre(){return!1}var vre=yre;(function(t,e){var n=Go,r=vre,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d})(X0,X0.exports);var wre=9007199254740991,bre=/^(?:0|[1-9]\d*)$/;function xre(t,e){var n=typeof t;return e=e??wre,!!e&&(n=="number"||n!="symbol"&&bre.test(t))&&t>-1&&t%1==0&&t<e}var XP=xre,_re=9007199254740991;function Sre(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_re}var QP=Sre,Ere=Js,Are=QP,Pre=el,Nre="[object Arguments]",Tre="[object Array]",kre="[object Boolean]",Cre="[object Date]",Ire="[object Error]",Ore="[object Function]",Mre="[object Map]",Rre="[object Number]",Lre="[object Object]",$re="[object RegExp]",Dre="[object Set]",jre="[object String]",Bre="[object WeakMap]",zre="[object ArrayBuffer]",Fre="[object DataView]",Vre="[object Float32Array]",Ure="[object Float64Array]",Wre="[object Int8Array]",Hre="[object Int16Array]",qre="[object Int32Array]",Kre="[object Uint8Array]",Gre="[object Uint8ClampedArray]",Zre="[object Uint16Array]",Yre="[object Uint32Array]",en={};en[Vre]=en[Ure]=en[Wre]=en[Hre]=en[qre]=en[Kre]=en[Gre]=en[Zre]=en[Yre]=!0;en[Nre]=en[Tre]=en[zre]=en[kre]=en[Fre]=en[Cre]=en[Ire]=en[Ore]=en[Mre]=en[Rre]=en[Lre]=en[$re]=en[Dre]=en[jre]=en[Bre]=!1;function Xre(t){return Pre(t)&&Are(t.length)&&!!en[Ere(t)]}var Qre=Xre;function Jre(t){return function(e){return t(e)}}var C3=Jre,K2={exports:{}};(function(t,e){var n=d3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(K2,K2.exports);var eie=Qre,tie=C3,oI=K2.exports,sI=oI&&oI.isTypedArray,nie=sI?tie(sI):eie,I3=nie,rie=sre,iie=YP,aie=ct,oie=X0.exports,sie=XP,lie=I3,cie=Object.prototype,uie=cie.hasOwnProperty;function die(t,e){var n=aie(t),r=!n&&iie(t),i=!n&&!r&&oie(t),a=!n&&!r&&!i&&lie(t),o=n||r||i||a,l=o?rie(t.length,String):[],c=l.length;for(var d in t)(e||uie.call(t,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||sie(d,c)))&&l.push(d);return l}var hie=die,fie=Object.prototype;function mie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fie;return t===n}var pie=mie;function gie(t,e){return function(n){return t(e(n))}}var O3=gie,yie=O3,vie=yie(Object.keys,Object),wie=vie,bie=pie,xie=wie,_ie=Object.prototype,Sie=_ie.hasOwnProperty;function Eie(t){if(!bie(t))return xie(t);var e=[];for(var n in Object(t))Sie.call(t,n)&&n!="constructor"&&e.push(n);return e}var Aie=Eie,Pie=Re,Nie=QP;function Tie(t){return t!=null&&Nie(t.length)&&!Pie(t)}var oy=Tie,kie=hie,Cie=Aie,Iie=oy;function Oie(t){return Iie(t)?kie(t):Cie(t)}var rx=Oie,Mie=Zne,Rie=are,Lie=rx;function $ie(t){return Mie(t,Lie,Rie)}var Die=$ie,lI=Die,jie=1,Bie=Object.prototype,zie=Bie.hasOwnProperty;function Fie(t,e,n,r,i,a){var o=n&jie,l=lI(t),c=l.length,d=lI(e),f=d.length;if(c!=f&&!o)return!1;for(var m=c;m--;){var p=l[m];if(!(o?p in e:zie.call(e,p)))return!1}var y=a.get(t),P=a.get(e);if(y&&P)return y==e&&P==t;var _=!0;a.set(t,e),a.set(e,t);for(var A=o;++m<c;){p=l[m];var N=t[p],E=e[p];if(r)var w=o?r(E,N,p,e,t,a):r(N,E,p,t,e,a);if(!(w===void 0?N===E||i(N,E,n,r,a):w)){_=!1;break}A||(A=p=="constructor")}if(_&&!A){var C=t.constructor,$=e.constructor;C!=$&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof $=="function"&&$ instanceof $)&&(_=!1)}return a.delete(t),a.delete(e),_}var Vie=Fie,Uie=td,Wie=Go,Hie=Uie(Wie,"DataView"),qie=Hie,Kie=td,Gie=Go,Zie=Kie(Gie,"Promise"),Yie=Zie,Xie=td,Qie=Go,Jie=Xie(Qie,"Set"),M3=Jie,eae=td,tae=Go,nae=eae(tae,"WeakMap"),rae=nae,G2=qie,Z2=BP,Y2=Yie,X2=M3,Q2=rae,R3=Js,Of=f3,cI="[object Map]",iae="[object Object]",uI="[object Promise]",dI="[object Set]",hI="[object WeakMap]",fI="[object DataView]",aae=Of(G2),oae=Of(Z2),sae=Of(Y2),lae=Of(X2),cae=Of(Q2),uu=R3;(G2&&uu(new G2(new ArrayBuffer(1)))!=fI||Z2&&uu(new Z2)!=cI||Y2&&uu(Y2.resolve())!=uI||X2&&uu(new X2)!=dI||Q2&&uu(new Q2)!=hI)&&(uu=function(t){var e=R3(t),n=e==iae?t.constructor:void 0,r=n?Of(n):"";if(r)switch(r){case aae:return fI;case oae:return cI;case sae:return uI;case lae:return dI;case cae:return hI}return e});var uae=uu,j_=S3,dae=N3,hae=Wne,fae=Vie,mI=uae,pI=ct,gI=X0.exports,mae=I3,pae=1,yI="[object Arguments]",vI="[object Array]",cv="[object Object]",gae=Object.prototype,wI=gae.hasOwnProperty;function yae(t,e,n,r,i,a){var o=pI(t),l=pI(e),c=o?vI:mI(t),d=l?vI:mI(e);c=c==yI?cv:c,d=d==yI?cv:d;var f=c==cv,m=d==cv,p=c==d;if(p&&gI(t)){if(!gI(e))return!1;o=!0,f=!1}if(p&&!f)return a||(a=new j_),o||mae(t)?dae(t,e,n,r,i,a):hae(t,e,c,n,r,i,a);if(!(n&pae)){var y=f&&wI.call(t,"__wrapped__"),P=m&&wI.call(e,"__wrapped__");if(y||P){var _=y?t.value():t,A=P?e.value():e;return a||(a=new j_),i(_,A,n,r,a)}}return p?(a||(a=new j_),fae(t,e,n,r,i,a)):!1}var vae=yae,wae=vae,bI=el;function L3(t,e,n,r,i){return t===e?!0:t==null||e==null||!bI(t)&&!bI(e)?t!==t&&e!==e:wae(t,e,n,r,L3,i)}var JP=L3,bae=S3,xae=JP,_ae=1,Sae=2;function Eae(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var l=n[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=n[i];var c=l[0],d=t[c],f=l[1];if(o&&l[2]){if(d===void 0&&!(c in t))return!1}else{var m=new bae;if(r)var p=r(d,f,c,t,e,m);if(!(p===void 0?xae(f,d,_ae|Sae,r,m):p))return!1}}return!0}var Aae=Eae,Pae=zi;function Nae(t){return t===t&&!Pae(t)}var $3=Nae,Tae=$3,kae=rx;function Cae(t){for(var e=kae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Tae(i)]}return e}var Iae=Cae;function Oae(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var D3=Oae,Mae=Aae,Rae=Iae,Lae=D3;function $ae(t){var e=Rae(t);return e.length==1&&e[0][2]?Lae(e[0][0],e[0][1]):function(n){return n===t||Mae(n,t,e)}}var Dae=$ae;function jae(t,e){return t!=null&&e in Object(t)}var Bae=jae,zae=y3,Fae=YP,Vae=ct,Uae=XP,Wae=QP,Hae=qb;function qae(t,e,n){e=zae(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Hae(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Wae(i)&&Uae(o,i)&&(Vae(t)||Fae(t)))}var Kae=qae,Gae=Bae,Zae=Kae;function Yae(t,e){return t!=null&&Zae(t,e,Gae)}var Xae=Yae,Qae=JP,Jae=Hn,eoe=Xae,toe=DP,noe=$3,roe=D3,ioe=qb,aoe=1,ooe=2;function soe(t,e){return toe(t)&&noe(e)?roe(ioe(t),e):function(n){var r=Jae(n,t);return r===void 0&&r===e?eoe(n,t):Qae(e,r,aoe|ooe)}}var loe=soe;function coe(t){return t}var Mf=coe;function uoe(t){return function(e){return e==null?void 0:e[t]}}var doe=uoe,hoe=UP;function foe(t){return function(e){return hoe(e,t)}}var moe=foe,poe=doe,goe=moe,yoe=DP,voe=qb;function woe(t){return yoe(t)?poe(voe(t)):goe(t)}var boe=woe,xoe=Dae,_oe=loe,Soe=Mf,Eoe=ct,Aoe=boe;function Poe(t){return typeof t=="function"?t:t==null?Soe:typeof t=="object"?Eoe(t)?_oe(t[0],t[1]):xoe(t):Aoe(t)}var Zo=Poe;function Noe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var j3=Noe;function Toe(t){return t!==t}var koe=Toe;function Coe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Ioe=Coe,Ooe=j3,Moe=koe,Roe=Ioe;function Loe(t,e,n){return e===e?Roe(t,e,n):Ooe(t,Moe,n)}var $oe=Loe,Doe=$oe;function joe(t,e){var n=t==null?0:t.length;return!!n&&Doe(t,e,0)>-1}var Boe=joe;function zoe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Foe=zoe;function Voe(){}var Uoe=Voe,B_=M3,Woe=Uoe,Hoe=ZP,qoe=1/0,Koe=B_&&1/Hoe(new B_([,-0]))[1]==qoe?function(t){return new B_(t)}:Woe,Goe=Koe,Zoe=E3,Yoe=Boe,Xoe=Foe,Qoe=P3,Joe=Goe,ese=ZP,tse=200;function nse(t,e,n){var r=-1,i=Yoe,a=t.length,o=!0,l=[],c=l;if(n)o=!1,i=Xoe;else if(a>=tse){var d=e?null:Joe(t);if(d)return ese(d);o=!1,i=Qoe,c=new Zoe}else c=e?[]:l;e:for(;++r<a;){var f=t[r],m=e?e(f):f;if(f=n||f!==0?f:0,o&&m===m){for(var p=c.length;p--;)if(c[p]===m)continue e;e&&c.push(m),l.push(f)}else i(c,m,n)||(c!==l&&c.push(m),l.push(f))}return l}var rse=nse,ise=Zo,ase=rse;function ose(t,e){return t&&t.length?ase(t,ise(e)):[]}var Q0=ose,Rs=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function sse(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var lse=sse,cse=lse;function use(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:cse(t,e,n)}var dse=use,hse="\\ud800-\\udfff",fse="\\u0300-\\u036f",mse="\\ufe20-\\ufe2f",pse="\\u20d0-\\u20ff",gse=fse+mse+pse,yse="\\ufe0e\\ufe0f",vse="\\u200d",wse=RegExp("["+vse+hse+gse+yse+"]");function bse(t){return wse.test(t)}var B3=bse;function xse(t){return t.split("")}var _se=xse,z3="\\ud800-\\udfff",Sse="\\u0300-\\u036f",Ese="\\ufe20-\\ufe2f",Ase="\\u20d0-\\u20ff",Pse=Sse+Ese+Ase,Nse="\\ufe0e\\ufe0f",Tse="["+z3+"]",J2="["+Pse+"]",eS="\\ud83c[\\udffb-\\udfff]",kse="(?:"+J2+"|"+eS+")",F3="[^"+z3+"]",V3="(?:\\ud83c[\\udde6-\\uddff]){2}",U3="[\\ud800-\\udbff][\\udc00-\\udfff]",Cse="\\u200d",W3=kse+"?",H3="["+Nse+"]?",Ise="(?:"+Cse+"(?:"+[F3,V3,U3].join("|")+")"+H3+W3+")*",Ose=H3+W3+Ise,Mse="(?:"+[F3+J2+"?",J2,V3,U3,Tse].join("|")+")",Rse=RegExp(eS+"(?="+eS+")|"+Mse+Ose,"g");function Lse(t){return t.match(Rse)||[]}var $se=Lse,Dse=_se,jse=B3,Bse=$se;function zse(t){return jse(t)?Bse(t):Dse(t)}var Fse=zse,Vse=dse,Use=B3,Wse=Fse,Hse=g3;function qse(t){return function(e){e=Hse(e);var n=Use(e)?Wse(e):void 0,r=n?n[0]:e.charAt(0),i=n?Vse(n,1).join(""):e.slice(1);return r[t]()+i}}var Kse=qse,Gse=Kse,Zse=Gse("toUpperCase"),ix=Zse;function Ut(t){return function(){return t}}const q3=Math.cos,J0=Math.sin,oo=Math.sqrt,ew=Math.PI,ax=2*ew,tS=Math.PI,nS=2*tS,du=1e-6,Yse=nS-du;function K3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xse(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return K3;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?K3:Xse(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,d=i-n,f=o-e,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>du)if(!(Math.abs(m*c-d*f)>du)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,P=i-l,_=c*c+d*d,A=y*y+P*P,N=Math.sqrt(_),E=Math.sqrt(p),w=a*Math.tan((tS-Math.acos((_+p-A)/(2*N*E)))/2),C=w/E,$=w/N;Math.abs(C-1)>du&&this._append`L${e+C*f},${n+C*m}`,this._append`A${a},${a},0,0,${+(m*y>f*P)},${this._x1=e+$*c},${this._y1=n+$*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,m=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>du||Math.abs(this._y1-f)>du)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%nS+nS),p>Yse?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>du&&this._append`A${r},${r},0,${+(p>=tS)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Qse(e)}function tN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function G3(t){this._context=t}G3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ox(t){return new G3(t)}function Z3(t){return t[0]}function Y3(t){return t[1]}function X3(t,e){var n=Ut(!0),r=null,i=ox,a=null,o=eN(l);t=typeof t=="function"?t:t===void 0?Z3:Ut(t),e=typeof e=="function"?e:e===void 0?Y3:Ut(e);function l(c){var d,f=(c=tN(c)).length,m,p=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=f;++d)!(d<f&&n(m=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(m,d,c),+e(m,d,c));if(y)return a=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ut(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function uv(t,e,n){var r=null,i=Ut(!0),a=null,o=ox,l=null,c=eN(d);t=typeof t=="function"?t:t===void 0?Z3:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Y3:Ut(+n);function d(m){var p,y,P,_=(m=tN(m)).length,A,N=!1,E,w=new Array(_),C=new Array(_);for(a==null&&(l=o(E=c())),p=0;p<=_;++p){if(!(p<_&&i(A=m[p],p,m))===N)if(N=!N)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),P=p-1;P>=y;--P)l.point(w[P],C[P]);l.lineEnd(),l.areaEnd()}N&&(w[p]=+t(A,p,m),C[p]=+e(A,p,m),l.point(r?+r(A,p,m):w[p],n?+n(A,p,m):C[p]))}if(E)return l=null,E+""||null}function f(){return X3().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ut(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ut(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ut(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ut(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ut(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ut(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ut(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),d):a},d}class Q3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Jse(t){return new Q3(t,!0)}function ele(t){return new Q3(t,!1)}const nN={draw(t,e){const n=oo(e/ew);t.moveTo(n,0),t.arc(0,0,n,0,ax)}},tle={draw(t,e){const n=oo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},J3=oo(1/3),nle=J3*2,rle={draw(t,e){const n=oo(e/nle),r=n*J3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ile={draw(t,e){const n=oo(e),r=-n/2;t.rect(r,r,n,n)}},ale=.8908130915292852,e6=J0(ew/10)/J0(7*ew/10),ole=J0(ax/10)*e6,sle=-q3(ax/10)*e6,lle={draw(t,e){const n=oo(e*ale),r=ole*n,i=sle*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ax*a/5,l=q3(o),c=J0(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},z_=oo(3),cle={draw(t,e){const n=-oo(e/(z_*3));t.moveTo(0,n*2),t.lineTo(-z_*n,-n),t.lineTo(z_*n,-n),t.closePath()}},aa=-.5,oa=oo(3)/2,rS=1/oo(12),ule=(rS/2+1)*3,dle={draw(t,e){const n=oo(e/ule),r=n/2,i=n*rS,a=r,o=n*rS+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(aa*r-oa*i,oa*r+aa*i),t.lineTo(aa*a-oa*o,oa*a+aa*o),t.lineTo(aa*l-oa*c,oa*l+aa*c),t.lineTo(aa*r+oa*i,aa*i-oa*r),t.lineTo(aa*a+oa*o,aa*o-oa*a),t.lineTo(aa*l+oa*c,aa*c-oa*l),t.closePath()}};function hle(t,e){let n=null,r=eN(i);t=typeof t=="function"?t:Ut(t||nN),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ut(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tw(){}function nw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function t6(t){this._context=t}t6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fle(t){return new t6(t)}function n6(t){this._context=t}n6.prototype={areaStart:tw,areaEnd:tw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mle(t){return new n6(t)}function r6(t){this._context=t}r6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ple(t){return new r6(t)}function i6(t){this._context=t}i6.prototype={areaStart:tw,areaEnd:tw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gle(t){return new i6(t)}function xI(t){return t<0?-1:1}function _I(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(xI(a)+xI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function SI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function F_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function rw(t){this._context=t}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F_(this,this._t0,SI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F_(this,SI(this,n=_I(this,t,e)),n);break;default:F_(this,this._t0,n=_I(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function a6(t){this._context=new o6(t)}(a6.prototype=Object.create(rw.prototype)).point=function(t,e){rw.prototype.point.call(this,e,t)};function o6(t){this._context=t}o6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yle(t){return new rw(t)}function vle(t){return new a6(t)}function s6(t){this._context=t}s6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=EI(t),i=EI(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function EI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wle(t){return new s6(t)}function sx(t,e){this._context=t,this._t=e}sx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ble(t){return new sx(t,.5)}function xle(t){return new sx(t,0)}function _le(t){return new sx(t,1)}function Bh(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Sle(t,e){return t[e]}function Ele(t){const e=[];return e.key=t,e}function Ale(){var t=Ut([]),e=iS,n=Bh,r=Sle;function i(a){var o=Array.from(t.apply(this,arguments),Ele),l,c=o.length,d=-1,f;for(const m of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(m,o[l].key,d,a)]).data=m;for(l=0,f=tN(e(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ut(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?iS:typeof a=="function"?a:Ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Bh,i):n},i}function Ple(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Bh(t,e)}}function Nle(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Bh(t,e)}}function Tle(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],m=f[r][1]||0,p=f[r-1][1]||0,y=(m-p)/2,P=0;P<l;++P){var _=t[e[P]],A=_[r][1]||0,N=_[r-1][1]||0;y+=A-N}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Bh(t,e)}}function Up(t){return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var kle=["type","size","sizeType"];function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cle(t,e,n){return e=Ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Ole(t,"string");return Up(e)==="symbol"?e:String(e)}function Ole(t,e){if(Up(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Up(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mle(t,e){if(t==null)return{};var n=Rle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var l6={symbolCircle:nN,symbolCross:tle,symbolDiamond:rle,symbolSquare:ile,symbolStar:lle,symbolTriangle:cle,symbolWye:dle},Lle=Math.PI/180,$le=function(e){var n="symbol".concat(ix(e));return l6[n]||nN},Dle=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Lle;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jle=function(e,n){l6["symbol".concat(ix(e))]=n},lx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=Mle(e,kle),d=PI(PI({},c),{},{type:r,size:a,sizeType:l}),f=function(){var A=$le(r),N=hle().type(A).size(Dle(a,l,r));return N()},m=d.className,p=d.cx,y=d.cy,P=ke(d,!0);return p===+p&&y===+y&&a===+a?Z.createElement("path",aS({},P,{className:vt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(y,")"),d:f()})):null};lx.registerSymbol=jle;function zh(t){return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ble(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){Wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c6(r.key),r)}}function Fle(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function Ule(t){var e=qle();return function(){var r=iw(t),i;if(e){var a=iw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Wle(this,i)}}function Wle(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(t)}function Wp(t,e,n){return e=c6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t){var e=Kle(t,"string");return zh(e)==="symbol"?e:String(e)}function Kle(t,e){if(zh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sa=32,rN=function(t){Vle(n,t);var e=Ule(n);function n(){return zle(this,n),e.apply(this,arguments)}return Fle(n,[{key:"renderIcon",value:function(i){var a=this.props.inactiveColor,o=sa/2,l=sa/6,c=sa/3,d=i.inactive?a:i.color;if(i.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:o,x2:sa,y2:o,className:"recharts-legend-icon"});if(i.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(sa,"M").concat(2*c,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(i.type==="rect")return Z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(sa/8,"h").concat(sa,"v").concat(sa*3/4,"h").concat(-sa,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(i.legendIcon)){var f=Ble({},i);return delete f.legendIcon,Z.cloneElement(i.legendIcon,f)}return Z.createElement(lx,{fill:d,cx:o,cy:o,size:sa,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,a=this.props,o=a.payload,l=a.iconSize,c=a.layout,d=a.formatter,f=a.inactiveColor,m={x:0,y:0,width:sa,height:sa},p={display:c==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(P,_){var A,N=P.formatter||d,E=vt((A={"recharts-legend-item":!0},Wp(A,"legend-item-".concat(_),!0),Wp(A,"inactive",P.inactive),A));if(P.type==="none")return null;var w=Re(P.value)?null:P.value;Rs(!Re(P.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=P.inactive?f:P.color;return Z.createElement("li",oS({className:E,style:p,key:"legend-item-".concat(_)},yc(i.props,P,_)),Z.createElement(H2,{width:l,height:l,viewBox:m,style:y},i.renderIcon(P)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},N?N(w,P,_):w))})}},{key:"render",value:function(){var i=this.props,a=i.payload,o=i.layout,l=i.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}]),n}(W.exports.PureComponent);Wp(rN,"displayName","Legend");Wp(rN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Fh(t){return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}var Gle=["ref"];function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d6(r.key),r)}}function Yle(t,e,n){return e&&CI(t.prototype,e),n&&CI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lS(t,e)}function Qle(t){var e=ece();return function(){var r=aw(t),i;if(e){var a=aw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Jle(this,i)}}function Jle(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u6(t)}function u6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ece(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aw(t)}function cx(t,e,n){return e=d6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d6(t){var e=tce(t,"string");return Fh(e)==="symbol"?e:String(e)}function tce(t,e){if(Fh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t,e){if(t==null)return{};var n=rce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ice(t){return t.value}function ace(t,e){return t===!0?Q0(e,ice):Re(t)?Q0(e,t):e}function oce(t,e){if(Z.isValidElement(t))return Z.cloneElement(t,e);if(Re(t))return Z.createElement(t,e);e.ref;var n=nce(e,Gle);return Z.createElement(rN,n)}var II=1,Ws=function(t){Xle(n,t);var e=Qle(n);function n(){var r;Zle(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),cx(u6(r),"state",{boxWidth:-1,boxHeight:-1}),r}return Yle(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight;return a>=0&&o>=0?{width:a,height:o}:null}},{key:"getDefaultPosition",value:function(i){var a=this.props,o=a.layout,l=a.align,c=a.verticalAlign,d=a.margin,f=a.chartWidth,m=a.chartHeight,p,y;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(l==="center"&&o==="vertical"){var P=this.getBBoxSnapshot()||{width:0};p={left:((f||0)-P.width)/2}}else p=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(c==="middle"){var _=this.getBBoxSnapshot()||{height:0};y={top:((m||0)-_.height)/2}}else y=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Nd(Nd({},p),y)}},{key:"updateBBox",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight,l=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var c=this.wrapperNode.getBoundingClientRect();(Math.abs(c.width-a)>II||Math.abs(c.height-o)>II)&&this.setState({boxWidth:c.width,boxHeight:c.height},function(){l&&l(c)})}else(a!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){l&&l(null)})}},{key:"render",value:function(){var i=this,a=this.props,o=a.content,l=a.width,c=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,m=a.payload,p=Nd(Nd({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return Z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(P){i.wrapperNode=P}},oce(o,Nd(Nd({},this.props),{},{payload:ace(f,m)})))}}],[{key:"getWithHeight",value:function(i,a){var o=i.props.layout;return o==="vertical"&&xe(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||a}:null}}]),n}(W.exports.PureComponent);cx(Ws,"displayName","Legend");cx(Ws,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Je={exports:{}},sce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lce=sce,cce=lce;function h6(){}function f6(){}f6.resetWarningCache=h6;var uce=function(){function t(r,i,a,o,l,c){if(c!==cce){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:f6,resetWarningCache:h6};return n.PropTypes=n,n};Je.exports=uce();var dce=Object.getOwnPropertyNames,hce=Object.getOwnPropertySymbols,fce=Object.prototype.hasOwnProperty;function OI(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function dv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function MI(t){return dce(t).concat(hce(t))}var m6=Object.hasOwn||function(t,e){return fce.call(t,e)};function Rf(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var p6="_owner",RI=Object.getOwnPropertyDescriptor,LI=Object.keys;function mce(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function pce(t,e){return Rf(t.getTime(),e.getTime())}function $I(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,o,l;(o=i.next())&&!o.done;){for(var c=e.entries(),d=!1,f=0;(l=c.next())&&!l.done;){var m=o.value,p=m[0],y=m[1],P=l.value,_=P[0],A=P[1];!d&&!r[f]&&(d=n.equals(p,_,a,f,t,e,n)&&n.equals(y,A,p,_,t,e,n))&&(r[f]=!0),f++}if(!d)return!1;a++}return!0}function gce(t,e,n){var r=LI(t),i=r.length;if(LI(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===p6&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!m6(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function hm(t,e,n){var r=MI(t),i=r.length;if(MI(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],a===p6&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!m6(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(o=RI(t,a),l=RI(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function yce(t,e){return Rf(t.valueOf(),e.valueOf())}function vce(t,e){return t.source===e.source&&t.flags===e.flags}function DI(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,o;(a=i.next())&&!a.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!r[d]&&(c=n.equals(a.value,o.value,a.value,o.value,t,e,n))&&(r[d]=!0),d++;if(!c)return!1}return!0}function wce(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var bce="[object Arguments]",xce="[object Boolean]",_ce="[object Date]",Sce="[object Map]",Ece="[object Number]",Ace="[object Object]",Pce="[object RegExp]",Nce="[object Set]",Tce="[object String]",kce=Array.isArray,jI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BI=Object.assign,Cce=Object.prototype.toString.call.bind(Object.prototype.toString);function Ice(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(f,m,p){if(f===m)return!0;if(f==null||m==null||typeof f!="object"||typeof m!="object")return f!==f&&m!==m;var y=f.constructor;if(y!==m.constructor)return!1;if(y===Object)return i(f,m,p);if(kce(f))return e(f,m,p);if(jI!=null&&jI(f))return c(f,m,p);if(y===Date)return n(f,m,p);if(y===RegExp)return o(f,m,p);if(y===Map)return r(f,m,p);if(y===Set)return l(f,m,p);var P=Cce(f);return P===_ce?n(f,m,p):P===Pce?o(f,m,p):P===Sce?r(f,m,p):P===Nce?l(f,m,p):P===Ace?typeof f.then!="function"&&typeof m.then!="function"&&i(f,m,p):P===bce?i(f,m,p):P===xce||P===Ece||P===Tce?a(f,m,p):!1}}function Oce(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?hm:mce,areDatesEqual:pce,areMapsEqual:r?OI($I,hm):$I,areObjectsEqual:r?hm:gce,arePrimitiveWrappersEqual:yce,areRegExpsEqual:vce,areSetsEqual:r?OI(DI,hm):DI,areTypedArraysEqual:r?hm:wce};if(n&&(i=BI({},i,n(i))),e){var a=dv(i.areArraysEqual),o=dv(i.areMapsEqual),l=dv(i.areObjectsEqual),c=dv(i.areSetsEqual);i=BI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Mce(t){return function(e,n,r,i,a,o,l){return t(e,n,l)}}function Rce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,d){var f=r(),m=f.cache,p=m===void 0?e?new WeakMap:void 0:m,y=f.meta;return n(c,d,{cache:p,equals:i,meta:y,strict:a})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var Lce=Pc();Pc({strict:!0});Pc({circular:!0});Pc({circular:!0,strict:!0});Pc({createInternalComparator:function(){return Rf}});Pc({strict:!0,createInternalComparator:function(){return Rf}});Pc({circular:!0,createInternalComparator:function(){return Rf}});Pc({circular:!0,createInternalComparator:function(){return Rf},strict:!0});function Pc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=Oce(t),c=Ice(l),d=r?r(c):Mce(c);return Rce({circular:n,comparator:c,createState:i,equals:d,strict:o})}function $ce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):$ce(i)};requestAnimationFrame(r)}function cS(t){return cS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(t)}function Dce(t){return Fce(t)||zce(t)||Bce(t)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fce(t){if(Array.isArray(t))return t}function Vce(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Dce(o),c=l[0],d=l.slice(1);if(typeof c=="number"){zI(i.bind(null,d),c);return}i(c),zI(i.bind(null,d));return}cS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Hp(t){return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ow(t,e,n){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=Wce(t,"string");return Hp(e)==="symbol"?e:String(e)}function Wce(t,e){if(Hp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hce=["Webkit","Moz","O","ms"],qce=["-webkit-","-moz-","-o-","-ms-"],Kce=["transform","transformOrigin","transition"],Gce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Zce=function(e){return e},Yce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xce=function(e,n){if(Kce.indexOf(e)===-1)return ow({},e,Number.isNaN(n)?0:n);var r=e==="transition",i=e.replace(/(\w)/,function(o){return o.toUpperCase()}),a=n;return Hce.reduce(function(o,l,c){return r&&(a=n.replace(/(transform|transform-origin)/gim,"".concat(qce[c],"$1"))),Vh(Vh({},o),{},ow({},l+i,a))},{})},Xm=function(e,n){return Object.keys(n).reduce(function(r,i){return Vh(Vh({},r),{},ow({},i,e(i,n[i])))},{})},uS=function(e){return Object.keys(e).reduce(function(n,r){return Vh(Vh({},n),Xce(r,n[r]))},e)},UI=function(e,n,r){return e.map(function(i){return"".concat(Yce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Qce(t,e){return tue(t)||eue(t,e)||g6(t,e)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function tue(t){if(Array.isArray(t))return t}function nue(t){return aue(t)||iue(t)||g6(t)||rue()}function rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g6(t,e){if(t){if(typeof t=="string")return dS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(t,e)}}function iue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aue(t){if(Array.isArray(t))return dS(t)}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sw=1e-4,y6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},v6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},WI=function(e,n){return function(r){var i=y6(e,n);return v6(i,r)}},oue=function(e,n){return function(r){var i=y6(e,n),a=[].concat(nue(i.map(function(o,l){return o*l}).slice(1)),[0]);return v6(a,r)}},HI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),f=Qce(d,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var m=WI(i,o),p=WI(a,l),y=oue(i,o),P=function(N){return N>1?1:N<0?0:N},_=function(N){for(var E=N>1?1:N,w=E,C=0;C<8;++C){var $=m(w)-E,D=y(w);if(Math.abs($-E)<sw||D<sw)return p(w);w=P(w-$/D)}return p(w)};return _.isStepper=!1,_},sue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,m,p){var y=-(f-m)*r,P=p*a,_=p+(y-P)*l/1e3,A=p*l/1e3+f;return Math.abs(A-m)<sw&&Math.abs(_)<sw?[m,0]:[A,_]};return c.isStepper=!0,c.dt=l,c},lue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HI(i);case"spring":return sue();default:if(i.split("(")[0]==="cubic-bezier")return HI(i)}return typeof i=="function"?i:null};function qp(t){return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function qI(t){return due(t)||uue(t)||w6(t)||cue()}function cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function due(t){if(Array.isArray(t))return fS(t)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){hS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hS(t,e,n){return e=hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=fue(t,"string");return qp(e)==="symbol"?e:String(e)}function fue(t,e){if(qp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(t,e){return yue(t)||gue(t,e)||w6(t,e)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(t,e){if(t){if(typeof t=="string")return fS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(t,e)}}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function yue(t){if(Array.isArray(t))return t}var lw=function(e,n,r){return e+(n-e)*r},mS=function(e){var n=e.from,r=e.to;return n!==r},vue=function t(e,n,r){var i=Xm(function(a,o){if(mS(o)){var l=e(o.from,o.to,o.velocity),c=mue(l,2),d=c[0],f=c[1];return mr(mr({},o),{},{from:d,velocity:f})}return o},n);return r<1?Xm(function(a,o){return mS(o)?mr(mr({},o),{},{velocity:lw(o.velocity,i[a].velocity,r),from:lw(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const wue=function(t,e,n,r,i){var a=Gce(t,e),o=a.reduce(function(A,N){return mr(mr({},A),{},hS({},N,[t[N],e[N]]))},{}),l=a.reduce(function(A,N){return mr(mr({},A),{},hS({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,d,f,m=function(){return null},p=function(){return Xm(function(N,E){return E.from},l)},y=function(){return!Object.values(l).filter(mS).length},P=function(N){d||(d=N);var E=N-d,w=E/n.dt;l=vue(n,l,w),i(mr(mr(mr({},t),e),p())),d=N,y()||(c=requestAnimationFrame(m))},_=function(N){f||(f=N);var E=(N-f)/r,w=Xm(function($,D){return lw.apply(void 0,qI(D).concat([n(E)]))},o);if(i(mr(mr(mr({},t),e),w)),E<1)c=requestAnimationFrame(m);else{var C=Xm(function($,D){return lw.apply(void 0,qI(D).concat([n(1)]))},o);i(mr(mr(mr({},t),e),C))}};return m=n.isStepper?P:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Uh(t){return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}var bue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xue(t,e){if(t==null)return{};var n=_ue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V_(t){return Pue(t)||Aue(t)||Eue(t)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(t,e){if(t){if(typeof t=="string")return pS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(t,e)}}function Aue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pue(t){if(Array.isArray(t))return pS(t)}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n){return e=b6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b6(r.key),r)}}function Tue(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b6(t){var e=kue(t,"string");return Uh(e)==="symbol"?e:String(e)}function kue(t,e){if(Uh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function Iue(t){var e=Oue();return function(){var r=cw(t),i;if(e){var a=cw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return yS(this,i)}}function yS(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vS(t)}function vS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cw(t){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(t)}var Li=function(t){Cue(n,t);var e=Iue(n);function n(r,i){var a;Nue(this,n),a=e.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,m=o.steps,p=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(vS(a)),a.changeStyle=a.changeStyle.bind(vS(a)),!l||y<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:f}),yS(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof p=="function")return a.state={style:d},yS(a);a.state={style:c?Mm({},c,d):d}}else a.state={style:{}};return a}return Tue(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,f=a.to,m=a.from,p=this.state.style;if(l){if(!o){var y={style:c?Mm({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(y);return}if(!(Lce(i.to,f)&&i.canBegin&&i.isActive)){var P=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=P||d?m:i.to;if(this.state&&p){var A={style:c?Mm({},c,_):_};(c&&[c]!==_||!c&&p!==_)&&this.setState(A)}this.runAnimation(Wa(Wa({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,m=i.onAnimationEnd,p=i.onAnimationStart,y=wue(o,l,lue(d),c,this.changeStyle),P=function(){a.stopJSAnimation=y()};this.manager.start([p,f,P,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,m=d.duration,p=m===void 0?0:m,y=function(_,A,N){if(N===0)return _;var E=A.duration,w=A.easing,C=w===void 0?"ease":w,$=A.style,D=A.properties,S=A.onAnimationEnd,T=N>0?o[N-1]:A,O=D||Object.keys($);if(typeof C=="function"||C==="spring")return[].concat(V_(_),[a.runJSAnimation.bind(a,{from:T.style,to:$,duration:E,easing:C}),E]);var R=UI(O,E,C),j=Wa(Wa(Wa({},T.style),$),{},{transition:R});return[].concat(V_(_),[j,E,S]).filter(Zce)};return this.manager.start([c].concat(V_(o.reduce(y,[f,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Vce());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,m=i.onAnimationEnd,p=i.steps,y=i.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var _=l?Mm({},l,c):c,A=UI(Object.keys(_),o,d);P.start([f,a,Wa(Wa({},_),{},{transition:A}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=xue(i,bue),d=W.exports.Children.count(a),f=uS(this.state.style);if(typeof a=="function")return a(f);if(!l||d===0||o<=0)return a;var m=function(y){var P=y.props,_=P.style,A=_===void 0?{}:_,N=P.className,E=W.exports.cloneElement(y,Wa(Wa({},c),{},{style:Wa(Wa({},A),f),className:N}));return E};return d===1?m(W.exports.Children.only(a)):Z.createElement("div",null,W.exports.Children.map(a,function(p){return m(p)}))}}]),n}(W.exports.PureComponent);Li.displayName="Animate";Li.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Li.propTypes={from:Je.exports.oneOfType([Je.exports.object,Je.exports.string]),to:Je.exports.oneOfType([Je.exports.object,Je.exports.string]),attributeName:Je.exports.string,duration:Je.exports.number,begin:Je.exports.number,easing:Je.exports.oneOfType([Je.exports.string,Je.exports.func]),steps:Je.exports.arrayOf(Je.exports.shape({duration:Je.exports.number.isRequired,style:Je.exports.object.isRequired,easing:Je.exports.oneOfType([Je.exports.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.exports.func]),properties:Je.exports.arrayOf("string"),onAnimationEnd:Je.exports.func})),children:Je.exports.oneOfType([Je.exports.node,Je.exports.func]),isActive:Je.exports.bool,canBegin:Je.exports.bool,onAnimationEnd:Je.exports.func,shouldReAnimate:Je.exports.bool,onAnimationStart:Je.exports.func,onAnimationReStart:Je.exports.func};Number.isFinite===void 0&&(Number.isFinite=function(t){return typeof t=="number"&&isFinite(t)});Je.exports.object,Je.exports.object,Je.exports.object,Je.exports.element;Je.exports.object,Je.exports.object,Je.exports.object,Je.exports.oneOfType([Je.exports.array,Je.exports.element]),Je.exports.any;var YI=iy,Mue=YP,Rue=ct,XI=YI?YI.isConcatSpreadable:void 0;function Lue(t){return Rue(t)||Mue(t)||!!(XI&&t&&t[XI])}var $ue=Lue,Due=T3,jue=$ue;function x6(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=jue),i||(i=[]);++a<o;){var l=t[a];e>0&&n(l)?e>1?x6(l,e-1,n,r,i):Due(i,l):r||(i[i.length]=l)}return i}var _6=x6;function Bue(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++i];if(n(a[c],c,a)===!1)break}return e}}var zue=Bue,Fue=zue,Vue=Fue(),Uue=Vue,Wue=Uue,Hue=rx;function que(t,e){return t&&Wue(t,e,Hue)}var S6=que,Kue=oy;function Gue(t,e){return function(n,r){if(n==null)return n;if(!Kue(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Zue=Gue,Yue=S6,Xue=Zue,Que=Xue(Yue),iN=Que,Jue=iN,ede=oy;function tde(t,e){var n=-1,r=ede(t)?Array(t.length):[];return Jue(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var E6=tde;function nde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var rde=nde,QI=Pf;function ide(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=QI(t),o=e!==void 0,l=e===null,c=e===e,d=QI(e);if(!l&&!d&&!a&&t>e||a&&o&&c&&!l&&!d||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!d&&t<e||d&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var ade=ide,ode=ade;function sde(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,l=n.length;++r<o;){var c=ode(i[r],a[r]);if(c){if(r>=l)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return t.index-e.index}var lde=sde,U_=VP,cde=UP,ude=Zo,dde=E6,hde=rde,fde=C3,mde=lde,pde=Mf,gde=ct;function yde(t,e,n){e.length?e=U_(e,function(a){return gde(a)?function(o){return cde(o,a.length===1?a[0]:a)}:a}):e=[pde];var r=-1;e=U_(e,fde(ude));var i=dde(t,function(a,o,l){var c=U_(e,function(d){return d(a)});return{criteria:c,index:++r,value:a}});return hde(i,function(a,o){return mde(a,o,n)})}var vde=yde;function wde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bde=wde,xde=bde,JI=Math.max;function _de(t,e,n){return e=JI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=JI(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),xde(t,this,l)}}var Sde=_de;function Ede(t){return function(){return t}}var Ade=Ede,Pde=td,Nde=function(){try{var t=Pde(Object,"defineProperty");return t({},"",{}),t}catch{}}(),A6=Nde,Tde=Ade,eO=A6,kde=Mf,Cde=eO?function(t,e){return eO(t,"toString",{configurable:!0,enumerable:!1,value:Tde(e),writable:!0})}:kde,Ide=Cde,Ode=800,Mde=16,Rde=Date.now;function Lde(t){var e=0,n=0;return function(){var r=Rde(),i=Mde-(r-n);if(n=r,i>0){if(++e>=Ode)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $de=Lde,Dde=Ide,jde=$de,Bde=jde(Dde),zde=Bde,Fde=Mf,Vde=Sde,Ude=zde;function Wde(t,e){return Ude(Vde(t,e,Fde),t+"")}var Hde=Wde,qde=jP,Kde=oy,Gde=XP,Zde=zi;function Yde(t,e,n){if(!Zde(n))return!1;var r=typeof e;return(r=="number"?Kde(n)&&Gde(e,n.length):r=="string"&&e in n)?qde(n[e],t):!1}var ux=Yde,Xde=_6,Qde=vde,Jde=Hde,tO=ux,ehe=Jde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&tO(t,e[0],e[1])?e=[]:n>2&&tO(e[0],e[1],e[2])&&(e=[e[0]]),Qde(t,Xde(e,1),[])}),aN=ehe;function Kp(t){return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function the(t,e){return ahe(t)||ihe(t,e)||rhe(t,e)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(t,e){if(t){if(typeof t=="string")return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ihe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function ahe(t){if(Array.isArray(t))return t}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return e=she(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=lhe(t,"string");return Kp(e)==="symbol"?e:String(e)}function lhe(t,e){if(Kp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function che(t){return ct(t)&&Kn(t[0])&&Kn(t[1])?t.join(" ~ "):t}var uhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,m=e.formatter,p=e.itemSorter,y=e.wrapperClassName,P=e.labelClassName,_=e.label,A=e.labelFormatter,N=function(){if(f&&f.length){var O={padding:0,margin:0},R=(p?aN(f,p):f).map(function(j,U){if(j.type==="none")return null;var V=W_({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},l),G=j.formatter||m||che,X=j.value,ee=j.name,te=X,J=ee;if(G&&te!=null&&J!=null){var le=G(X,ee,j,U,f);if(Array.isArray(le)){var Y=the(le,2);te=Y[0],J=Y[1]}else te=le}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:V},Kn(J)?Z.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Kn(J)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},te),Z.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},E=W_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=W_({margin:0},d),C=!Pe(_),$=C?_:"",D=vt("recharts-default-tooltip",y),S=vt("recharts-tooltip-label",P);return C&&A&&f!==void 0&&f!==null&&($=A(_,f)),Z.createElement("div",{className:D,style:E},Z.createElement("p",{className:S,style:w},Z.isValidElement($)?$:"".concat($)),N())},dhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ii={isSsr:dhe(),get:function(e){return Ii[e]},set:function(e,n){if(typeof e=="string")Ii[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ii[i]=e[i]})}}};function Wh(t){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function fhe(t,e,n){return e&&aO(t.prototype,e),n&&aO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function phe(t){var e=yhe();return function(){var r=uw(t),i;if(e){var a=uw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ghe(this,i)}}function ghe(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yv(t)}function Yv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uw(t){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uw(t)}function Po(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=vhe(t,"string");return Wh(e)==="symbol"?e:String(e)}function vhe(t,e){if(Wh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm="recharts-tooltip-wrapper",oO=1;function whe(t){return t.dataKey}function bhe(t,e){return t===!0?Q0(e,whe):Re(t)?Q0(e,t):e}function xhe(t,e){return Z.isValidElement(t)?Z.cloneElement(t,e):Re(t)?Z.createElement(t,e):Z.createElement(uhe,e)}var mn=function(t){mhe(n,t);var e=phe(n);function n(){var r;hhe(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),Po(Yv(r),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Po(Yv(r),"handleKeyDown",function(l){l.key==="Escape"&&r.setState({dismissed:!0,dismissedAtCoordinate:ms(ms({},r.state.dismissedAtCoordinate),{},{x:r.props.coordinate.x,y:r.props.coordinate.y})})}),Po(Yv(r),"getTranslate",function(l){var c=l.key,d=l.tooltipDimension,f=l.viewBoxDimension,m=r.props,p=m.allowEscapeViewBox,y=m.reverseDirection,P=m.coordinate,_=m.offset,A=m.position,N=m.viewBox;if(A&&xe(A[c]))return A[c];var E=P[c]-d-_,w=P[c]+_;if(p[c])return y[c]?E:w;if(y[c]){var C=E,$=N[c];return C<$?Math.max(w,N[c]):Math.max(E,N[c])}var D=w+d,S=N[c]+f;return D>S?Math.max(E,N[c]):Math.max(w,N[c])}),r}return fhe(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight,l=i.dismissed;if(l?(document.removeEventListener("keydown",this.handleKeyDown),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):document.addEventListener("keydown",this.handleKeyDown),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var c=this.wrapperNode.getBoundingClientRect();(Math.abs(c.width-a)>oO||Math.abs(c.height-o)>oO)&&this.setState({boxWidth:c.width,boxHeight:c.height})}else(a!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,a=this,o=this.props,l=o.payload,c=o.isAnimationActive,d=o.animationDuration,f=o.animationEasing,m=o.filterNull,p=o.payloadUniqBy,y=bhe(p,m&&l&&l.length?l.filter(function(V){return!Pe(V.value)}):l),P=y&&y.length,_=this.props,A=_.content,N=_.viewBox,E=_.coordinate,w=_.position,C=_.active,$=_.wrapperStyle,D=ms({pointerEvents:"none",visibility:!this.state.dismissed&&C&&P?"visible":"hidden",position:"absolute",top:0,left:0},$),S,T;if(w&&xe(w.x)&&xe(w.y))S=w.x,T=w.y;else{var O=this.state,R=O.boxWidth,j=O.boxHeight;R>0&&j>0&&E?(S=this.getTranslate({key:"x",tooltipDimension:R,viewBoxDimension:N.width}),T=this.getTranslate({key:"y",tooltipDimension:j,viewBoxDimension:N.height})):D.visibility="hidden"}D=ms(ms({},uS({transform:this.props.useTranslate3d?"translate3d(".concat(S,"px, ").concat(T,"px, 0)"):"translate(".concat(S,"px, ").concat(T,"px)")})),D),c&&C&&(D=ms(ms({},uS({transition:"transform ".concat(d,"ms ").concat(f)})),D));var U=vt(fm,(i={},Po(i,"".concat(fm,"-right"),xe(S)&&E&&xe(E.x)&&S>=E.x),Po(i,"".concat(fm,"-left"),xe(S)&&E&&xe(E.x)&&S<E.x),Po(i,"".concat(fm,"-bottom"),xe(T)&&E&&xe(E.y)&&T>=E.y),Po(i,"".concat(fm,"-top"),xe(T)&&E&&xe(E.y)&&T<E.y),i));return Z.createElement("div",{tabIndex:-1,role:"dialog",className:U,style:D,ref:function(G){a.wrapperNode=G}},xhe(A,ms(ms({},this.props),{},{payload:y})))}}]),n}(W.exports.PureComponent);Po(mn,"displayName","Tooltip");Po(mn,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x:0,y:0,height:0,width:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Ii.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var _he=Go,She=function(){return _he.Date.now()},Ehe=She,Ahe=/\s/;function Phe(t){for(var e=t.length;e--&&Ahe.test(t.charAt(e)););return e}var Nhe=Phe,The=Nhe,khe=/^\s+/;function Che(t){return t&&t.slice(0,The(t)+1).replace(khe,"")}var Ihe=Che,Ohe=Ihe,sO=zi,Mhe=Pf,lO=0/0,Rhe=/^[-+]0x[0-9a-f]+$/i,Lhe=/^0b[01]+$/i,$he=/^0o[0-7]+$/i,Dhe=parseInt;function jhe(t){if(typeof t=="number")return t;if(Mhe(t))return lO;if(sO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ohe(t);var n=Lhe.test(t);return n||$he.test(t)?Dhe(t.slice(2),n?2:8):Rhe.test(t)?lO:+t}var N6=jhe,Bhe=zi,H_=Ehe,cO=N6,zhe="Expected a function",Fhe=Math.max,Vhe=Math.min;function Uhe(t,e,n){var r,i,a,o,l,c,d=0,f=!1,m=!1,p=!0;if(typeof t!="function")throw new TypeError(zhe);e=cO(e)||0,Bhe(n)&&(f=!!n.leading,m="maxWait"in n,a=m?Fhe(cO(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function y(D){var S=r,T=i;return r=i=void 0,d=D,o=t.apply(T,S),o}function P(D){return d=D,l=setTimeout(N,e),f?y(D):o}function _(D){var S=D-c,T=D-d,O=e-S;return m?Vhe(O,a-T):O}function A(D){var S=D-c,T=D-d;return c===void 0||S>=e||S<0||m&&T>=a}function N(){var D=H_();if(A(D))return E(D);l=setTimeout(N,_(D))}function E(D){return l=void 0,p&&r?y(D):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function C(){return l===void 0?o:E(H_())}function $(){var D=H_(),S=A(D);if(r=arguments,i=this,c=D,S){if(l===void 0)return P(c);if(m)return clearTimeout(l),l=setTimeout(N,e),y(c)}return l===void 0&&(l=setTimeout(N,e)),o}return $.cancel=w,$.flush=C,$}var T6=Uhe,Whe=T6,Hhe=zi,qhe="Expected a function";function Khe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(qhe);return Hhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Whe(t,e,{leading:r,maxWait:e,trailing:i})}var k6=Khe,bS=function(t,e){return bS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},bS(t,e)};function Ghe(t,e){bS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Zhe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Yhe=function(t,e,n,r){switch(e){case"debounce":return T6(t,n,r);case"throttle":return k6(t,n,r);default:return t}},uO=function(t){return typeof t=="function"},mm=function(){return typeof window>"u"},dO=function(t){return t instanceof Element||t instanceof HTMLDocument},Xhe=function(t,e,n){return function(r){var i=r.width,a=r.height;t(function(o){return o.width===i&&o.height===a||o.width===i&&!n||o.height===a&&!e?o:{width:i,height:a}})}},Qhe=function(t){Ghe(e,t);function e(n){var r=t.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var d=r.props,f=d.targetRef,m=d.observerOptions;if(!mm()){f&&f.current&&(r.targetRef.current=f.current);var p=r.getElement();p&&(r.observableElement&&r.observableElement===p||(r.observableElement=p,r.resizeObserver.observe(p,m)))}},r.getElement=function(){var d=r.props,f=d.querySelector,m=d.targetDomEl;if(mm())return null;if(f)return document.querySelector(f);if(m&&dO(m))return m;if(r.targetRef&&dO(r.targetRef.current))return r.targetRef.current;var p=Zw.exports.findDOMNode(r);if(!p)return null;var y=r.getRenderType();switch(y){case"renderProp":return p;case"childFunction":return p;case"child":return p;case"childArray":return p;default:return p.parentElement}},r.createResizeHandler=function(d){var f=r.props,m=f.handleWidth,p=m===void 0?!0:m,y=f.handleHeight,P=y===void 0?!0:y,_=f.onResize;if(!(!p&&!P)){var A=Xhe(function(N){return r.setState(N,function(){return _==null?void 0:_(r.state.width,r.state.height)})},p,P);d.forEach(function(N){var E=N&&N.contentRect||{},w=E.width,C=E.height,$=!r.skipOnMount&&!mm();$&&A({width:w,height:C}),r.skipOnMount=!1})}},r.getRenderType=function(){var d=r.props,f=d.render,m=d.children;return uO(f)?"renderProp":uO(m)?"childFunction":W.exports.isValidElement(m)?"child":Array.isArray(m)?"childArray":"parent"};var i=n.skipOnMount,a=n.refreshMode,o=n.refreshRate,l=o===void 0?1e3:o,c=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=W.exports.createRef(),r.observableElement=null,mm()||(r.resizeHandler=Yhe(r.createResizeHandler,a,l,c),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return e.prototype.componentDidMount=function(){this.attachObserver()},e.prototype.componentDidUpdate=function(){this.attachObserver()},e.prototype.componentWillUnmount=function(){mm()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},e.prototype.render=function(){var n=this.props,r=n.render,i=n.children,a=n.nodeType,o=a===void 0?"div":a,l=this.state,c=l.width,d=l.height,f={width:c,height:d,targetRef:this.targetRef},m=this.getRenderType();switch(m){case"renderProp":return r==null?void 0:r(f);case"childFunction":{var p=i;return p==null?void 0:p(f)}case"child":{var y=i;if(y.type&&typeof y.type=="string"){f.targetRef;var P=Zhe(f,["targetRef"]);return W.exports.cloneElement(y,P)}return W.exports.cloneElement(y,f)}case"childArray":{var _=i;return _.map(function(A){return!!A&&W.exports.cloneElement(A,f)})}default:return Z.createElement(o,null)}},e}(W.exports.PureComponent);function Gp(t){return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(this,arguments)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return e=efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return Gp(e)==="symbol"?e:String(e)}function tfe(t,e){if(Gp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nfe(t,e){return ofe(t)||afe(t,e)||ife(t,e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(t,e){if(t){if(typeof t=="string")return mO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mO(t,e)}}function mO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function afe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function ofe(t){if(Array.isArray(t))return t}var sr=W.exports.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,y=t.children,P=t.debounce,_=P===void 0?0:P,A=t.id,N=t.className,E=t.onResize,w=t.style,C=w===void 0?{}:w,$=W.exports.useState({containerWidth:i.width,containerHeight:i.height}),D=nfe($,2),S=D[0],T=D[1],O=W.exports.useRef(null);W.exports.useImperativeHandle(e,function(){return O},[O]);var R=W.exports.useCallback(function(){return O.current?{containerWidth:O.current.clientWidth,containerHeight:O.current.clientHeight}:null},[]),j=W.exports.useCallback(function(){var G=R();if(G){var X=G.containerWidth,ee=G.containerHeight;E&&E(X,ee),T(function(te){var J=te.containerWidth,le=te.containerHeight;return X!==J||ee!==le?{containerWidth:X,containerHeight:ee}:te})}},[R,E]),U=W.exports.useMemo(function(){var G=S.containerWidth,X=S.containerHeight;if(G<0||X<0)return null;Rs(wu(o)||wu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Rs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=wu(o)?G:o,te=wu(c)?X:c;return n&&n>0&&(ee?te=ee/n:te&&(ee=te*n),p&&te>p&&(te=p)),Rs(ee>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,te,o,c,f,m,n),W.exports.cloneElement(y,{width:ee,height:te})},[n,y,c,p,m,f,S,o]);W.exports.useEffect(function(){var G=R();G&&T(G)},[R]);var V=fO(fO({},C),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p});return Z.createElement(Qhe,{handleWidth:!0,handleHeight:!0,onResize:j,targetRef:O,refreshMode:_>0?"debounce":void 0,refreshRate:_},Z.createElement("div",xS({},A!=null?{id:"".concat(A)}:{},{className:vt("recharts-responsive-container",N),style:V,ref:O}),U))}),so=function(e){return null};so.displayName="Cell";function Zp(t){return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sfe(t,e,n){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=cfe(t,"string");return Zp(e)==="symbol"?e:String(e)}function cfe(t,e){if(Zp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yO(t){return ffe(t)||hfe(t)||dfe(t)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(t,e){if(t){if(typeof t=="string")return _S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(t,e)}}function hfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ffe(t){if(Array.isArray(t))return _S(t)}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Td={widthCache:{},cacheCount:0},mfe=2e3,pfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gfe=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],vO="recharts_measurement_span";function yfe(t,e){return gfe.indexOf(t)>=0&&e===+e?"".concat(e,"px"):e}function vfe(t){var e=t.split(""),n=e.reduce(function(r,i){return i===i.toUpperCase()?[].concat(yO(r),["-",i.toLowerCase()]):[].concat(yO(r),[i])},[]);return n.join("")}var wfe=function(e){return Object.keys(e).reduce(function(n,r){return"".concat(n).concat(vfe(r),":").concat(yfe(r,e[r]),";")},"")},Qm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ii.isSsr)return{width:0,height:0};var r="".concat(e),i=wfe(n),a="".concat(r,"-").concat(i);if(Td.widthCache[a])return Td.widthCache[a];try{var o=document.getElementById(vO);o||(o=document.createElement("span"),o.setAttribute("id",vO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=gO(gO({},pfe),n);Object.keys(l).map(function(f){return o.style[f]=l[f],f}),o.textContent=r;var c=o.getBoundingClientRect(),d={width:c.width,height:c.height};return Td.widthCache[a]=d,++Td.cacheCount>mfe&&(Td.cacheCount=0,Td.widthCache={}),d}catch{return{width:0,height:0}}},bfe=function(e){var n=e.ownerDocument.documentElement,r={top:0,left:0};return typeof e.getBoundingClientRect<"u"&&(r=e.getBoundingClientRect()),{top:r.top+window.pageYOffset-n.clientTop,left:r.left+window.pageXOffset-n.clientLeft}},xfe=function(e,n){return{chartX:Math.round(e.pageX-n.left),chartY:Math.round(e.pageY-n.top)}};function Yp(t){return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function dw(t,e){return Afe(t)||Efe(t,e)||Sfe(t,e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sfe(t,e){if(t){if(typeof t=="string")return wO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Efe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Afe(t){if(Array.isArray(t))return t}function Pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tfe(r.key),r)}}function Nfe(t,e,n){return e&&bO(t.prototype,e),n&&bO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tfe(t){var e=kfe(t,"string");return Yp(e)==="symbol"?e:String(e)}function kfe(t,e){if(Yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_O=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ife=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,C6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ofe=Object.keys(C6),Qd="NaN";function Mfe(t,e){return t*C6[e]}var hv=function(){function t(e,n){Pfe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Cfe.test(n)&&(this.num=NaN,this.unit=""),Ofe.includes(n)&&(this.num=Mfe(e,n),this.unit="px")}return Nfe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ife.exec(n))!==null&&r!==void 0?r:[],a=dw(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}]),t}();function I6(t){if(t.includes(Qd))return Qd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=xO.exec(e))!==null&&n!==void 0?n:[],i=dw(r,4),a=i[1],o=i[2],l=i[3],c=hv.parse(a??""),d=hv.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Qd;e=e.replace(xO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=_O.exec(e))!==null&&m!==void 0?m:[],y=dw(p,4),P=y[1],_=y[2],A=y[3],N=hv.parse(P??""),E=hv.parse(A??""),w=_==="+"?N.add(E):N.subtract(E);if(w.isNaN())return Qd;e=e.replace(_O,w.toString())}return e}var SO=/\(([^()]*)\)/;function Rfe(t){for(var e=t;e.includes("(");){var n=SO.exec(e),r=dw(n,2),i=r[1];e=e.replace(SO,I6(i))}return e}function Lfe(t){var e=t.replace(/\s+/g,"");return e=Rfe(e),e=I6(e),e}function $fe(t){try{return Lfe(t)}catch{return Qd}}function q_(t){var e=$fe(t.slice(5,-1));return e===Qd?"":e}var Dfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jfe=["dx","dy","angle","className","breakAll"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function EO(t,e){if(t==null)return{};var n=Bfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AO(t,e){return Ufe(t)||Vfe(t,e)||Ffe(t,e)||zfe()}function zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(t,e){if(t){if(typeof t=="string")return PO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Ufe(t){if(Array.isArray(t))return t}var O6=/[ \f\n\r\t\v\u2028\u2029]+/,M6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Pe(n)||(r?a=n.toString().split(""):a=n.toString().split(O6));var o=a.map(function(c){return{word:c,width:Qm(c,i).width}}),l=r?0:Qm(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Wfe=function(e,n,r,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=xe(o),m=l,p=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(ee,te){var J=te.word,le=te.width,Y=ee[ee.length-1];if(Y&&(i==null||a||Y.width+le+r<Number(i)))Y.words.push(J),Y.width+=le+r;else{var he={words:[J],width:le};ee.push(he)}return ee},[])},y=p(n),P=function(X){return X.reduce(function(ee,te){return ee.width>te.width?ee:te})};if(!f)return y;for(var _="…",A=function(X){var ee=m.slice(0,X),te=M6({breakAll:d,style:c,children:ee+_}).wordsWithComputedWidth,J=p(te),le=J.length>o||P(J).width>Number(i);return[le,J]},N=0,E=m.length-1,w=0,C;N<=E&&w<=m.length-1;){var $=Math.floor((N+E)/2),D=$-1,S=A(D),T=AO(S,2),O=T[0],R=T[1],j=A($),U=AO(j,1),V=U[0];if(!O&&!V&&(N=$+1),O&&V&&(E=$-1),!O&&V){C=R;break}w++}return C||y},NO=function(e){var n=Pe(e)?[]:e.toString().split(O6);return[{words:n}]},Hfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!Ii.isSsr){var c,d,f=M6({breakAll:o,children:i,style:a});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,d=p}else return NO(i);return Wfe({breakAll:o,children:i,maxLines:l,style:a},c,d,n,r)}return NO(i)},TO="#808080",Wu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,p=e.textAnchor,y=p===void 0?"start":p,P=e.verticalAnchor,_=P===void 0?"end":P,A=e.fill,N=A===void 0?TO:A,E=EO(e,Dfe),w=W.exports.useMemo(function(){return Hfe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),C=E.dx,$=E.dy,D=E.angle,S=E.className,T=E.breakAll,O=EO(E,jfe);if(!Kn(r)||!Kn(a))return null;var R=r+(xe(C)?C:0),j=a+(xe($)?$:0),U;switch(_){case"start":U=q_("calc(".concat(d,")"));break;case"middle":U=q_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:U=q_("calc(".concat(w.length-1," * -").concat(l,")"));break}var V=[];if(m){var G=w[0].width,X=E.width;V.push("scale(".concat((xe(X)?X/G:1)/G,")"))}return D&&V.push("rotate(".concat(D,", ").concat(R,", ").concat(j,")")),V.length&&(O.transform=V.join(" ")),Z.createElement("text",SS({},ke(O,!0),{x:R,y:j,className:vt("recharts-text",S),textAnchor:y,fill:N.includes("url")?TO:N}),w.map(function(ee,te){return Z.createElement("tspan",{x:R,dy:te===0?U:l,key:te},ee.words.join(T?"":" "))}))},qfe=JP;function Kfe(t,e){return qfe(t,e)}var Hs=Kfe,Gfe=Pf;function Zfe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(l===void 0?o===o&&!Gfe(o):n(o,l)))var l=o,c=a}return c}var dx=Zfe;function Yfe(t,e){return t>e}var R6=Yfe,Xfe=dx,Qfe=R6,Jfe=Mf;function eme(t){return t&&t.length?Xfe(t,Jfe,Qfe):void 0}var Kl=eme;function tme(t,e){return t<e}var L6=tme,nme=dx,rme=L6,ime=Mf;function ame(t){return t&&t.length?nme(t,ime,rme):void 0}var hx=ame,ome=VP,sme=Zo,lme=E6,cme=ct;function ume(t,e){var n=cme(t)?ome:lme;return n(t,sme(e))}var dme=ume,hme=_6,fme=dme;function mme(t,e){return hme(fme(t,e),1)}var pme=mme;function uc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oN(t){let e,n,r;t.length!==2?(e=uc,n=(l,c)=>uc(t(l),c),r=(l,c)=>t(l)-c):(e=t===uc||t===gme?t:yme,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:o,right:a}}function yme(){return 0}function $6(t){return t===null?NaN:+t}function*vme(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const wme=oN(uc),bme=wme.right;oN($6).center;const sy=bme;class kO extends Map{constructor(e,n=Sme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CO(this,e))}has(e){return super.has(CO(this,e))}set(e,n){return super.set(xme(this,e),n)}delete(e){return super.delete(_me(this,e))}}function CO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _me({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Sme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Eme(t=uc){if(t===uc)return D6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function D6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ame=Math.sqrt(50),Pme=Math.sqrt(10),Nme=Math.sqrt(2);function hw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ame?10:a>=Pme?5:a>=Nme?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?hw(t,e,n*2):[l,c,d]}function ES(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?hw(e,t,n):hw(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function AS(t,e,n){return e=+e,t=+t,n=+n,hw(t,e,n)[2]}function PS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AS(e,t,n):AS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function IO(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function OO(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function j6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?D6:Eme(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+p)),P=Math.min(r,Math.floor(e+(c-d)*m/c+p));j6(t,e,y,P,i)}const a=t[e];let o=n,l=r;for(pm(t,n,e),i(t[r],a)>0&&pm(t,n,r);o<l;){for(pm(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?pm(t,n,l):(++l,pm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function pm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Tme(t,e,n){if(t=Float64Array.from(vme(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OO(t);if(e>=1)return IO(t);var r,i=(r-1)*e,a=Math.floor(i),o=IO(j6(t,a).subarray(0,a+1)),l=OO(t.subarray(a+1));return o+(l-o)*(i-a)}}function kme(t,e,n=$6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Cme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ea(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function tl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NS=Symbol("implicit");function sN(){var t=new kO,e=[],n=[],r=NS;function i(a){let o=t.get(a);if(o===void 0){if(r!==NS)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new kO;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sN(e,n).unknown(r)},Ea.apply(i,arguments),i}function Xp(){var t=sN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,y=i<r,P=y?i:r,_=y?r:i;a=(_-P)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),P+=(_-P-a*(p-c))*f,o=a*(1-c),l&&(P=Math.round(P),o=Math.round(o));var A=Cme(p).map(function(N){return P+a*N});return n(y?A.reverse():A)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return Xp(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Ea.apply(m(),arguments)}function B6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return B6(e())},t}function Jm(){return B6(Xp.apply(null,arguments).paddingInner(1))}function lN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function z6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ly(){}var Qp=.7,fw=1/Qp,yh="\\s*([+-]?\\d+)\\s*",Jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ime=/^#([0-9a-f]{3,8})$/,Ome=new RegExp(`^rgb\\(${yh},${yh},${yh}\\)$`),Mme=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),Rme=new RegExp(`^rgba\\(${yh},${yh},${yh},${Jp}\\)$`),Lme=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${Jp}\\)$`),$me=new RegExp(`^hsl\\(${Jp},${Bo},${Bo}\\)$`),Dme=new RegExp(`^hsla\\(${Jp},${Bo},${Bo},${Jp}\\)$`),MO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lN(ly,eg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RO,formatHex:RO,formatHex8:jme,formatHsl:Bme,formatRgb:LO,toString:LO});function RO(){return this.rgb().formatHex()}function jme(){return this.rgb().formatHex8()}function Bme(){return F6(this).formatHsl()}function LO(){return this.rgb().formatRgb()}function eg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ime.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$O(e):n===3?new li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ome.exec(t))?new li(e[1],e[2],e[3],1):(e=Mme.exec(t))?new li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rme.exec(t))?fv(e[1],e[2],e[3],e[4]):(e=Lme.exec(t))?fv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$me.exec(t))?BO(e[1],e[2]/100,e[3]/100,1):(e=Dme.exec(t))?BO(e[1],e[2]/100,e[3]/100,e[4]):MO.hasOwnProperty(t)?$O(MO[t]):t==="transparent"?new li(NaN,NaN,NaN,0):null}function $O(t){return new li(t>>16&255,t>>8&255,t&255,1)}function fv(t,e,n,r){return r<=0&&(t=e=n=NaN),new li(t,e,n,r)}function zme(t){return t instanceof ly||(t=eg(t)),t?(t=t.rgb(),new li(t.r,t.g,t.b,t.opacity)):new li}function TS(t,e,n,r){return arguments.length===1?zme(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lN(li,TS,z6(ly,{brighter(t){return t=t==null?fw:Math.pow(fw,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qp:Math.pow(Qp,t),new li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new li(Nu(this.r),Nu(this.g),Nu(this.b),mw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DO,formatHex:DO,formatHex8:Fme,formatRgb:jO,toString:jO}));function DO(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}`}function Fme(){return`#${bu(this.r)}${bu(this.g)}${bu(this.b)}${bu((isNaN(this.opacity)?1:this.opacity)*255)}`}function jO(){const t=mw(this.opacity);return`${t===1?"rgb(":"rgba("}${Nu(this.r)}, ${Nu(this.g)}, ${Nu(this.b)}${t===1?")":`, ${t})`}`}function mw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bu(t){return t=Nu(t),(t<16?"0":"")+t.toString(16)}function BO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Za(t,e,n,r)}function F6(t){if(t instanceof Za)return new Za(t.h,t.s,t.l,t.opacity);if(t instanceof ly||(t=eg(t)),!t)return new Za;if(t instanceof Za)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Za(o,l,c,t.opacity)}function Vme(t,e,n,r){return arguments.length===1?F6(t):new Za(t,e,n,r??1)}function Za(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lN(Za,Vme,z6(ly,{brighter(t){return t=t==null?fw:Math.pow(fw,t),new Za(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qp:Math.pow(Qp,t),new Za(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new li(K_(t>=240?t-240:t+120,i,r),K_(t,i,r),K_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Za(zO(this.h),mv(this.s),mv(this.l),mw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mw(this.opacity);return`${t===1?"hsl(":"hsla("}${zO(this.h)}, ${mv(this.s)*100}%, ${mv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zO(t){return t=(t||0)%360,t<0?t+360:t}function mv(t){return Math.max(0,Math.min(1,t||0))}function K_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cN=t=>()=>t;function Ume(t,e){return function(n){return t+n*e}}function Wme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hme(t){return(t=+t)==1?V6:function(e,n){return n-e?Wme(e,n,t):cN(isNaN(e)?n:e)}}function V6(t,e){var n=e-t;return n?Ume(t,n):cN(isNaN(t)?e:t)}const FO=function t(e){var n=Hme(e);function r(i,a){var o=n((i=TS(i)).r,(a=TS(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=V6(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function qme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Kme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Lf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Zme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Lf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var kS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G_=new RegExp(kS.source,"g");function Xme(t){return function(){return t}}function Qme(t){return function(e){return t(e)+""}}function Jme(t,e){var n=kS.lastIndex=G_.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=kS.exec(t))&&(i=G_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:pw(r,i)})),n=G_.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Qme(c[0].x):Xme(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function Lf(t,e){var n=typeof e,r;return e==null||n==="boolean"?cN(e):(n==="number"?pw:n==="string"?(r=eg(e))?(e=r,FO):Jme:e instanceof eg?FO:e instanceof Date?Zme:Kme(e)?qme:Array.isArray(e)?Gme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Yme:pw)(t,e)}function uN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function epe(t,e){e===void 0&&(e=t,t=Lf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function tpe(t){return function(){return t}}function gw(t){return+t}var VO=[0,1];function Vr(t){return t}function CS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tpe(isNaN(e)?NaN:.5)}function npe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rpe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=CS(i,r),a=n(o,a)):(r=CS(r,i),a=n(a,o)),function(l){return a(r(l))}}function ipe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=CS(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=sy(t,l,1,r)-1;return a[c](i[c](l))}}function cy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fx(){var t=VO,e=VO,n=Lf,r,i,a,o=Vr,l,c,d;function f(){var p=Math.min(t.length,e.length);return o!==Vr&&(o=npe(t[0],t[p-1])),l=p>2?ipe:rpe,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?a:(c||(c=l(t.map(r),e,n)))(r(o(p)))}return m.invert=function(p){return o(i((d||(d=l(e,t.map(r),pw)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,gw),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=uN,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Vr,f()):o!==Vr},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(a=p,m):a},function(p,y){return r=p,i=y,f()}}function dN(){return fx()(Vr,Vr)}function ape(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hh(t){return t=yw(Math.abs(t)),t?t[1]:NaN}function ope(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function spe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tg(t){if(!(e=lpe.exec(t)))throw new Error("invalid format: "+t);var e;return new hN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tg.prototype=hN.prototype;function hN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var U6;function upe(t,e){var n=yw(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(U6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yw(t,Math.max(0,e+a-1))[0]}function UO(t,e){var n=yw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ape,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UO(t*100,e),r:UO,s:upe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HO(t){return t}var qO=Array.prototype.map,KO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dpe(t){var e=t.grouping===void 0||t.thousands===void 0?HO:ope(qO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?HO:spe(qO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=tg(m);var p=m.fill,y=m.align,P=m.sign,_=m.symbol,A=m.zero,N=m.width,E=m.comma,w=m.precision,C=m.trim,$=m.type;$==="n"?(E=!0,$="g"):WO[$]||(w===void 0&&(w=12),C=!0,$="g"),(A||p==="0"&&y==="=")&&(A=!0,p="0",y="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",S=_==="$"?r:/[%p]/.test($)?o:"",T=WO[$],O=/[defgprs%]/.test($);w=w===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(j){var U=D,V=S,G,X,ee;if($==="c")V=T(j)+V,j="";else{j=+j;var te=j<0||1/j<0;if(j=isNaN(j)?c:T(Math.abs(j),w),C&&(j=cpe(j)),te&&+j==0&&P!=="+"&&(te=!1),U=(te?P==="("?P:l:P==="-"||P==="("?"":P)+U,V=($==="s"?KO[8+U6/3]:"")+V+(te&&P==="("?")":""),O){for(G=-1,X=j.length;++G<X;)if(ee=j.charCodeAt(G),48>ee||ee>57){V=(ee===46?i+j.slice(G+1):j.slice(G))+V,j=j.slice(0,G);break}}}E&&!A&&(j=e(j,1/0));var J=U.length+j.length+V.length,le=J<N?new Array(N-J+1).join(p):"";switch(E&&A&&(j=e(le+j,le.length?N-V.length:1/0),le=""),y){case"<":j=U+j+V+le;break;case"=":j=U+le+j+V;break;case"^":j=le.slice(0,J=le.length>>1)+U+j+V+le.slice(J);break;default:j=le+U+j+V;break}return a(j)}return R.toString=function(){return m+""},R}function f(m,p){var y=d((m=tg(m),m.type="f",m)),P=Math.max(-8,Math.min(8,Math.floor(Hh(p)/3)))*3,_=Math.pow(10,-P),A=KO[8+P/3];return function(N){return y(_*N)+A}}return{format:d,formatPrefix:f}}var pv,fN,W6;hpe({thousands:",",grouping:[3],currency:["$",""]});function hpe(t){return pv=dpe(t),fN=pv.format,W6=pv.formatPrefix,pv}function fpe(t){return Math.max(0,-Hh(Math.abs(t)))}function mpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hh(e)/3)))*3-Hh(Math.abs(t)))}function ppe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hh(e)-Hh(t))+1}function H6(t,e,n,r){var i=PS(t,e,n),a;switch(r=tg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=mpe(i,o))&&(r.precision=a),W6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ppe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=fpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return fN(r)}function Nc(t){var e=t.domain;return t.ticks=function(n){var r=e();return ES(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return H6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=AS(o,l,n),d===c)return r[i]=o,r[a]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function vw(){var t=dN();return t.copy=function(){return cy(t,vw())},Ea.apply(t,arguments),Nc(t)}function q6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,gw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return q6(t).unknown(e)},t=arguments.length?Array.from(t,gw):[0,1],Nc(n)}function K6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function GO(t){return Math.log(t)}function ZO(t){return Math.exp(t)}function gpe(t){return-Math.log(-t)}function ype(t){return-Math.exp(-t)}function vpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wpe(t){return t===10?vpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YO(t){return(e,n)=>-t(-e,n)}function mN(t){const e=t(GO,ZO),n=e.domain;let r=10,i,a;function o(){return i=bpe(r),a=wpe(r),n()[0]<0?(i=YO(i),a=YO(a),t(gpe,ype)):t(GO,ZO),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),y=i(f),P,_;const A=l==null?10:+l;let N=[];if(!(r%1)&&y-p<A){if(p=Math.floor(p),y=Math.ceil(y),d>0){for(;p<=y;++p)for(P=1;P<r;++P)if(_=p<0?P/a(-p):P*a(p),!(_<d)){if(_>f)break;N.push(_)}}else for(;p<=y;++p)for(P=r-1;P>=1;--P)if(_=p>0?P/a(-p):P*a(p),!(_<d)){if(_>f)break;N.push(_)}N.length*2<A&&(N=ES(d,f,A))}else N=ES(p,y,Math.min(y-p,A)).map(a);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=tg(c)).precision==null&&(c.trim=!0),c=fN(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/a(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?c(f):""}},e.nice=()=>n(K6(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function G6(){const t=mN(fx()).domain([1,10]);return t.copy=()=>cy(t,G6()).base(t.base()),Ea.apply(t,arguments),t}function XO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pN(t){var e=1,n=t(XO(e),QO(e));return n.constant=function(r){return arguments.length?t(XO(e=+r),QO(e)):e},Nc(n)}function Z6(){var t=pN(fx());return t.copy=function(){return cy(t,Z6()).constant(t.constant())},Ea.apply(t,arguments)}function JO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _pe(t){return t<0?-t*t:t*t}function gN(t){var e=t(Vr,Vr),n=1;function r(){return n===1?t(Vr,Vr):n===.5?t(xpe,_pe):t(JO(n),JO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nc(e)}function yN(){var t=gN(fx());return t.copy=function(){return cy(t,yN()).exponent(t.exponent())},Ea.apply(t,arguments),t}function Spe(){return yN.apply(null,arguments).exponent(.5)}function eM(t){return Math.sign(t)*t*t}function Epe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Y6(){var t=dN(),e=[0,1],n=!1,r;function i(a){var o=Epe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(eM(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,gw)).map(eM)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Y6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ea.apply(i,arguments),Nc(i)}function X6(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=kme(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[sy(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(uc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return X6().domain(t).range(e).unknown(r)},Ea.apply(a,arguments)}function Q6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[sy(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Q6().domain([t,e]).range(i).unknown(a)},Ea.apply(Nc(o),arguments)}function J6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[sy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return J6().domain(t).range(e).unknown(n)},Ea.apply(i,arguments)}const Z_=new Date,Y_=new Date;function Zn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>Zn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Z_.setTime(+a),Y_.setTime(+o),t(Z_),t(Y_),Math.floor(n(Z_,Y_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ww=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ww.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ww);ww.range;const Ns=1e3,ma=Ns*60,Ts=ma*60,qs=Ts*24,vN=qs*7,tM=qs*30,X_=qs*365,xu=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCSeconds());xu.range;const wN=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getMinutes());wN.range;const bN=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getUTCMinutes());bN.range;const xN=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns-t.getMinutes()*ma)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());xN.range;const _N=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());_N.range;const uy=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ma)/qs,t=>t.getDate()-1);uy.range;const mx=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>t.getUTCDate()-1);mx.range;const eB=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>Math.floor(t/qs));eB.range;function nd(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ma)/vN)}const px=nd(0),bw=nd(1),Ape=nd(2),Ppe=nd(3),qh=nd(4),Npe=nd(5),Tpe=nd(6);px.range;bw.range;Ape.range;Ppe.range;qh.range;Npe.range;Tpe.range;function rd(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/vN)}const gx=rd(0),xw=rd(1),kpe=rd(2),Cpe=rd(3),Kh=rd(4),Ipe=rd(5),Ope=rd(6);gx.range;xw.range;kpe.range;Cpe.range;Kh.range;Ipe.range;Ope.range;const SN=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SN.range;const EN=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EN.range;const Ks=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ks.range;const Gs=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gs.range;function tB(t,e,n,r,i,a){const o=[[xu,1,Ns],[xu,5,5*Ns],[xu,15,15*Ns],[xu,30,30*Ns],[a,1,ma],[a,5,5*ma],[a,15,15*ma],[a,30,30*ma],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[r,1,qs],[r,2,2*qs],[n,1,vN],[e,1,tM],[e,3,3*tM],[t,1,X_]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const y=m&&typeof m.range=="function"?m:c(d,f,m),P=y?y.range(d,+f+1):[];return p?P.reverse():P}function c(d,f,m){const p=Math.abs(f-d)/m,y=oN(([,,A])=>A).right(o,p);if(y===o.length)return t.every(PS(d/X_,f/X_,m));if(y===0)return ww.every(Math.max(PS(d,f,m),1));const[P,_]=o[p/o[y-1][2]<o[y][2]/p?y-1:y];return P.every(_)}return[l,c]}const[Mpe,Rpe]=tB(Gs,EN,gx,eB,_N,bN),[Lpe,$pe]=tB(Ks,SN,px,uy,xN,wN);function Q_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Dpe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=ym(i),f=vm(i),m=ym(a),p=vm(a),y=ym(o),P=vm(o),_=ym(l),A=vm(l),N=ym(c),E=vm(c),w={a:te,A:J,b:le,B:Y,c:null,d:sM,e:sM,f:oge,g:gge,G:vge,H:rge,I:ige,j:age,L:nB,m:sge,M:lge,p:he,q:pe,Q:uM,s:dM,S:cge,u:uge,U:dge,V:hge,w:fge,W:mge,x:null,X:null,y:pge,Y:yge,Z:wge,"%":cM},C={a:fe,A:Ne,b:Ee,B:ge,c:null,d:lM,e:lM,f:Sge,g:Mge,G:Lge,H:bge,I:xge,j:_ge,L:iB,m:Ege,M:Age,p:ye,q:Oe,Q:uM,s:dM,S:Pge,u:Nge,U:Tge,V:kge,w:Cge,W:Ige,x:null,X:null,y:Oge,Y:Rge,Z:$ge,"%":cM},$={a:R,A:j,b:U,B:V,c:G,d:aM,e:aM,f:Jpe,g:iM,G:rM,H:oM,I:oM,j:Zpe,L:Qpe,m:Gpe,M:Ype,p:O,q:Kpe,Q:tge,s:nge,S:Xpe,u:Vpe,U:Upe,V:Wpe,w:Fpe,W:Hpe,x:X,X:ee,y:iM,Y:rM,Z:qpe,"%":ege};w.x=D(n,w),w.X=D(r,w),w.c=D(e,w),C.x=D(n,C),C.X=D(r,C),C.c=D(e,C);function D(me,Ae){return function(De){var ue=[],tt=-1,He=0,Ot=me.length,nt,Mt,Yn;for(De instanceof Date||(De=new Date(+De));++tt<Ot;)me.charCodeAt(tt)===37&&(ue.push(me.slice(He,tt)),(Mt=nM[nt=me.charAt(++tt)])!=null?nt=me.charAt(++tt):Mt=nt==="e"?" ":"0",(Yn=Ae[nt])&&(nt=Yn(De,Mt)),ue.push(nt),He=tt+1);return ue.push(me.slice(He,tt)),ue.join("")}}function S(me,Ae){return function(De){var ue=gm(1900,void 0,1),tt=T(ue,me,De+="",0),He,Ot;if(tt!=De.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ae&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(He=J_(gm(ue.y,0,1)),Ot=He.getUTCDay(),He=Ot>4||Ot===0?xw.ceil(He):xw(He),He=mx.offset(He,(ue.V-1)*7),ue.y=He.getUTCFullYear(),ue.m=He.getUTCMonth(),ue.d=He.getUTCDate()+(ue.w+6)%7):(He=Q_(gm(ue.y,0,1)),Ot=He.getDay(),He=Ot>4||Ot===0?bw.ceil(He):bw(He),He=uy.offset(He,(ue.V-1)*7),ue.y=He.getFullYear(),ue.m=He.getMonth(),ue.d=He.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ot="Z"in ue?J_(gm(ue.y,0,1)).getUTCDay():Q_(gm(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ot+5)%7:ue.w+ue.U*7-(Ot+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,J_(ue)):Q_(ue)}}function T(me,Ae,De,ue){for(var tt=0,He=Ae.length,Ot=De.length,nt,Mt;tt<He;){if(ue>=Ot)return-1;if(nt=Ae.charCodeAt(tt++),nt===37){if(nt=Ae.charAt(tt++),Mt=$[nt in nM?Ae.charAt(tt++):nt],!Mt||(ue=Mt(me,De,ue))<0)return-1}else if(nt!=De.charCodeAt(ue++))return-1}return ue}function O(me,Ae,De){var ue=d.exec(Ae.slice(De));return ue?(me.p=f.get(ue[0].toLowerCase()),De+ue[0].length):-1}function R(me,Ae,De){var ue=y.exec(Ae.slice(De));return ue?(me.w=P.get(ue[0].toLowerCase()),De+ue[0].length):-1}function j(me,Ae,De){var ue=m.exec(Ae.slice(De));return ue?(me.w=p.get(ue[0].toLowerCase()),De+ue[0].length):-1}function U(me,Ae,De){var ue=N.exec(Ae.slice(De));return ue?(me.m=E.get(ue[0].toLowerCase()),De+ue[0].length):-1}function V(me,Ae,De){var ue=_.exec(Ae.slice(De));return ue?(me.m=A.get(ue[0].toLowerCase()),De+ue[0].length):-1}function G(me,Ae,De){return T(me,e,Ae,De)}function X(me,Ae,De){return T(me,n,Ae,De)}function ee(me,Ae,De){return T(me,r,Ae,De)}function te(me){return o[me.getDay()]}function J(me){return a[me.getDay()]}function le(me){return c[me.getMonth()]}function Y(me){return l[me.getMonth()]}function he(me){return i[+(me.getHours()>=12)]}function pe(me){return 1+~~(me.getMonth()/3)}function fe(me){return o[me.getUTCDay()]}function Ne(me){return a[me.getUTCDay()]}function Ee(me){return c[me.getUTCMonth()]}function ge(me){return l[me.getUTCMonth()]}function ye(me){return i[+(me.getUTCHours()>=12)]}function Oe(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ae=D(me+="",w);return Ae.toString=function(){return me},Ae},parse:function(me){var Ae=S(me+="",!1);return Ae.toString=function(){return me},Ae},utcFormat:function(me){var Ae=D(me+="",C);return Ae.toString=function(){return me},Ae},utcParse:function(me){var Ae=S(me+="",!0);return Ae.toString=function(){return me},Ae}}}var nM={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,jpe=/^%/,Bpe=/[\\^$*+?|[\]().{}]/g;function St(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function zpe(t){return t.replace(Bpe,"\\$&")}function ym(t){return new RegExp("^(?:"+t.map(zpe).join("|")+")","i")}function vm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Fpe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vpe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Upe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Wpe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hpe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rM(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function iM(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qpe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Kpe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Gpe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function aM(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zpe(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oM(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ype(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xpe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Qpe(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jpe(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ege(t,e,n){var r=jpe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tge(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nge(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sM(t,e){return St(t.getDate(),e,2)}function rge(t,e){return St(t.getHours(),e,2)}function ige(t,e){return St(t.getHours()%12||12,e,2)}function age(t,e){return St(1+uy.count(Ks(t),t),e,3)}function nB(t,e){return St(t.getMilliseconds(),e,3)}function oge(t,e){return nB(t,e)+"000"}function sge(t,e){return St(t.getMonth()+1,e,2)}function lge(t,e){return St(t.getMinutes(),e,2)}function cge(t,e){return St(t.getSeconds(),e,2)}function uge(t){var e=t.getDay();return e===0?7:e}function dge(t,e){return St(px.count(Ks(t)-1,t),e,2)}function rB(t){var e=t.getDay();return e>=4||e===0?qh(t):qh.ceil(t)}function hge(t,e){return t=rB(t),St(qh.count(Ks(t),t)+(Ks(t).getDay()===4),e,2)}function fge(t){return t.getDay()}function mge(t,e){return St(bw.count(Ks(t)-1,t),e,2)}function pge(t,e){return St(t.getFullYear()%100,e,2)}function gge(t,e){return t=rB(t),St(t.getFullYear()%100,e,2)}function yge(t,e){return St(t.getFullYear()%1e4,e,4)}function vge(t,e){var n=t.getDay();return t=n>=4||n===0?qh(t):qh.ceil(t),St(t.getFullYear()%1e4,e,4)}function wge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+St(e/60|0,"0",2)+St(e%60,"0",2)}function lM(t,e){return St(t.getUTCDate(),e,2)}function bge(t,e){return St(t.getUTCHours(),e,2)}function xge(t,e){return St(t.getUTCHours()%12||12,e,2)}function _ge(t,e){return St(1+mx.count(Gs(t),t),e,3)}function iB(t,e){return St(t.getUTCMilliseconds(),e,3)}function Sge(t,e){return iB(t,e)+"000"}function Ege(t,e){return St(t.getUTCMonth()+1,e,2)}function Age(t,e){return St(t.getUTCMinutes(),e,2)}function Pge(t,e){return St(t.getUTCSeconds(),e,2)}function Nge(t){var e=t.getUTCDay();return e===0?7:e}function Tge(t,e){return St(gx.count(Gs(t)-1,t),e,2)}function aB(t){var e=t.getUTCDay();return e>=4||e===0?Kh(t):Kh.ceil(t)}function kge(t,e){return t=aB(t),St(Kh.count(Gs(t),t)+(Gs(t).getUTCDay()===4),e,2)}function Cge(t){return t.getUTCDay()}function Ige(t,e){return St(xw.count(Gs(t)-1,t),e,2)}function Oge(t,e){return St(t.getUTCFullYear()%100,e,2)}function Mge(t,e){return t=aB(t),St(t.getUTCFullYear()%100,e,2)}function Rge(t,e){return St(t.getUTCFullYear()%1e4,e,4)}function Lge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Kh(t):Kh.ceil(t),St(t.getUTCFullYear()%1e4,e,4)}function $ge(){return"+0000"}function cM(){return"%"}function uM(t){return+t}function dM(t){return Math.floor(+t/1e3)}var kd,oB,sB;Dge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dge(t){return kd=Dpe(t),oB=kd.format,kd.parse,sB=kd.utcFormat,kd.utcParse,kd}function jge(t){return new Date(t)}function Bge(t){return t instanceof Date?+t:+new Date(+t)}function AN(t,e,n,r,i,a,o,l,c,d){var f=dN(),m=f.invert,p=f.domain,y=d(".%L"),P=d(":%S"),_=d("%I:%M"),A=d("%I %p"),N=d("%a %d"),E=d("%b %d"),w=d("%B"),C=d("%Y");function $(D){return(c(D)<D?y:l(D)<D?P:o(D)<D?_:a(D)<D?A:r(D)<D?i(D)<D?N:E:n(D)<D?w:C)(D)}return f.invert=function(D){return new Date(m(D))},f.domain=function(D){return arguments.length?p(Array.from(D,Bge)):p().map(jge)},f.ticks=function(D){var S=p();return t(S[0],S[S.length-1],D??10)},f.tickFormat=function(D,S){return S==null?$:d(S)},f.nice=function(D){var S=p();return(!D||typeof D.range!="function")&&(D=e(S[0],S[S.length-1],D??10)),D?p(K6(S,D)):f},f.copy=function(){return cy(f,AN(t,e,n,r,i,a,o,l,c,d))},f}function zge(){return Ea.apply(AN(Lpe,$pe,Ks,SN,px,uy,xN,wN,xu,oB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fge(){return Ea.apply(AN(Mpe,Rpe,Gs,EN,gx,mx,_N,bN,xu,sB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yx(){var t=0,e=1,n,r,i,a,o=Vr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(p){var y,P;return arguments.length?([y,P]=p,o=m(y,P),d):[o(0),o(1)]}}return d.range=f(Lf),d.rangeRound=f(uN),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Tc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lB(){var t=Nc(yx()(Vr));return t.copy=function(){return Tc(t,lB())},tl.apply(t,arguments)}function cB(){var t=mN(yx()).domain([1,10]);return t.copy=function(){return Tc(t,cB()).base(t.base())},tl.apply(t,arguments)}function uB(){var t=pN(yx());return t.copy=function(){return Tc(t,uB()).constant(t.constant())},tl.apply(t,arguments)}function PN(){var t=gN(yx());return t.copy=function(){return Tc(t,PN()).exponent(t.exponent())},tl.apply(t,arguments)}function Vge(){return PN.apply(null,arguments).exponent(.5)}function dB(){var t=[],e=Vr;function n(r){if(r!=null&&!isNaN(r=+r))return e((sy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(uc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Tme(t,a/r))},n.copy=function(){return dB(e).domain(t)},tl.apply(n,arguments)}function vx(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,d=Vr,f,m=!1,p;function y(_){return isNaN(_=+_)?p:(_=.5+((_=+f(_))-a)*(r*_<r*a?l:c),d(m?Math.max(0,Math.min(1,_)):_))}y.domain=function(_){return arguments.length?([t,e,n]=_,i=f(t=+t),a=f(e=+e),o=f(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(_){return arguments.length?(m=!!_,y):m},y.interpolator=function(_){return arguments.length?(d=_,y):d};function P(_){return function(A){var N,E,w;return arguments.length?([N,E,w]=A,d=epe(_,[N,E,w]),y):[d(0),d(.5),d(1)]}}return y.range=P(Lf),y.rangeRound=P(uN),y.unknown=function(_){return arguments.length?(p=_,y):p},function(_){return f=_,i=_(t),a=_(e),o=_(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function hB(){var t=Nc(vx()(Vr));return t.copy=function(){return Tc(t,hB())},tl.apply(t,arguments)}function fB(){var t=mN(vx()).domain([.1,1,10]);return t.copy=function(){return Tc(t,fB()).base(t.base())},tl.apply(t,arguments)}function mB(){var t=pN(vx());return t.copy=function(){return Tc(t,mB()).constant(t.constant())},tl.apply(t,arguments)}function NN(){var t=gN(vx());return t.copy=function(){return Tc(t,NN()).exponent(t.exponent())},tl.apply(t,arguments)}function Uge(){return NN.apply(null,arguments).exponent(.5)}const hM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xp,scaleDiverging:hB,scaleDivergingLog:fB,scaleDivergingPow:NN,scaleDivergingSqrt:Uge,scaleDivergingSymlog:mB,scaleIdentity:q6,scaleImplicit:NS,scaleLinear:vw,scaleLog:G6,scaleOrdinal:sN,scalePoint:Jm,scalePow:yN,scaleQuantile:X6,scaleQuantize:Q6,scaleRadial:Y6,scaleSequential:lB,scaleSequentialLog:cB,scaleSequentialPow:PN,scaleSequentialQuantile:dB,scaleSequentialSqrt:Vge,scaleSequentialSymlog:uB,scaleSqrt:Spe,scaleSymlog:Z6,scaleThreshold:J6,scaleTime:zge,scaleUtc:Fge,tickFormat:H6},Symbol.toStringTag,{value:"Module"}));var $f=1e9,Wge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kN,ln=!0,_a="[DecimalError] ",Tu=_a+"Invalid argument: ",TN=_a+"Exponent out of range: ",Df=Math.floor,hu=Math.pow,Hge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,ir=1e7,tn=7,pB=9007199254740991,_w=Df(pB/tn),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Ls(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return zt(Ls(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return Bn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pi))throw Error(_a+"NaN");if(n.s<1)throw Error(_a+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(ln=!1,e=Ls(ng(n,a),ng(t,a),a),ln=!0,zt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vB(e,t):gB(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_a+"NaN");return n.s?(ln=!1,e=Ls(n,t,0,1).times(t),ln=!0,n.minus(e)):zt(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return yB(this)};Ie.naturalLogarithm=Ie.ln=function(){return ng(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gB(e,t):vB(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tu+t);if(e=Bn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_a+"NaN")}for(t=Bn(l),ln=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Co(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Df((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Ls(l,a,o+2)).times(.5),Co(a.d).slice(0,o)===(e=Co(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(zt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return ln=!0,zt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,a,o,l,c,d,f=this,m=f.constructor,p=f.d,y=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,d=y.length,c<d&&(a=p,p=y,y=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+y[r]*p[i-r-1]+e,a[i--]=l%ir|0,e=l/ir|0;a[i]=(a[i]+e)%ir|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ln?zt(t,m.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wo(t,0,$f),e===void 0?e=r.rounding:Wo(e,0,8),zt(n,t+Bn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Hu(r,!0):(Wo(t,0,$f),e===void 0?e=i.rounding:Wo(e,0,8),r=zt(new i(r),t+1,e),n=Hu(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Hu(i):(Wo(t,0,$f),e===void 0?e=a.rounding:Wo(e,0,8),r=zt(new a(i),t+Bn(i)+1,e),n=Hu(r.abs(),!1,t+Bn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Bn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Pi);if(l=new c(l),!l.s){if(t.s<1)throw Error(_a+"Infinity");return l}if(l.eq(Pi))return l;if(r=c.precision,t.eq(Pi))return zt(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=f<0?-f:f)<=pB){for(i=new c(Pi),e=Math.ceil(r/tn+4),ln=!1;n%2&&(i=i.times(l),mM(i.d,e)),n=Df(n/2),n!==0;)l=l.times(l),mM(l.d,e);return ln=!0,t.s<0?new c(Pi).div(i):zt(i,r)}}else if(a<0)throw Error(_a+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ln=!1,i=t.times(ng(l,r+d)),ln=!0,i=yB(i),i.s=a,i};Ie.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Bn(i),r=Hu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Wo(t,1,$f),e===void 0?e=a.rounding:Wo(e,0,8),i=zt(new a(i),t,e),n=Bn(i),r=Hu(i,t<=n||n<=a.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wo(t,1,$f),e===void 0?e=r.rounding:Wo(e,0,8)),zt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return Hu(t,e<=n.toExpNeg||e>=n.toExpPos)};function gB(t,e){var n,r,i,a,o,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ln?zt(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=o,l=c.length),o=Math.ceil(m/tn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/ir|0,c[a]%=ir;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ln?zt(e,m):e}function Wo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tu+t)}function Co(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(a+=Ml(n)),a+=r;o=t[e],r=o+"",n=tn-r.length,n&&(a+=Ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ls=function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,d,f,m,p,y,P,_,A,N,E,w,C,$,D,S,T,O=r.constructor,R=r.s==i.s?1:-1,j=r.d,U=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(_a+"Division by zero");for(c=r.e-i.e,S=U.length,$=j.length,y=new O(R),P=y.d=[],d=0;U[d]==(j[d]||0);)++d;if(U[d]>(j[d]||0)&&--c,a==null?E=a=O.precision:o?E=a+(Bn(r)-Bn(i))+1:E=a,E<0)return new O(0);if(E=E/tn+2|0,d=0,S==1)for(f=0,U=U[0],E++;(d<$||f)&&E--;d++)w=f*ir+(j[d]||0),P[d]=w/U|0,f=w%U|0;else{for(f=ir/(U[0]+1)|0,f>1&&(U=t(U,f),j=t(j,f),S=U.length,$=j.length),C=S,_=j.slice(0,S),A=_.length;A<S;)_[A++]=0;T=U.slice(),T.unshift(0),D=U[0],U[1]>=ir/2&&++D;do f=0,l=e(U,_,S,A),l<0?(N=_[0],S!=A&&(N=N*ir+(_[1]||0)),f=N/D|0,f>1?(f>=ir&&(f=ir-1),m=t(U,f),p=m.length,A=_.length,l=e(m,_,p,A),l==1&&(f--,n(m,S<p?T:U,p))):(f==0&&(l=f=1),m=U.slice()),p=m.length,p<A&&m.unshift(0),n(_,m,A),l==-1&&(A=_.length,l=e(U,_,S,A),l<1&&(f++,n(_,S<A?T:U,A))),A=_.length):l===0&&(f++,_=[0]),P[d++]=f,l&&_[0]?_[A++]=j[C]||0:(_=[j[C]],A=1);while((C++<$||_[0]!==void 0)&&E--)}return P[0]||P.shift(),y.e=c,zt(y,o?a+Bn(y)+1:a)}}();function yB(t,e){var n,r,i,a,o,l,c=0,d=0,f=t.constructor,m=f.precision;if(Bn(t)>16)throw Error(TN+Bn(t));if(!t.s)return new f(Pi);for(e==null?(ln=!1,l=m):l=e,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(hu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(Pi),f.precision=l;;){if(i=zt(i.times(t),l),n=n.times(++c),o=a.plus(Ls(i,n,l)),Co(o.d).slice(0,l)===Co(a.d).slice(0,l)){for(;d--;)a=zt(a.times(a),l);return f.precision=m,e==null?(ln=!0,zt(a,m)):a}a=o}}function Bn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function e1(t,e,n){if(e>t.LN10.sd())throw ln=!0,n&&(t.precision=n),Error(_a+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function Ml(t){for(var e="";t--;)e+="0";return e}function ng(t,e){var n,r,i,a,o,l,c,d,f,m=1,p=10,y=t,P=y.d,_=y.constructor,A=_.precision;if(y.s<1)throw Error(_a+(y.s?"NaN":"-Infinity"));if(y.eq(Pi))return new _(0);if(e==null?(ln=!1,d=A):d=e,y.eq(10))return e==null&&(ln=!0),e1(_,d);if(d+=p,_.precision=d,n=Co(P),r=n.charAt(0),a=Bn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Co(y.d),r=n.charAt(0),m++;a=Bn(y),r>1?(y=new _("0."+n),a++):y=new _(r+"."+n.slice(1))}else return c=e1(_,d+2,A).times(a+""),y=ng(new _(r+"."+n.slice(1)),d-p).plus(c),_.precision=A,e==null?(ln=!0,zt(y,A)):y;for(l=o=y=Ls(y.minus(Pi),y.plus(Pi),d),f=zt(y.times(y),d),i=3;;){if(o=zt(o.times(f),d),c=l.plus(Ls(o,new _(i),d)),Co(c.d).slice(0,d)===Co(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(e1(_,d+2,A).times(a+""))),l=Ls(l,new _(m),d),_.precision=A,e==null?(ln=!0,zt(l,A)):l;l=c,i+=2}}function fM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Df(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ln&&(t.e>_w||t.e<-_w))throw Error(TN+n)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,n){var r,i,a,o,l,c,d,f,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=tn,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/tn),a=m.length,f>=a)return t;for(d=a=m[f],o=1;a>=10;a/=10)o++;r%=tn,i=r-tn+o}if(n!==void 0&&(a=hu(10,o-i-1),l=d/a%10|0,c=e<0||m[f+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/hu(10,o-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=Bn(t),m.length=1,e=e-a-1,m[0]=hu(10,(tn-e%tn)%tn),t.e=Df(-e/tn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,a=1,f--):(m.length=f+1,a=hu(10,tn-r),m[f]=i>0?(d/hu(10,o-i)%hu(10,i)|0)*a:0),c)for(;;)if(f==0){(m[0]+=a)==ir&&(m[0]=1,++t.e);break}else{if(m[f]+=a,m[f]!=ir)break;m[f--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(ln&&(t.e>_w||t.e<-_w))throw Error(TN+Bn(t));return t}function vB(t,e){var n,r,i,a,o,l,c,d,f,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),ln?zt(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(y/tn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}o=0}for(f&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=ir-1;--c[a],c[i]+=ir}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,ln?zt(e,y):e):new p(0)}function Hu(t,e,n){var r,i=Bn(t),a=Co(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ml(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ml(-i-1)+a,n&&(r=n-o)>0&&(a+=Ml(r))):i>=o?(a+=Ml(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ml(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ml(r))),t.s<0?"-"+a:a}function mM(t,e){if(t.length>e)return t.length=e,!0}function wB(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Tu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return fM(o,a.toString())}else if(typeof a!="string")throw Error(Tu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Hge.test(a))fM(o,a);else throw Error(Tu+a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wB,i.config=i.set=qge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qge(t){if(!t||typeof t!="object")throw Error(_a+"Object expected");var e,n,r,i=["precision",1,$f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Df(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tu+n+": "+r);return this}var kN=wB(Wge);Pi=new kN(1);const Dt=kN;function Kge(t){return Xge(t)||Yge(t)||Zge(t)||Gge()}function Gge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function Yge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xge(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qge=function(e){return e},bB={"@@functional/placeholder":!0},xB=function(e){return e===bB},pM=function(e){return function n(){return arguments.length===0||arguments.length===1&&xB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Jge=function t(e,n){return e===1?n:pM(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==bB}).length;return o>=e?n.apply(void 0,i):t(e-o,pM(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(m){return xB(m)?c.shift():m});return n.apply(void 0,Kge(f).concat(c))}))})},wx=function(e){return Jge(e.length,e)},OS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},eye=wx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Qge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},MS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},_B=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function nye(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function rye(t,e,n){for(var r=new Dt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var iye=wx(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),aye=wx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),oye=wx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const bx={rangeStep:rye,getDigitCount:nye,interpolateNumber:iye,uninterpolateNumber:aye,uninterpolateTruncation:oye};function RS(t){return cye(t)||lye(t)||SB(t)||sye()}function sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cye(t){if(Array.isArray(t))return LS(t)}function rg(t,e){return hye(t)||dye(t,e)||SB(t,e)||uye()}function uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SB(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function hye(t){if(Array.isArray(t))return t}function EB(t){var e=rg(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function AB(t,e,n){if(t.lte(0))return new Dt(0);var r=bx.getDigitCount(t.toNumber()),i=new Dt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Dt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new Dt(Math.ceil(c))}function fye(t,e,n){var r=1,i=new Dt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Dt(10).pow(bx.getDigitCount(t)-1),i=new Dt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dt(Math.floor(t)))}else t===0?i=new Dt(Math.floor((e-1)/2)):n||(i=new Dt(Math.floor(t)));var o=Math.floor((e-1)/2),l=tye(eye(function(c){return i.add(new Dt(c-o).mul(r)).toNumber()}),OS);return l(0,e)}function PB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var a=AB(new Dt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Dt(0):(o=new Dt(t).add(e).div(2),o=o.sub(new Dt(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Dt(e).sub(o).div(a).toNumber()),d=l+c+1;return d>n?PB(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:a,tickMin:o.sub(new Dt(l).mul(a)),tickMax:o.add(new Dt(c).mul(a))})}function mye(t){var e=rg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=EB([n,r]),c=rg(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var m=f===1/0?[d].concat(RS(OS(0,i-1).map(function(){return 1/0}))):[].concat(RS(OS(0,i-1).map(function(){return-1/0})),[f]);return n>r?MS(m):m}if(d===f)return fye(d,i,a);var p=PB(d,f,o,a),y=p.step,P=p.tickMin,_=p.tickMax,A=bx.rangeStep(P,_.add(new Dt(.1).mul(y)),y);return n>r?MS(A):A}function pye(t,e){var n=rg(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EB([r,i]),l=rg(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(e,2),m=AB(new Dt(d).sub(c).div(f-1),a,0),p=[].concat(RS(bx.rangeStep(new Dt(c),new Dt(d).sub(new Dt(.99).mul(m)),m)),[d]);return r>i?MS(p):p}var gye=_B(mye),yye=_B(pye),vye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function wye(t,e){return Sye(t)||_ye(t,e)||xye(t,e)||bye()}function bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(t,e){if(t){if(typeof t=="string")return gM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(t,e)}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Sye(t){if(Array.isArray(t))return t}function Eye(t,e){if(t==null)return{};var n=Aye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aye(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jf(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,l=t.xAxis,c=t.yAxis,d=Eye(t,vye),f=ke(d),m=a.map(function(p,y){var P=o(p,i),_=P.x,A=P.y,N=P.value,E=P.errorVal;if(!E)return null;var w=[],C,$;if(Array.isArray(E)){var D=wye(E,2);C=D[0],$=D[1]}else C=$=E;if(n==="vertical"){var S=l.scale,T=A+e,O=T+r,R=T-r,j=S(N-C),U=S(N+$);w.push({x1:U,y1:O,x2:U,y2:R}),w.push({x1:j,y1:T,x2:U,y2:T}),w.push({x1:j,y1:O,x2:j,y2:R})}else if(n==="horizontal"){var V=c.scale,G=_+e,X=G-r,ee=G+r,te=V(N-C),J=V(N+$);w.push({x1:X,y1:J,x2:ee,y2:J}),w.push({x1:G,y1:te,x2:G,y2:J}),w.push({x1:X,y1:te,x2:ee,y2:te})}return Z.createElement(Ge,Sw({className:"recharts-errorBar",key:"bar-".concat(y)},f),w.map(function(le,Y){return Z.createElement("line",Sw({},le,{key:"line-".concat(Y)}))}))});return Z.createElement(Ge,{className:"recharts-errorBars"},m)}jf.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};jf.displayName="ErrorBar";function ig(t){return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Pye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pye(t,e,n){return e=Nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Tye(t,"string");return ig(e)==="symbol"?e:String(e)}function Tye(t,e){if(ig(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ig(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ps(n,Ws);if(!o)return null;var l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(r||[]).reduce(function(c,d){var f=d.item,m=d.props,p=m.sectors||m.data||[];return c.concat(p.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):l=(r||[]).map(function(c){var d=c.item,f=d.props,m=f.dataKey,p=f.name,y=f.legendType,P=f.hide;return{inactive:P,dataKey:m,type:o.props.iconType||y||"square",color:CN(d),value:p||m,payload:d.props}}),t1(t1(t1({},o.props),Ws.getWithHeight(o,i)),{},{payload:l,item:o})};function ag(t){return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vh(t,e,n){return e=kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kye(t){var e=Cye(t,"string");return ag(e)==="symbol"?e:String(e)}function Cye(t,e){if(ag(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wM(t){return Rye(t)||Mye(t)||Oye(t)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oye(t,e){if(t){if(typeof t=="string")return $S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(t,e)}}function Mye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rye(t){if(Array.isArray(t))return $S(t)}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ht(t,e,n){return Pe(t)||Pe(e)?n:Kn(e)?Hn(t,e,n):Re(e)?e(t):n}function ep(t,e,n,r){var i=pme(t,function(l){return Ht(l,e)});if(n==="number"){var a=i.filter(function(l){return xe(l)||parseFloat(l)});return a.length?[hx(a),Kl(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!Pe(l)}):i;return o.map(function(l){return Kn(l)||l instanceof Date?l:""})}var Lye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,p=d>=l-1?i[0].coordinate:i[d+1].coordinate,y=void 0;if(Fr(m-f)!==Fr(p-m)){var P=[];if(Fr(p-m)===Fr(c[1]-c[0])){y=p;var _=m+c[1]-c[0];P[0]=Math.min(_,(_+f)/2),P[1]=Math.max(_,(_+f)/2)}else{y=f;var A=p+c[1]-c[0];P[0]=Math.min(m,(A+m)/2),P[1]=Math.max(m,(A+m)/2)}var N=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>N[0]&&e<=N[1]||e>=P[0]&&e<=P[1]){o=i[d].index;break}}else{var E=Math.min(f,p),w=Math.max(f,p);if(e>(E+m)/2&&e<=(w+m)/2){o=i[d].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},CN=function(e){var n=e,r=n.type.displayName,i=e.props,a=i.stroke,o=i.fill,l;switch(r){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},$ye=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var d=i[o[l]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],P=y.items,_=y.cateAxisId,A=P.filter(function(w){return cc(w.type).indexOf("Bar")>=0});if(A&&A.length){var N=A[0].props.barSize,E=A[0].props[_];a[E]||(a[E]=[]),a[E].push({item:A[0],stackList:A.slice(1),barSize:Pe(N)?n:N})}}return a},Dye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=si(n,i,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,y=i/c,P=o.reduce(function(C,$){return C+$.barSize||0},0);P+=(c-1)*d,P>=i&&(P-=(c-1)*d,d=0),P>=i&&y>0&&(p=!0,y*=.9,P=c*y);var _=(i-P)/2>>0,A={offset:_-d,size:0};f=o.reduce(function(C,$){var D={item:$.item,position:{offset:A.offset+A.size+d,size:p?y:$.barSize}},S=[].concat(wM(C),[D]);return A=S[S.length-1].position,$.stackList&&$.stackList.length&&$.stackList.forEach(function(T){S.push({item:T,position:A})}),S},m)}else{var N=si(r,i,0,!0);i-2*N-(c-1)*d<=0&&(d=0);var E=(i-2*N-(c-1)*d)/c;E>1&&(E>>=0);var w=l===+l?Math.min(E,l):E;f=o.reduce(function(C,$,D){var S=[].concat(wM(C),[{item:$.item,position:{offset:N+(E+d)*D+(E-w)/2,size:w}}]);return $.stackList&&$.stackList.length&&$.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},m)}return f},jye=function(e,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=NB({children:a,legendWidth:c});if(d){var f=i||{},m=f.width,p=f.height,y=d.align,P=d.verticalAlign,_=d.layout;if((_==="vertical"||_==="horizontal"&&P==="middle")&&y!=="center"&&xe(e[y]))return da(da({},e),{},vh({},y,e[y]+(m||0)));if((_==="horizontal"||_==="vertical"&&y==="center")&&P!=="middle"&&xe(e[P]))return da(da({},e),{},vh({},P,e[P]+(p||0)))}return e},Bye=function(e,n,r){return Pe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TB=function(e,n,r,i,a){var o=n.props.children,l=Hr(o,jf).filter(function(d){return Bye(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var m=Ht(f,r,0),p=ct(m)?[hx(m),Kl(m)]:[m,m],y=c.reduce(function(P,_){var A=Ht(f,_,0),N=p[0]-Math.abs(ct(A)?A[0]:A),E=p[1]+Math.abs(ct(A)?A[1]:A);return[Math.min(N,P[0]),Math.max(E,P[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},zye=function(e,n,r,i,a){var o=n.map(function(l){return TB(e,l,r,a,i)}).filter(function(l){return!Pe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},kB=function(e,n,r,i,a){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&TB(e,c,d,i)||ep(e,d,r,a)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,m=d.length;f<m;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},CB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},bM=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},kl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fr(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var p=a?a.indexOf(m):m;return{coordinate:i(p)+d,value:m,offset:d}});return f.filter(function(m){return!Cf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:i(m)+d,value:m,index:p,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,p){return{coordinate:i(m)+d,value:a?a[m]:m,index:p,offset:d}})},gv=function(e,n,r){var i;return Re(r)?i=r:Re(n)&&(i=n),Re(e)||i?function(a,o,l,c){Re(e)&&e(a,o,l,c),Re(i)&&i(a,o,l,c)}:null},IB=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Xp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:vw(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jm(),realScaleType:"point"}:a==="category"?{scale:Xp(),realScaleType:"band"}:{scale:vw(),realScaleType:"linear"};if(ay(i)){var c="scale".concat(ix(i));return{scale:(hM[c]||Jm)(),realScaleType:hM[c]?c:"point"}}return Re(i)?{scale:i}:{scale:Jm(),realScaleType:"point"}},xM=1e-4,OB=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-xM,o=Math.max(i[0],i[1])+xM,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},Fye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Vye=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(a[0]=r),(!xe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Uye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=Cf(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},Wye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=Cf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Hye={sign:Uye,expand:Ple,none:Bh,silhouette:Nle,wiggle:Tle,positive:Wye},qye=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=Hye[r],o=Ale().keys(i).value(function(l,c){return+Ht(l,c,0)}).order(iS).offset(a);return o(e)},Kye=function(e,n,r,i,a,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,p){var y=p.props,P=y.stackId,_=y.hide;if(_)return m;var A=p.props[r],N=m[A]||{hasStack:!1,stackGroups:{}};if(Kn(P)){var E=N.stackGroups[P]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(p),N.hasStack=!0,N.stackGroups[P]=E}else N.stackGroups[Ac("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return da(da({},m),{},vh({},A,N))},c),f={};return Object.keys(d).reduce(function(m,p){var y=d[p];if(y.hasStack){var P={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(_,A){var N=y.stackGroups[A];return da(da({},_),{},vh({},A,{numericAxisId:r,cateAxisId:i,items:N.items,stackedData:qye(e,N.items,a)}))},P)}return da(da({},m),{},vh({},p,y))},f)},MB=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=gye(d,a,l);return e.domain([hx(f),Kl(f)]),{niceTicks:f}}if(a&&i==="number"){var m=e.domain(),p=yye(m,a,l);return{niceTicks:p}}return null},Gh=function(e){var n=e.axis,r=e.ticks,i=e.bandSize,a=e.entry,o=e.index,l=e.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!Pe(a[n.dataKey])){var c=G0(r,"value",a[n.dataKey]);if(c)return c.coordinate+i/2}return r[o]?r[o].coordinate+i/2:null}var d=Ht(a,Pe(l)?n.dataKey:l);return Pe(d)?null:n.scale(d)},_M=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Ht(o,n.dataKey,n.domain[l]);return Pe(c)?null:n.scale(c)-a/2+i},Gye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Zye=function(e,n){var r=e.props.stackId;if(Kn(r)){var i=n[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},Yye=function(e){return e.reduce(function(n,r){return[hx(r.concat([n[0]]).filter(xe)),Kl(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},RB=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,f){var m=Yye(f.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},SM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DS=function(e,n,r){if(Re(e))return e(n,r);if(!ct(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(SM.test(e[0])){var a=+SM.exec(e[0])[1];i[0]=n[0]-a}else Re(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(EM.test(e[1])){var o=+EM.exec(e[1])[1];i[1]=n[1]+o}else Re(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ew=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=aN(n,function(m){return m.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},AM=function(e,n,r){return!e||!e.length||Hs(e,Hn(r,"type.defaultProps.domain"))?n:e},LB=function(e,n){var r=e.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType;return da(da({},ke(e)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:CN(e),value:Ht(n,i),type:c,payload:n,chartType:d})};function og(t){return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){$B(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $B(t,e,n){return e=Xye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xye(t){var e=Qye(t,"string");return og(e)==="symbol"?e:String(e)}function Qye(t,e){if(og(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(og(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jye(t,e){return rve(t)||nve(t,e)||tve(t,e)||eve()}function eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return NM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NM(t,e)}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function rve(t){if(Array.isArray(t))return t}var Aw=Math.PI/180,ive=function(e){return e*180/Math.PI},Tt=function(e,n,r,i){return{x:e+Math.cos(-Aw*i)*r,y:n+Math.sin(-Aw*i)*r}},DB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jB=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=si(e.cx,o,o/2),m=si(e.cy,l,l/2),p=DB(o,l,r),y=si(e.innerRadius,p,0),P=si(e.outerRadius,p,p*.8),_=Object.keys(n);return _.reduce(function(A,N){var E=n[N],w=E.domain,C=E.reversed,$;if(Pe(E.range))i==="angleAxis"?$=[c,d]:i==="radiusAxis"&&($=[y,P]),C&&($=[$[1],$[0]]);else{$=E.range;var D=$,S=Jye(D,2);c=S[0],d=S[1]}var T=IB(E,a),O=T.realScaleType,R=T.scale;R.domain(w).range($),OB(R);var j=MB(R,vs(vs({},E),{},{realScaleType:O})),U=vs(vs(vs({},E),j),{},{range:$,radius:P,realScaleType:O,scale:R,cx:f,cy:m,innerRadius:y,outerRadius:P,startAngle:c,endAngle:d});return vs(vs({},A),{},$B({},N,U))},{})},ave=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},ove=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,l=ave({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:ive(d),angleInRadian:d}},sve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},lve=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},TM=function(e,n){var r=e.x,i=e.y,a=ove({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=sve(n),m=f.startAngle,p=f.endAngle,y=l,P;if(m<=p){for(;y>p;)y-=360;for(;y<m;)y+=360;P=y>=m&&y<=p}else{for(;y>m;)y-=360;for(;y<p;)y+=360;P=y>=p&&y<=m}return P?vs(vs({},n),{},{radius:o,angle:lve(y,n)}):null};function sg(t){return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}var cve=["offset"];function uve(t){return mve(t)||fve(t)||hve(t)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return jS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(t,e)}}function fve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mve(t){if(Array.isArray(t))return jS(t)}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pve(t,e){if(t==null)return{};var n=gve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){yve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yve(t,e,n){return e=vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=wve(t,"string");return sg(e)==="symbol"?e:String(e)}function wve(t,e){if(sg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}var bve=function(e){var n=e.value,r=e.formatter,i=Pe(e.children)?n:e.children;return Re(r)?r(i):i},xve=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},_ve=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,y=c.startAngle,P=c.endAngle,_=c.clockWise,A=(m+p)/2,N=xve(y,P),E=N>=0?1:-1,w,C;i==="insideStart"?(w=y+E*o,C=_):i==="insideEnd"?(w=P-E*o,C=!_):i==="end"&&(w=P+E*o,C=_),C=N<=0?C:!C;var $=Tt(d,f,A,w),D=Tt(d,f,A,w+(C?1:-1)*359),S="M".concat($.x,",").concat($.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(C?0:1,`,
    `).concat(D.x,",").concat(D.y),T=Pe(e.id)?Ac("recharts-radial-line-"):e.id;return Z.createElement("text",lg({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:T,d:S})),Z.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Sve=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,f=a.startAngle,m=a.endAngle,p=(f+m)/2;if(i==="outside"){var y=Tt(o,l,d+r,p),P=y.x,_=y.y;return{x:P,y:_,textAnchor:P>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var A=(c+d)/2,N=Tt(o,l,A,p),E=N.x,w=N.y;return{x:E,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Eve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,l=o.x,c=o.y,d=o.width,f=o.height,m=f>=0?1:-1,p=m*i,y=m>0?"end":"start",P=m>0?"start":"end",_=d>=0?1:-1,A=_*i,N=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var w={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:y};return Un(Un({},w),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var C={x:l+d/2,y:c+f+p,textAnchor:"middle",verticalAnchor:P};return Un(Un({},C),r?{height:Math.max(r.y+r.height-(c+f),0),width:d}:{})}if(a==="left"){var $={x:l-A,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return Un(Un({},$),r?{width:Math.max($.x-r.x,0),height:f}:{})}if(a==="right"){var D={x:l+d+A,y:c+f/2,textAnchor:E,verticalAnchor:"middle"};return Un(Un({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:f}:{})}var S=r?{width:d,height:f}:{};return a==="insideLeft"?Un({x:l+A,y:c+f/2,textAnchor:E,verticalAnchor:"middle"},S):a==="insideRight"?Un({x:l+d-A,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},S):a==="insideTop"?Un({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:P},S):a==="insideBottom"?Un({x:l+d/2,y:c+f-p,textAnchor:"middle",verticalAnchor:y},S):a==="insideTopLeft"?Un({x:l+A,y:c+p,textAnchor:E,verticalAnchor:P},S):a==="insideTopRight"?Un({x:l+d-A,y:c+p,textAnchor:N,verticalAnchor:P},S):a==="insideBottomLeft"?Un({x:l+A,y:c+f-p,textAnchor:E,verticalAnchor:y},S):a==="insideBottomRight"?Un({x:l+d-A,y:c+f-p,textAnchor:N,verticalAnchor:y},S):zi(a)&&(xe(a.x)||wu(a.x))&&(xe(a.y)||wu(a.y))?Un({x:l+si(a.x,d),y:c+si(a.y,f),textAnchor:"end",verticalAnchor:"end"},S):Un({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Ave=function(e){return"cx"in e&&xe(e.cx)};function or(t){var e=t.offset,n=e===void 0?5:e,r=pve(t,cve),i=Un({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,m=f===void 0?"":f,p=i.textBreakAll;if(!a||Pe(l)&&Pe(c)&&!W.exports.isValidElement(d)&&!Re(d))return null;if(W.exports.isValidElement(d))return W.exports.cloneElement(d,i);var y;if(Re(d)){if(y=W.exports.createElement(d,i),W.exports.isValidElement(y))return y}else y=bve(i);var P=Ave(a),_=ke(i,!0);if(P&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _ve(i,y,_);var A=P?Sve(i):Eve(i);return Z.createElement(Wu,lg({className:vt("recharts-label",m)},_,A,{breakAll:p}),y)}or.displayName="Label";var BB=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,m=e.x,p=e.y,y=e.top,P=e.left,_=e.width,A=e.height,N=e.clockWise,E=e.labelViewBox;if(E)return E;if(xe(_)&&xe(A)){if(xe(m)&&xe(p))return{x:m,y:p,width:_,height:A};if(xe(y)&&xe(P))return{x:y,y:P,width:_,height:A}}return xe(m)&&xe(p)?{x:m,y:p,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},Pve=function(e,n){return e?e===!0?Z.createElement(or,{key:"label-implicit",viewBox:n}):Kn(e)?Z.createElement(or,{key:"label-implicit",viewBox:n,value:e}):W.exports.isValidElement(e)?e.type===or?W.exports.cloneElement(e,{key:"label-implicit",viewBox:n}):Z.createElement(or,{key:"label-implicit",content:e,viewBox:n}):Re(e)?Z.createElement(or,{key:"label-implicit",content:e,viewBox:n}):zi(e)?Z.createElement(or,lg({viewBox:n},e,{key:"label-implicit"})):null:null},Nve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=BB(e),o=Hr(i,or).map(function(c,d){return W.exports.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var l=Pve(e.label,n||a);return[l].concat(uve(o))};or.parseViewBox=BB;or.renderCallByParent=Nve;function Tve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zB=Tve;function cg(t){return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}var kve=["valueAccessor"],Cve=["data","dataKey","clockWise","id","textBreakAll"];function Ive(t){return Lve(t)||Rve(t)||Mve(t)||Ove()}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mve(t,e){if(t){if(typeof t=="string")return BS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,e)}}function Rve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lve(t){if(Array.isArray(t))return BS(t)}function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){$ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ve(t,e,n){return e=Dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dve(t){var e=jve(t,"string");return cg(e)==="symbol"?e:String(e)}function jve(t,e){if(cg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OM(t,e){if(t==null)return{};var n=Bve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zve=function(e){return ct(e.value)?zB(e.value):e.value};function ya(t){var e=t.valueAccessor,n=e===void 0?zve:e,r=OM(t,kve),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=OM(r,Cve);return!i||!i.length?null:Z.createElement(Ge,{className:"recharts-label-list"},i.map(function(f,m){var p=Pe(a)?n(f,m):Ht(f&&f.payload,a),y=Pe(l)?{}:{id:"".concat(l,"-").concat(m)};return Z.createElement(or,Pw({},ke(f,!0),d,y,{parentViewBox:f.parentViewBox,index:m,value:p,textBreakAll:c,viewBox:or.parseViewBox(Pe(o)?f:IM(IM({},f),{},{clockWise:o})),key:"label-".concat(m)}))}))}ya.displayName="LabelList";function Fve(t,e){return t?t===!0?Z.createElement(ya,{key:"labelList-implicit",data:e}):Z.isValidElement(t)||Re(t)?Z.createElement(ya,{key:"labelList-implicit",data:e,content:t}):zi(t)?Z.createElement(ya,Pw({data:e},t,{key:"labelList-implicit"})):null:null}function Vve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hr(r,ya).map(function(o,l){return W.exports.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Fve(t.label,e);return[a].concat(Ive(i))}ya.renderCallByParent=Vve;function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){Uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uve(t,e,n){return e=Wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wve(t){var e=Hve(t,"string");return ug(e)==="symbol"?e:String(e)}function Hve(t,e){if(ug(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ug(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qve=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},yv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,m=Math.asin(c/f)/Aw,p=d?a:a+o*m,y=Tt(n,r,f,p),P=Tt(n,r,i,p),_=d?a-o*m:a,A=Tt(n,r,f*Math.cos(m*Aw),_);return{center:y,circleTangency:P,lineTangency:A,theta:m}},FB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=qve(o,l),d=o+c,f=Tt(n,r,a,o),m=Tt(n,r,a,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var y=Tt(n,r,i,o),P=Tt(n,r,i,d);p+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Kve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,m=Fr(f-d),p=yv({cx:n,cy:r,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),y=p.circleTangency,P=p.lineTangency,_=p.theta,A=yv({cx:n,cy:r,radius:a,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=A.circleTangency,E=A.lineTangency,w=A.theta,C=c?Math.abs(d-f):Math.abs(d-f)-_-w;if(C<0)return l?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):FB({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f});var $="M ".concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var D=yv({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=D.circleTangency,T=D.lineTangency,O=D.theta,R=yv({cx:n,cy:r,radius:i,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=R.circleTangency,U=R.lineTangency,V=R.theta,G=c?Math.abs(d-f):Math.abs(d-f)-O-V;if(G<0&&o===0)return"".concat($,"L").concat(n,",").concat(r,"Z");$+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else $+="L".concat(n,",").concat(r,"Z");return $},Gve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VB=function(e){var n=RM(RM({},Gve),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,m=n.endAngle,p=n.className;if(o<a||f===m)return null;var y=vt("recharts-sector",p),P=o-a,_=si(l,P,0,!0),A;return _>0&&Math.abs(f-m)<360?A=Kve({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,P/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):A=FB({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:m}),Z.createElement("path",zS({},ke(n,!0),{className:y,d:A,role:"img"}))};function dg(t){return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FS.apply(this,arguments)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){Zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zve(t,e,n){return e=Yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Xve(t,"string");return dg(e)==="symbol"?e:String(e)}function Xve(t,e){if(dg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DM={curveBasisClosed:mle,curveBasisOpen:ple,curveBasis:fle,curveBumpX:Jse,curveBumpY:ele,curveLinearClosed:gle,curveLinear:ox,curveMonotoneX:yle,curveMonotoneY:vle,curveNatural:wle,curveStep:ble,curveStepAfter:_le,curveStepBefore:xle},vv=function(e){return e.x===+e.x&&e.y===+e.y},wm=function(e){return e.x},bm=function(e){return e.y},Qve=function(e,n){if(Re(e))return e;var r="curve".concat(ix(e));return(r==="curveMonotone"||r==="curveBump")&&n?DM["".concat(r).concat(n==="vertical"?"Y":"X")]:DM[r]||ox},Jve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=Qve(r,l),m=d?a.filter(function(_){return vv(_)}):a,p;if(ct(o)){var y=d?o.filter(function(_){return vv(_)}):o,P=m.map(function(_,A){return $M($M({},_),{},{base:y[A]})});return l==="vertical"?p=uv().y(bm).x1(wm).x0(function(_){return _.base.x}):p=uv().x(wm).y1(bm).y0(function(_){return _.base.y}),p.defined(vv).curve(f),p(P)}return l==="vertical"&&xe(o)?p=uv().y(bm).x1(wm).x0(o):xe(o)?p=uv().x(wm).y1(bm).y0(o):p=X3().x(wm).y(bm),p.defined(vv).curve(f),p(m)},dc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Jve(e):i;return Z.createElement("path",FS({},ke(e),Z0(e),{className:vt("recharts-curve",n),d:o,ref:a}))};function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}function e0e(t,e){return i0e(t)||r0e(t,e)||n0e(t,e)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0e(t,e){if(t){if(typeof t=="string")return jM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function i0e(t){if(Array.isArray(t))return t}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){a0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0e(t,e,n){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0e(t){var e=s0e(t,"string");return hg(e)==="symbol"?e:String(e)}function s0e(t,e){if(hg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FM=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=a[p]>o?o:a[p];f="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(n)),f+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*m[1])),f+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),f+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*m[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var P=Math.min(o,a);f="M ".concat(e,",").concat(n+l*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(d,",").concat(e+c*P,",").concat(n,`
            L `).concat(e+r-c*P,",").concat(n,`
            A `).concat(P,",").concat(P,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*P,`
            L `).concat(e+r,",").concat(n+i-l*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(d,",").concat(e+r-c*P,",").concat(n+i,`
            L `).concat(e+c*P,",").concat(n+i,`
            A `).concat(P,",").concat(P,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*P," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},l0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),f=Math.max(a,a+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return r>=d&&r<=f&&i>=m&&i<=p}return!1},c0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IN=function(e){var n=zM(zM({},c0e),e),r=W.exports.useRef(),i=W.exports.useState(-1),a=e0e(i,2),o=a[0],l=a[1];W.exports.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,d=n.y,f=n.width,m=n.height,p=n.radius,y=n.className,P=n.animationEasing,_=n.animationDuration,A=n.animationBegin,N=n.isAnimationActive,E=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||f===0||m===0)return null;var w=vt("recharts-rectangle",y);return E?Z.createElement(Li,{canBegin:o>0,from:{width:f,height:m,x:c,y:d},to:{width:f,height:m,x:c,y:d},duration:_,animationEasing:P,isActive:E},function(C){var $=C.width,D=C.height,S=C.x,T=C.y;return Z.createElement(Li,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:_,isActive:N,easing:P},Z.createElement("path",Nw({},ke(n,!0),{className:w,d:FM(S,T,$,D,p),ref:r})))}):Z.createElement("path",Nw({},ke(n,!0),{className:w,d:FM(c,d,f,m,p)}))},u0e=["points","className","baseLinePoints","connectNulls"];function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}function d0e(t,e){if(t==null)return{};var n=h0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VM(t){return g0e(t)||p0e(t)||m0e(t)||f0e()}function f0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t,e){if(t){if(typeof t=="string")return VS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VS(t,e)}}function p0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g0e(t){if(Array.isArray(t))return VS(t)}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var UM=function(e){return e&&e.x===+e.x&&e.y===+e.y},y0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){UM(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),UM(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},tp=function(e,n){var r=y0e(e);n&&(r=[r.reduce(function(a,o){return[].concat(VM(a),VM(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},v0e=function(e,n,r){var i=tp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(tp(n.reverse(),r).slice(1))},UB=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=d0e(e,u0e);if(!n||!n.length)return null;var l=vt("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=v0e(n,i,a);return Z.createElement("g",{className:l},Z.createElement("path",Jd({},ke(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Z.createElement("path",Jd({},ke(o,!0),{fill:"none",d:tp(n,a)})):null,c?Z.createElement("path",Jd({},ke(o,!0),{fill:"none",d:tp(i,a)})):null)}var f=tp(n,a);return Z.createElement("path",Jd({},ke(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}var Bf=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=vt("recharts-dot",a);return n===+n&&r===+r&&i===+i?Z.createElement("circle",US({},ke(e),Z0(e),{className:o,cx:n,cy:r,r:i})):null};function fg(t){return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}var w0e=["x","y","top","left","width","height","className"];function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(this,arguments)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){x0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0e(t,e,n){return e=_0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0e(t){var e=S0e(t,"string");return fg(e)==="symbol"?e:String(e)}function S0e(t,e){if(fg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0e(t,e){if(t==null)return{};var n=A0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var P0e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},N0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,m=f===void 0?0:f,p=e.height,y=p===void 0?0:p,P=e.className,_=E0e(e,w0e),A=b0e({x:r,y:a,top:l,left:d,width:m,height:y},_);return!xe(r)||!xe(a)||!xe(m)||!xe(y)||!xe(l)||!xe(d)?null:Z.createElement("path",WS({},ke(A,!0),{className:vt("recharts-cross",P),d:P0e(r,a,m,y,l,d)}))},T0e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function mg(t){return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function k0e(t,e){if(t==null)return{};var n=C0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return e=O0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0e(t){var e=M0e(t,"string");return mg(e)==="symbol"?e:String(e)}function M0e(t,e){if(mg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R0e=function(e,n,r,i){var a="";return i.forEach(function(o,l){var c=Tt(n,r,e,o);l?a+="L ".concat(c.x,",").concat(c.y):a+="M ".concat(c.x,",").concat(c.y)}),a+="Z",a},L0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,l=e.radialLines;if(!o||!o.length||!l)return null;var c=pg({stroke:"#ccc"},ke(e));return Z.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d,f){var m=Tt(n,r,i,d),p=Tt(n,r,a,d);return Z.createElement("line",Zs({},c,{key:"line-".concat(f),x1:m.x,y1:m.y,x2:p.x,y2:p.y}))}))},$0e=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.index,o=pg(pg({stroke:"#ccc"},ke(e)),{},{fill:"none"});return Z.createElement("circle",Zs({},o,{className:"recharts-polar-grid-concentric-circle",key:"circle-".concat(a),cx:n,cy:r,r:i}))},D0e=function(e){var n=e.radius,r=e.index,i=pg(pg({stroke:"#ccc"},ke(e)),{},{fill:"none"});return Z.createElement("path",Zs({},i,{className:"recharts-polar-grid-concentric-polygon",key:"path-".concat(r),d:R0e(n,e.cx,e.cy,e.polarAngles)}))},j0e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:Z.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,a){var o=a;return r==="circle"?Z.createElement($0e,Zs({key:o},e,{radius:i,index:a})):Z.createElement(D0e,Zs({key:o},e,{radius:i,index:a}))}))},WB=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,l=o===void 0?0:o,c=e.outerRadius,d=c===void 0?0:c,f=e.gridType,m=f===void 0?"polygon":f,p=e.radialLines,y=p===void 0?!0:p,P=k0e(e,T0e);return d<=0?null:Z.createElement("g",{className:"recharts-polar-grid"},Z.createElement(L0e,Zs({cx:r,cy:a,innerRadius:l,outerRadius:d,gridType:m,radialLines:y},P)),Z.createElement(j0e,Zs({cx:r,cy:a,innerRadius:l,outerRadius:d,gridType:m,radialLines:y},P)))};WB.displayName="PolarGrid";var B0e=dx,z0e=Zo,F0e=L6;function V0e(t,e){return t&&t.length?B0e(t,z0e(e),F0e):void 0}var U0e=V0e,W0e=dx,H0e=R6,q0e=Zo;function K0e(t,e){return t&&t.length?W0e(t,q0e(e),H0e):void 0}var G0e=K0e,Z0e=["cx","cy","angle","ticks","axisLine"],Y0e=["ticks","tick","angle","tickFormatter","stroke"];function Zh(t){return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KM(t,e){if(t==null)return{};var n=X0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HB(r.key),r)}}function J0e(t,e,n){return e&&GM(t.prototype,e),n&&GM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ewe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(t,e)}function twe(t){var e=iwe();return function(){var r=Tw(t),i;if(e){var a=Tw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return nwe(this,i)}}function nwe(t,e){if(e&&(Zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rwe(t)}function rwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(t)}function xx(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=awe(t,"string");return Zh(e)==="symbol"?e:String(e)}function awe(t,e){if(Zh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zf=function(t){ewe(n,t);var e=twe(n);function n(){return Q0e(this,n),e.apply(this,arguments)}return J0e(n,[{key:"getTickValueCoord",value:function(i){var a=i.coordinate,o=this.props,l=o.angle,c=o.cx,d=o.cy;return Tt(c,d,a,l)}},{key:"getTickTextAnchor",value:function(){var i=this.props.orientation,a;switch(i){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var i=this.props,a=i.cx,o=i.cy,l=i.angle,c=i.ticks,d=G0e(c,function(m){return m.coordinate||0}),f=U0e(c,function(m){return m.coordinate||0});return{cx:a,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var i=this.props,a=i.cx,o=i.cy,l=i.angle,c=i.ticks,d=i.axisLine,f=KM(i,Z0e),m=c.reduce(function(_,A){return[Math.min(_[0],A.coordinate),Math.max(_[1],A.coordinate)]},[1/0,-1/0]),p=Tt(a,o,m[0],l),y=Tt(a,o,m[1],l),P=ru(ru(ru({},ke(f)),{},{fill:"none"},ke(d)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return Z.createElement("line",np({className:"recharts-polar-radius-axis-line"},P))}},{key:"renderTicks",value:function(){var i=this,a=this.props,o=a.ticks,l=a.tick,c=a.angle,d=a.tickFormatter,f=a.stroke,m=KM(a,Y0e),p=this.getTickTextAnchor(),y=ke(m),P=ke(l),_=o.map(function(A,N){var E=i.getTickValueCoord(A),w=ru(ru(ru(ru({textAnchor:p,transform:"rotate(".concat(90-c,", ").concat(E.x,", ").concat(E.y,")")},y),{},{stroke:"none",fill:f},P),{},{index:N},E),{},{payload:A});return Z.createElement(Ge,np({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(N)},yc(i.props,A,N)),n.renderTickItem(l,w,d?d(A.value,N):A.value))});return Z.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var i=this.props,a=i.ticks,o=i.axisLine,l=i.tick;return!a||!a.length?null:Z.createElement(Ge,{className:"recharts-polar-radius-axis"},o&&this.renderAxisLine(),l&&this.renderTicks(),or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(i,a,o){var l;return Z.isValidElement(i)?l=Z.cloneElement(i,a):Re(i)?l=i(a):l=Z.createElement(Wu,np({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}]),n}(W.exports.PureComponent);xx(zf,"displayName","PolarRadiusAxis");xx(zf,"axisType","radiusAxis");xx(zf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yh(t){return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){_x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qB(r.key),r)}}function swe(t,e,n){return e&&YM(t.prototype,e),n&&YM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qS(t,e)}function cwe(t){var e=hwe();return function(){var r=kw(t),i;if(e){var a=kw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return uwe(this,i)}}function uwe(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dwe(t)}function dwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kw(t)}function _x(t,e,n){return e=qB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t){var e=fwe(t,"string");return Yh(e)==="symbol"?e:String(e)}function fwe(t,e){if(Yh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mwe=Math.PI/180,XM=1e-5,Ff=function(t){lwe(n,t);var e=cwe(n);function n(){return owe(this,n),e.apply(this,arguments)}return swe(n,[{key:"getTickLineCoord",value:function(i){var a=this.props,o=a.cx,l=a.cy,c=a.radius,d=a.orientation,f=a.tickSize,m=f||8,p=Tt(o,l,c,i.coordinate),y=Tt(o,l,c+(d==="inner"?-1:1)*m,i.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(i){var a=this.props.orientation,o=Math.cos(-i.coordinate*mwe),l;return o>XM?l=a==="outer"?"start":"end":o<-XM?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.axisLine,d=i.axisLineType,f=iu(iu({},ke(this.props)),{},{fill:"none"},ke(c));if(d==="circle")return Z.createElement(Bf,mu({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:o,r:l}));var m=this.props.ticks,p=m.map(function(y){return Tt(a,o,l,y.coordinate)});return Z.createElement(UB,mu({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var i=this,a=this.props,o=a.ticks,l=a.tick,c=a.tickLine,d=a.tickFormatter,f=a.stroke,m=ke(this.props),p=ke(l),y=iu(iu({},m),{},{fill:"none"},ke(c)),P=o.map(function(_,A){var N=i.getTickLineCoord(_),E=i.getTickTextAnchor(_),w=iu(iu(iu({textAnchor:E},m),{},{stroke:"none",fill:f},p),{},{index:A,payload:_,x:N.x2,y:N.y2});return Z.createElement(Ge,mu({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(A)},yc(i.props,_,A)),c&&Z.createElement("line",mu({className:"recharts-polar-angle-axis-tick-line"},y,N)),l&&n.renderTickItem(l,w,d?d(_.value,A):_.value))});return Z.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},P)}},{key:"render",value:function(){var i=this.props,a=i.ticks,o=i.radius,l=i.axisLine;return o<=0||!a||!a.length?null:Z.createElement(Ge,{className:"recharts-polar-angle-axis"},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(i,a,o){var l;return Z.isValidElement(i)?l=Z.cloneElement(i,a):Re(i)?l=i(a):l=Z.createElement(Wu,mu({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}]),n}(W.exports.PureComponent);_x(Ff,"displayName","PolarAngleAxis");_x(Ff,"axisType","angleAxis");_x(Ff,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pwe=Js,gwe=el,ywe="[object Boolean]";function vwe(t){return t===!0||t===!1||gwe(t)&&pwe(t)==ywe}var KB=vwe,wwe=O3,bwe=wwe(Object.getPrototypeOf,Object),xwe=bwe,_we=Js,Swe=xwe,Ewe=el,Awe="[object Object]",Pwe=Function.prototype,Nwe=Object.prototype,GB=Pwe.toString,Twe=Nwe.hasOwnProperty,kwe=GB.call(Object);function Cwe(t){if(!Ewe(t)||_we(t)!=Awe)return!1;var e=Swe(t);if(e===null)return!0;var n=Twe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&GB.call(n)==kwe}var Iwe=Cwe;function gg(t){return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function Owe(t,e){return $we(t)||Lwe(t,e)||Rwe(t,e)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(t,e){if(t){if(typeof t=="string")return QM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QM(t,e)}}function QM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function $we(t){if(Array.isArray(t))return t}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dwe(t,e,n){return e=jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jwe(t){var e=Bwe(t,"string");return gg(e)==="symbol"?e:String(e)}function Bwe(t,e){if(gg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tR=function(e,n,r,i,a){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},zwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fwe=function(e){var n=eR(eR({},zwe),e),r=W.exports.useRef(),i=W.exports.useState(-1),a=Owe(i,2),o=a[0],l=a[1];W.exports.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,d=n.y,f=n.upperWidth,m=n.lowerWidth,p=n.height,y=n.className,P=n.animationEasing,_=n.animationDuration,A=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var E=vt("recharts-trapezoid",y);return N?Z.createElement(Li,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:d},duration:_,animationEasing:P,isActive:N},function(w){var C=w.upperWidth,$=w.lowerWidth,D=w.height,S=w.x,T=w.y;return Z.createElement(Li,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:_,easing:P},Z.createElement("path",Cw({},ke(n,!0),{className:E,d:tR(S,T,C,$,D),ref:r})))}):Z.createElement("g",null,Z.createElement("path",Cw({},ke(n,!0),{className:E,d:tR(c,d,f,m,p)})))},Vwe=["option","shapeType","propTransformer","activeClassName","isActive"];function yg(t){return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function Uwe(t,e){if(t==null)return{};var n=Wwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hwe(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Kwe(t,"string");return yg(e)==="symbol"?e:String(e)}function Kwe(t,e){if(yg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gwe(t,e){return rR(rR({},e),t)}function Zwe(t,e){return t==="symbols"}function iR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Z.createElement(IN,n);case"trapezoid":return Z.createElement(Fwe,n);case"sector":return Z.createElement(VB,n);case"symbols":if(Zwe(e))return Z.createElement(lx,n);break;default:return null}}function Iw(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Gwe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=Uwe(t,Vwe),d;if(W.exports.isValidElement(e))d=W.exports.cloneElement(e,c);else if(Re(e))d=e(c);else if(Iwe(e)&&!KB(e)){var f=c,m=i(e,f);d=Z.createElement(iR,{shapeType:n,elementProps:m})}else{var p=c;d=Z.createElement(iR,{shapeType:n,elementProps:p})}return l?Z.createElement(Ge,{className:o},d):d}function Sx(t,e){return"trapezoids"in t.props}function Ex(t,e){return"sectors"in t.props}function vg(t,e){return"points"in t.props}function Ywe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Xwe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Qwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Jwe(t,e){var n;return Sx(t)?n=Ywe:Ex(t)?n=Xwe:vg(t)&&(n=Qwe),n}function ebe(t,e){var n;return Sx(t)?n="trapezoids":Ex(t)?n="sectors":vg(t)&&(n="points"),n}function tbe(t,e){if(Sx(t)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ex(t)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vg(t)?e.payload:{}}function nbe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ebe(n),a=tbe(n,e),o=r.filter(function(c,d){var f=Hs(a,c),m=n.props[i].filter(function(P){var _=Jwe(n);return _(P,e)}),p=n.props[i].indexOf(m[m.length-1]),y=d===p;return f&&y}),l=r.indexOf(o[o.length-1]);return l}var Xv;function Xh(t){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZB(r.key),r)}}function ibe(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function abe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KS(t,e)}function obe(t){var e=lbe();return function(){var r=Ow(t),i;if(e){var a=Ow(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return sbe(this,i)}}function sbe(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dd(t)}function Dd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(t)}function ha(t,e,n){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t){var e=cbe(t,"string");return Xh(e)==="symbol"?e:String(e)}function cbe(t,e){if(Xh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xr=function(t){abe(n,t);var e=obe(n);function n(r){var i;return rbe(this,n),i=e.call(this,r),ha(Dd(i),"pieRef",null),ha(Dd(i),"sectorRefs",[]),ha(Dd(i),"id",Ac("recharts-pie-")),ha(Dd(i),"handleAnimationEnd",function(){var a=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),Re(a)&&a()}),ha(Dd(i),"handleAnimationStart",function(){var a=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),Re(a)&&a()}),i.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},i}return ibe(n,[{key:"isActiveIndex",value:function(i){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(i)!==-1:i===a}},{key:"hasActiveIndex",value:function(){var i=this.props.activeIndex;return Array.isArray(i)?i.length!==0:i||i===0}},{key:"renderLabels",value:function(i){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,c=o.labelLine,d=o.dataKey,f=o.valueKey,m=ke(this.props),p=ke(l),y=ke(c),P=l&&l.offsetRadius||20,_=i.map(function(A,N){var E=(A.startAngle+A.endAngle)/2,w=Tt(A.cx,A.cy,A.outerRadius+P,E),C=on(on(on(on({},m),A),{},{stroke:"none"},p),{},{index:N,textAnchor:n.getTextAnchor(w.x,A.cx)},w),$=on(on(on(on({},m),A),{},{fill:"none",stroke:A.fill},y),{},{index:N,points:[Tt(A.cx,A.cy,A.outerRadius,E),w],key:"line"}),D=d;return Pe(d)&&Pe(f)?D="value":Pe(d)&&(D=f),Z.createElement(Ge,{key:"label-".concat(N)},c&&n.renderLabelLineItem(c,$),n.renderLabelItem(l,C,Ht(A,D)))});return Z.createElement(Ge,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(i){var a=this,o=this.props,l=o.activeShape,c=o.blendStroke,d=o.inactiveShape;return i.map(function(f,m){var p=a.isActiveIndex(m),y=d&&a.hasActiveIndex()?d:null,P=p?l:y,_=on(on({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return Z.createElement(Ge,eh({ref:function(N){N&&!a.sectorRefs.includes(N)&&a.sectorRefs.push(N)},tabIndex:-1,className:"recharts-pie-sector"},yc(a.props,f,m),{key:"sector-".concat(m)}),Z.createElement(Iw,eh({option:P,isActive:p,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var i=this,a=this.props,o=a.sectors,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,p=this.state,y=p.prevSectors,P=p.prevIsAnimationActive;return Z.createElement(Li,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(P),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var A=_.t,N=[],E=o&&o[0],w=E.startAngle;return o.forEach(function(C,$){var D=y&&y[$],S=$>0?Hn(C,"paddingAngle",0):0;if(D){var T=Bt(D.endAngle-D.startAngle,C.endAngle-C.startAngle),O=on(on({},C),{},{startAngle:w+S,endAngle:w+T(A)+S});N.push(O),w=O.endAngle}else{var R=C.endAngle,j=C.startAngle,U=Bt(0,R-j),V=U(A),G=on(on({},C),{},{startAngle:w+S,endAngle:w+V+S});N.push(G),w=G.endAngle}}),Z.createElement(Ge,null,i.renderSectorsStatically(N))})}},{key:"attachKeyboardHandlers",value:function(i){var a=this;i.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var i=this.props,a=i.sectors,o=i.isAnimationActive,l=this.state.prevSectors;return o&&a&&a.length&&(!l||!Hs(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var i=this,a=this.props,o=a.hide,l=a.sectors,c=a.className,d=a.label,f=a.cx,m=a.cy,p=a.innerRadius,y=a.outerRadius,P=a.isAnimationActive,_=this.state.isAnimationFinished;if(o||!l||!l.length||!xe(f)||!xe(m)||!xe(p)||!xe(y))return null;var A=vt("recharts-pie",c);return Z.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:A,ref:function(E){i.pieRef=E}},this.renderSectors(),d&&this.renderLabels(l),or.renderCallByParent(this.props,null,!1),(!P||_)&&ya.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return a.prevIsAnimationActive!==i.isAnimationActive?{prevIsAnimationActive:i.isAnimationActive,prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:[],isAnimationFinished:!0}:i.isAnimationActive&&i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:i.sectors!==a.curSectors?{curSectors:i.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(i,a){return i>a?"start":i<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(i,a){return Z.isValidElement(i)?Z.cloneElement(i,a):Re(i)?i(a):Z.createElement(dc,eh({},a,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(i,a,o){if(Z.isValidElement(i))return Z.cloneElement(i,a);var l=o;return Re(i)&&(l=i(a),Z.isValidElement(l))?l:Z.createElement(Wu,eh({},a,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),l)}}]),n}(W.exports.PureComponent);Xv=Xr;ha(Xr,"displayName","Pie");ha(Xr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ii.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ha(Xr,"parseDeltaAngle",function(t,e){var n=Fr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ha(Xr,"getRealPieData",function(t){var e=t.props,n=e.data,r=e.children,i=ke(t.props),a=Hr(r,so);return n&&n.length?n.map(function(o,l){return on(on(on({payload:o},i),o),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(o){return on(on({},i),o.props)}):[]});ha(Xr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=DB(i,a),l=r+si(t.props.cx,i,i/2),c=n+si(t.props.cy,a,a/2),d=si(t.props.innerRadius,o,0),f=si(t.props.outerRadius,o,o*.8),m=t.props.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:m}});ha(Xr,"getComposedData",function(t){var e=t.item,n=t.offset,r=Xv.getRealPieData(e);if(!r||!r.length)return null;var i=e.props,a=i.cornerRadius,o=i.startAngle,l=i.endAngle,c=i.paddingAngle,d=i.dataKey,f=i.nameKey,m=i.valueKey,p=i.tooltipType,y=Math.abs(e.props.minAngle),P=Xv.parseCoordinateOfPie(e,n),_=Xv.parseDeltaAngle(o,l),A=Math.abs(_),N=d;Pe(d)&&Pe(m)?(Rs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Pe(d)&&(Rs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var E=r.filter(function(T){return Ht(T,N,0)!==0}).length,w=(A>=360?E:E-1)*c,C=A-E*y-w,$=r.reduce(function(T,O){var R=Ht(O,N,0);return T+(xe(R)?R:0)},0),D;if($>0){var S;D=r.map(function(T,O){var R=Ht(T,N,0),j=Ht(T,f,O),U=(xe(R)?R:0)/$,V;O?V=S.endAngle+Fr(_)*c*(R!==0?1:0):V=o;var G=V+Fr(_)*((R!==0?y:0)+U*C),X=(V+G)/2,ee=(P.innerRadius+P.outerRadius)/2,te=[{name:j,value:R,payload:T,dataKey:N,type:p}],J=Tt(P.cx,P.cy,ee,X);return S=on(on(on({percent:U,cornerRadius:a,name:j,tooltipPayload:te,midAngle:X,middleRadius:ee,tooltipPosition:J},T),P),{},{value:Ht(T,N),startAngle:V,endAngle:G,payload:T,paddingAngle:Fr(_)*c}),S})}return on(on({},P),{},{sectors:D,data:r})});var YB={exports:{}};function ube(t){return t&&t.length?t[0]:void 0}var dbe=ube;(function(t){t.exports=dbe})(YB);const hbe=mL(YB.exports);function Qh(t){return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){bs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XB(r.key),r)}}function mbe(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}function GS(t,e){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GS(t,e)}function gbe(t){var e=vbe();return function(){var r=Rw(t),i;if(e){var a=Rw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ybe(this,i)}}function ybe(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jd(t)}function jd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(t)}function bs(t,e,n){return e=XB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XB(t){var e=wbe(t,"string");return Qh(e)==="symbol"?e:String(e)}function wbe(t,e){if(Qh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dy=function(t){pbe(n,t);var e=gbe(n);function n(){var r;fbe(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),bs(jd(r),"state",{isAnimationFinished:!1}),bs(jd(r),"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(l)&&l()}),bs(jd(r),"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(l)&&l()}),bs(jd(r),"handleMouseEnter",function(l){var c=r.props.onMouseEnter;c&&c(r.props,l)}),bs(jd(r),"handleMouseLeave",function(l){var c=r.props.onMouseLeave;c&&c(r.props,l)}),r}return mbe(n,[{key:"renderDots",value:function(i){var a=this.props,o=a.dot,l=a.dataKey,c=ke(this.props),d=ke(o),f=i.map(function(m,p){var y=Br(Br(Br({key:"dot-".concat(p),r:3},c),d),{},{dataKey:l,cx:m.x,cy:m.y,index:p,payload:m});return n.renderDotItem(o,y)});return Z.createElement(Ge,{className:"recharts-radar-dots"},f)}},{key:"renderPolygonStatically",value:function(i){var a=this.props,o=a.shape,l=a.dot,c=a.isRange,d=a.baseLinePoints,f=a.connectNulls,m;return Z.isValidElement(o)?m=Z.cloneElement(o,Br(Br({},this.props),{},{points:i})):Re(o)?m=o(Br(Br({},this.props),{},{points:i})):m=Z.createElement(UB,Mw({},ke(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:i,baseLinePoints:c?d:null,connectNulls:f})),Z.createElement(Ge,{className:"recharts-radar-polygon"},m,l?this.renderDots(i):null)}},{key:"renderPolygonWithAnimation",value:function(){var i=this,a=this.props,o=a.points,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,p=this.state.prevPoints;return Z.createElement(Li,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"radar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var P=y.t,_=p&&p.length/o.length,A=o.map(function(N,E){var w=p&&p[Math.floor(E*_)];if(w){var C=Bt(w.x,N.x),$=Bt(w.y,N.y);return Br(Br({},N),{},{x:C(P),y:$(P)})}var D=Bt(N.cx,N.x),S=Bt(N.cy,N.y);return Br(Br({},N),{},{x:D(P),y:S(P)})});return i.renderPolygonStatically(A)})}},{key:"renderPolygon",value:function(){var i=this.props,a=i.points,o=i.isAnimationActive,l=i.isRange,c=this.state.prevPoints;return o&&a&&a.length&&!l&&(!c||!Hs(c,a))?this.renderPolygonWithAnimation():this.renderPolygonStatically(a)}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.className,l=i.points,c=i.isAnimationActive;if(a||!l||!l.length)return null;var d=this.state.isAnimationFinished,f=vt("recharts-radar",o);return Z.createElement(Ge,{className:f},this.renderPolygon(),(!c||d)&&ya.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"renderDotItem",value:function(i,a){var o;return Z.isValidElement(i)?o=Z.cloneElement(i,a):Re(i)?o=i(a):o=Z.createElement(Bf,Mw({},a,{className:"recharts-radar-dot"})),o}}]),n}(W.exports.PureComponent);bs(dy,"displayName","Radar");bs(dy,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bs(dy,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,a=t.bandSize,o=n.cx,l=n.cy,c=!1,d=[];r.forEach(function(m,p){var y=Ht(m,n.dataKey,p),P=Ht(m,i),_=n.scale(y)+(a||0),A=ct(P)?zB(P):P,N=Pe(A)?void 0:e.scale(A);ct(P)&&P.length>=2&&(c=!0),d.push(Br(Br({},Tt(o,l,N,_)),{},{name:y,value:P,cx:o,cy:l,radius:N,angle:_,payload:m}))});var f=[];return c&&d.forEach(function(m){if(ct(m.value)){var p=hbe(m.value),y=Pe(p)?void 0:e.scale(p);f.push(Br(Br({},m),{},{radius:y},Tt(o,l,y,m.angle)))}else f.push(m)}),{points:d,isRange:c,baseLinePoints:f}});var bbe=Math.ceil,xbe=Math.max;function _be(t,e,n,r){for(var i=-1,a=xbe(bbe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Sbe=_be,Ebe=N6,cR=1/0,Abe=17976931348623157e292;function Pbe(t){if(!t)return t===0?t:0;if(t=Ebe(t),t===cR||t===-cR){var e=t<0?-1:1;return e*Abe}return t===t?t:0}var QB=Pbe,Nbe=Sbe,Tbe=ux,n1=QB;function kbe(t){return function(e,n,r){return r&&typeof r!="number"&&Tbe(e,n,r)&&(n=r=void 0),e=n1(e),n===void 0?(n=e,e=0):n=n1(n),r=r===void 0?e<n?1:-1:n1(r),Nbe(e,n,r,t)}}var Cbe=kbe,Ibe=Cbe,Obe=Ibe(),Lw=Obe;function wg(t){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){JB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JB(t,e,n){return e=Mbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mbe(t){var e=Rbe(t,"string");return wg(e)==="symbol"?e:String(e)}function Rbe(t,e){if(wg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lbe=["Webkit","Moz","O","ms"],$be=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Lbe.reduce(function(a,o){return dR(dR({},a),{},JB({},o+r,n))},{});return i[e]=n,i};function Jh(t){return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ez(r.key),r)}}function jbe(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(t,e)}function zbe(t){var e=Vbe();return function(){var r=Dw(t),i;if(e){var a=Dw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Fbe(this,i)}}function Fbe(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _o(t)}function _o(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dw(t)}function Si(t,e,n){return e=ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t){var e=Ube(t,"string");return Jh(e)==="symbol"?e:String(e)}function Ube(t,e){if(Jh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wbe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Jm().domain(Lw(0,c)).range([a,a+o-l]),f=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:f}},mR=function(e){return e.changedTouches&&!!e.changedTouches.length},bg=function(t){Bbe(n,t);var e=zbe(n);function n(r){var i;return Dbe(this,n),i=e.call(this,r),Si(_o(i),"handleDrag",function(a){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(a):i.state.isSlideMoving&&i.handleSlideDrag(a)}),Si(_o(i),"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&i.handleDrag(a.changedTouches[0])}),Si(_o(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=i.props,o=a.endIndex,l=a.onDragEnd,c=a.startIndex;l==null||l({endIndex:o,startIndex:c})}),i.detachDragEndListener()}),Si(_o(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Si(_o(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Si(_o(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Si(_o(i),"handleSlideDragStart",function(a){var o=mR(a)?a.changedTouches[0]:a;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(_o(i),"startX"),endX:i.handleTravellerDragStart.bind(_o(i),"endX")},i.state={},i}return jbe(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var a=i.startX,o=i.endX,l=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,m=f.length-1,p=Math.min(a,o),y=Math.max(a,o),P=n.getIndexInRange(l,p),_=n.getIndexInRange(l,y);return{startIndex:P-P%d,endIndex:_===m?m:_-_%d}}},{key:"getTextOfTick",value:function(i){var a=this.props,o=a.data,l=a.tickFormatter,c=a.dataKey,d=Ht(o[i],c,i);return Re(l)?l(d,i):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var a=this.state,o=a.slideMoveStartX,l=a.startX,c=a.endX,d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.startIndex,P=d.endIndex,_=d.onChange,A=i.pageX-o;A>0?A=Math.min(A,f+m-p-c,f+m-p-l):A<0&&(A=Math.max(A,f-l,f-c));var N=this.getIndex({startX:l+A,endX:c+A});(N.startIndex!==y||N.endIndex!==P)&&_&&_(N),this.setState({startX:l+A,endX:c+A,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,a){var o=mR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var a,o=this.state,l=o.brushMoveStartX,c=o.movingTravellerId,d=o.endX,f=o.startX,m=this.state[c],p=this.props,y=p.x,P=p.width,_=p.travellerWidth,A=p.onChange,N=p.gap,E=p.data,w={startX:this.state.startX,endX:this.state.endX},C=i.pageX-l;C>0?C=Math.min(C,y+P-_-m):C<0&&(C=Math.max(C,y-m)),w[c]=m+C;var $=this.getIndex(w),D=$.startIndex,S=$.endIndex,T=function(){var R=E.length-1;return c==="startX"&&(d>f?D%N===0:S%N===0)||d<f&&S===R||c==="endX"&&(d>f?S%N===0:D%N===0)||d>f&&S===R};this.setState((a={},Si(a,c,m+C),Si(a,"brushMoveStartX",i.pageX),a),function(){A&&T()&&A($)})}},{key:"handleTravellerMoveKeyboard",value:function(i,a){var o=this,l=this.state,c=l.scaleValues,d=l.startX,f=l.endX,m=this.state[a],p=c.indexOf(m);if(p!==-1){var y=p+i;if(!(y===-1||y>=c.length)){var P=c[y];a==="startX"&&P>=f||a==="endX"&&P<=d||this.setState(Si({},a,P),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.fill,f=i.stroke;return Z.createElement("rect",{stroke:f,fill:d,x:a,y:o,width:l,height:c})}},{key:"renderPanorama",value:function(){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.data,f=i.children,m=i.padding,p=W.exports.Children.only(f);return p?Z.cloneElement(p,{x:a,y:o,width:l,height:c,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(i,a){var o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,m=l.traveller,p=Math.max(i,this.props.x),y=r1(r1({},ke(this.props)),{},{x:p,y:c,width:d,height:f});return Z.createElement(Ge,{tabIndex:0,role:"slider",className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(m,y))}},{key:"renderSlide",value:function(i,a){var o=this.props,l=o.y,c=o.height,d=o.stroke,f=o.travellerWidth,m=Math.min(i,a)+f,p=Math.max(Math.abs(a-i)-f,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:l,width:p,height:c})}},{key:"renderText",value:function(){var i=this.props,a=i.startIndex,o=i.endIndex,l=i.y,c=i.height,d=i.travellerWidth,f=i.stroke,m=this.state,p=m.startX,y=m.endX,P=5,_={pointerEvents:"none",fill:f};return Z.createElement(Ge,{className:"recharts-brush-texts"},Z.createElement(Wu,$w({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-P,y:l+c/2},_),this.getTextOfTick(a)),Z.createElement(Wu,$w({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+d+P,y:l+c/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var i=this.props,a=i.data,o=i.className,l=i.children,c=i.x,d=i.y,f=i.width,m=i.height,p=i.alwaysShowText,y=this.state,P=y.startX,_=y.endX,A=y.isTextActive,N=y.isSlideMoving,E=y.isTravellerMoving,w=y.isTravellerFocused;if(!a||!a.length||!xe(c)||!xe(d)||!xe(f)||!xe(m)||f<=0||m<=0)return null;var C=vt("recharts-brush",o),$=Z.Children.count(l)===1,D=$be("userSelect","none");return Z.createElement(Ge,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(P,_),this.renderTravellerLayer(P,"startX"),this.renderTravellerLayer(_,"endX"),(A||N||E||w||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var a=i.x,o=i.y,l=i.width,c=i.height,d=i.stroke,f=Math.floor(o+c/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:o,width:l,height:c,fill:d,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:f,x2:a+l-1,y2:f,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:f+2,x2:a+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,a){var o;return Z.isValidElement(i)?o=Z.cloneElement(i,a):Re(i)?o=i(a):o=n.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(i,a){var o=i.data,l=i.width,c=i.x,d=i.travellerWidth,f=i.updateId,m=i.startIndex,p=i.endIndex;if(o!==a.prevData||f!==a.prevUpdateId)return r1({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:l},o&&o.length?Wbe({data:o,width:l,x:c,travellerWidth:d,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+l-d]);var y=a.scale.domain().map(function(P){return a.scale(P)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:l,startX:a.scale(i.startIndex),endX:a.scale(i.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(i,a){for(var o=i.length,l=0,c=o-1;c-l>1;){var d=Math.floor((l+c)/2);i[d]>a?c=d:l=d}return a>=i[c]?c:l}}]),n}(W.exports.PureComponent);Si(bg,"displayName","Brush");Si(bg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Hbe=iN;function qbe(t,e){var n;return Hbe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Kbe=qbe,Gbe=A3,Zbe=Zo,Ybe=Kbe,Xbe=ct,Qbe=ux;function Jbe(t,e,n){var r=Xbe(t)?Gbe:Ybe;return n&&Qbe(t,e,n)&&(e=void 0),r(t,Zbe(e))}var exe=Jbe,zo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n};function txe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var nxe=txe,rxe=iN;function ixe(t,e){var n=!0;return rxe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var axe=ixe,oxe=nxe,sxe=axe,lxe=Zo,cxe=ct,uxe=ux;function dxe(t,e,n){var r=cxe(t)?oxe:sxe;return n&&uxe(t,e,n)&&(e=void 0),r(t,lxe(e))}var tz=dxe,pR=A6;function hxe(t,e,n){e=="__proto__"&&pR?pR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fxe=hxe,mxe=fxe,pxe=S6,gxe=Zo;function yxe(t,e){var n={};return e=gxe(e),pxe(t,function(r,i,a){mxe(n,i,e(r,i,a))}),n}var vxe=yxe;function xg(t){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}var wxe=["x","y"];function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){bxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bxe(t,e,n){return e=xxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xxe(t){var e=_xe(t,"string");return xg(e)==="symbol"?e:String(e)}function _xe(t,e){if(xg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sxe(t,e){if(t==null)return{};var n=Exe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Exe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Axe(t,e){var n=t.x,r=t.y,i=Sxe(t,wxe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),m="".concat(e.width||i.width),p=parseInt(m,10);return xm(xm(xm(xm(xm({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function yR(t){return Z.createElement(Iw,YS({shapeType:"rectangle",propTransformer:Axe,activeClassName:"recharts-active-bar"},t))}var Pxe=["value","background"];function ef(t){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Nxe(t,e){if(t==null)return{};var n=Txe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Txe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nz(r.key),r)}}function Cxe(t,e,n){return e&&wR(t.prototype,e),n&&wR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ixe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XS(t,e)}function Oxe(t){var e=Rxe();return function(){var r=Bw(t),i;if(e){var a=Bw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Mxe(this,i)}}function Mxe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rm(t)}function Rm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bw(t)}function Gl(t,e,n){return e=nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nz(t){var e=Lxe(t,"string");return ef(e)==="symbol"?e:String(e)}function Lxe(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kr=function(t){Ixe(n,t);var e=Oxe(n);function n(){var r;kxe(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),Gl(Rm(r),"state",{isAnimationFinished:!1}),Gl(Rm(r),"id",Ac("recharts-bar-")),Gl(Rm(r),"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Gl(Rm(r),"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return Cxe(n,[{key:"renderRectanglesStatically",value:function(i){var a=this,o=this.props,l=o.shape,c=o.dataKey,d=o.activeIndex,f=o.activeBar,m=ke(this.props);return i&&i.map(function(p,y){var P=y===d,_=P?f:l,A=nr(nr(nr({},m),p),{},{isActive:P,option:_,index:y,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(Ge,jw({className:"recharts-bar-rectangle"},yc(a.props,p,y),{key:"rectangle-".concat(y)}),Z.createElement(yR,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,a=this.props,o=a.data,l=a.layout,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,m=a.animationEasing,p=a.animationId,y=this.state.prevData;return Z.createElement(Li,{begin:d,duration:f,isActive:c,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var _=P.t,A=o.map(function(N,E){var w=y&&y[E];if(w){var C=Bt(w.x,N.x),$=Bt(w.y,N.y),D=Bt(w.width,N.width),S=Bt(w.height,N.height);return nr(nr({},N),{},{x:C(_),y:$(_),width:D(_),height:S(_)})}if(l==="horizontal"){var T=Bt(0,N.height),O=T(_);return nr(nr({},N),{},{y:N.y+N.height-O,height:O})}var R=Bt(0,N.width),j=R(_);return nr(nr({},N),{},{width:j})});return Z.createElement(Ge,null,i.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var i=this.props,a=i.data,o=i.isAnimationActive,l=this.state.prevData;return o&&a&&a.length&&(!l||!Hs(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var i=this,a=this.props,o=a.data,l=a.dataKey,c=a.activeIndex,d=ke(this.props.background);return o.map(function(f,m){f.value;var p=f.background,y=Nxe(f,Pxe);if(!p)return null;var P=nr(nr(nr(nr(nr({},y),{},{fill:"#eee"},p),d),yc(i.props,f,m)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:l,index:m,key:"background-bar-".concat(m),className:"recharts-bar-background-rectangle"});return Z.createElement(yR,jw({option:i.props.background,isActive:m===c},P))})}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,c=o.xAxis,d=o.yAxis,f=o.layout,m=o.children,p=Hr(m,jf);if(!p)return null;var y=f==="vertical"?l[0].height/2:l[0].width/2,P=function(N,E){var w=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:w,errorVal:Ht(N,E)}},_={clipPath:i?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Ge,_,p.map(function(A,N){return Z.cloneElement(A,{key:"error-bar-".concat(N),data:l,xAxis:c,yAxis:d,layout:f,offset:y,dataPointFormatter:P})}))}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.data,l=i.className,c=i.xAxis,d=i.yAxis,f=i.left,m=i.top,p=i.width,y=i.height,P=i.isAnimationActive,_=i.background,A=i.id;if(a||!o||!o.length)return null;var N=this.state.isAnimationFinished,E=vt("recharts-bar",l),w=c&&c.allowDataOverflow,C=d&&d.allowDataOverflow,$=w||C,D=Pe(A)?this.id:A;return Z.createElement(Ge,{className:E},w||C?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(D)},Z.createElement("rect",{x:w?f:f-p/2,y:C?m:m-y/2,width:w?p:p*2,height:C?y:y*2}))):null,Z.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(D,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,D),(!P||N)&&ya.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:a.curData}:i.data!==a.curData?{curData:i.data}:null}}]),n}(W.exports.PureComponent);Gl(Kr,"displayName","Bar");Gl(Kr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gl(Kr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,y=Fye(r,n);if(!y)return null;var P=e.layout,_=n.props,A=_.dataKey,N=_.children,E=_.minPointSize,w=P==="horizontal"?o:a,C=d?w.scale.domain():null,$=Gye({numericAxis:w}),D=Hr(N,so),S=m.map(function(T,O){var R,j,U,V,G,X;if(d?R=Vye(d[f+O],C):(R=Ht(T,A),ct(R)||(R=[$,R])),P==="horizontal"){var ee,te=[o.scale(R[0]),o.scale(R[1])],J=te[0],le=te[1];j=_M({axis:a,ticks:l,bandSize:i,offset:y.offset,entry:T,index:O}),U=(ee=le??J)!==null&&ee!==void 0?ee:void 0,V=y.size;var Y=J-le;if(G=Number.isNaN(Y)?0:Y,X={x:j,y:o.y,width:V,height:o.height},Math.abs(E)>0&&Math.abs(G)<Math.abs(E)){var he=Fr(G||E)*(Math.abs(E)-Math.abs(G));U-=he,G+=he}}else{var pe=[a.scale(R[0]),a.scale(R[1])],fe=pe[0],Ne=pe[1];if(j=fe,U=_M({axis:o,ticks:c,bandSize:i,offset:y.offset,entry:T,index:O}),V=Ne-fe,G=y.size,X={x:a.x,y:U,width:a.width,height:G},Math.abs(E)>0&&Math.abs(V)<Math.abs(E)){var Ee=Fr(V||E)*(Math.abs(E)-Math.abs(V));V+=Ee}}return nr(nr(nr({},T),{},{x:j,y:U,width:V,height:G,value:d?R:R[1],payload:T,background:X},D&&D[O]&&D[O].props),{},{tooltipPayload:[LB(n,T)],tooltipPosition:{x:j+V/2,y:U+G/2}})});return nr({data:S,layout:P},p)});function _g(t){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function $xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rz(r.key),r)}}function Dxe(t,e,n){return e&&bR(t.prototype,e),n&&bR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ax(t,e,n){return e=rz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rz(t){var e=jxe(t,"string");return _g(e)==="symbol"?e:String(e)}function jxe(t,e){if(_g(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_g(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Px=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!Ps(d,Kr);return f.reduce(function(y,P){var _=n[P],A=_.orientation,N=_.domain,E=_.padding,w=E===void 0?{}:E,C=_.mirror,$=_.reversed,D="".concat(A).concat(C?"Mirror":""),S,T,O,R,j;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var U=N[1]-N[0],V=1/0,G=_.categoricalDomain.sort();G.forEach(function(Ne,Ee){Ee>0&&(V=Math.min((Ne||0)-(G[Ee-1]||0),V))});var X=V/U,ee=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(S=X*ee/2),_.padding==="no-gap"){var te=si(e.barCategoryGap,X*ee),J=X*ee/2;S=J-te-(J-te)/ee*te}}i==="xAxis"?T=[r.left+(w.left||0)+(S||0),r.left+r.width-(w.right||0)-(S||0)]:i==="yAxis"?T=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(S||0),r.top+r.height-(w.bottom||0)-(S||0)]:T=_.range,$&&(T=[T[1],T[0]]);var le=IB(_,a,p),Y=le.scale,he=le.realScaleType;Y.domain(N).range(T),OB(Y);var pe=MB(Y,Ka(Ka({},_),{},{realScaleType:he}));i==="xAxis"?(j=A==="top"&&!C||A==="bottom"&&C,O=r.left,R=m[D]-j*_.height):i==="yAxis"&&(j=A==="left"&&!C||A==="right"&&C,O=m[D]-j*_.width,R=r.top);var fe=Ka(Ka(Ka({},_),pe),{},{realScaleType:he,x:O,y:R,scale:Y,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return fe.bandSize=Ew(fe,pe),!_.hide&&i==="xAxis"?m[D]+=(j?-1:1)*fe.height:_.hide||(m[D]+=(j?-1:1)*fe.width),Ka(Ka({},y),{},Ax({},P,fe))},{})},iz=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Bxe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return iz({x:n,y:r},{x:i,y:a})},az=function(){function t(e){$xe(this,t),this.scale=e}return Dxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();Ax(az,"EPS",1e-4);var ON=function(e){var n=Object.keys(e).reduce(function(r,i){return Ka(Ka({},r),{},Ax({},i,az.create(e[i])))},{});return Ka(Ka({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return vxe(i,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return tz(i,function(a,o){return n[o].isInRange(a)})}})};function zxe(t){return(t%180+180)%180}var Fxe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zxe(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)};function Sg(t){return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){Vxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vxe(t,e,n){return e=Uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uxe(t){var e=Wxe(t,"string");return Sg(e)==="symbol"?e:String(e)}function Wxe(t,e){if(Sg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hxe(t,e){return Zxe(t)||Gxe(t,e)||Kxe(t,e)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(t,e){if(t){if(typeof t=="string")return ER(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ER(t,e)}}function ER(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Zxe(t){if(Array.isArray(t))return t}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}var Yxe=function(e,n){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,n):Re(e)?r=e(n):r=Z.createElement("line",QS({},n,{className:"recharts-reference-line-line"})),r},Xxe=function(e,n,r,i,a){var o=a.viewBox,l=o.x,c=o.y,d=o.width,f=o.height,m=a.position;if(r){var p=a.y,y=a.yAxis.orientation,P=e.y.apply(p,{position:m});if(zo(a,"discard")&&!e.y.isInRange(P))return null;var _=[{x:l+d,y:P},{x:l,y:P}];return y==="left"?_.reverse():_}if(n){var A=a.x,N=a.xAxis.orientation,E=e.x.apply(A,{position:m});if(zo(a,"discard")&&!e.x.isInRange(E))return null;var w=[{x:E,y:c+f},{x:E,y:c}];return N==="top"?w.reverse():w}if(i){var C=a.segment,$=C.map(function(D){return e.apply(D,{position:m})});return zo(a,"discard")&&exe($,function(D){return!e.isInRange(D)})?null:$}return null};function MN(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxis,a=t.yAxis,o=t.shape,l=t.className,c=t.alwaysShow,d=t.clipPathId;Rs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ON({x:i.scale,y:a.scale}),m=Kn(e),p=Kn(n),y=r&&r.length===2,P=Xxe(f,m,p,y,t);if(!P)return null;var _=Hxe(P,2),A=_[0],N=A.x,E=A.y,w=_[1],C=w.x,$=w.y,D=zo(t,"hidden")?"url(#".concat(d,")"):void 0,S=SR(SR({clipPath:D},ke(t,!0)),{},{x1:N,y1:E,x2:C,y2:$});return Z.createElement(Ge,{className:vt("recharts-reference-line",l)},Yxe(o,S),or.renderCallByParent(t,Bxe({x1:N,y1:E,x2:C,y2:$})))}MN.displayName="ReferenceLine";MN.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Eg(t){return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Qxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qxe(t,e,n){return e=Jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jxe(t){var e=e_e(t,"string");return Eg(e)==="symbol"?e:String(e)}function e_e(t,e){if(Eg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=ON({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return zo(e,"discard")&&!o.isInRange(l)?null:l};function hy(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,a=t.clipPathId,o=Kn(e),l=Kn(n);if(Rs(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=t_e(t);if(!c)return null;var d=c.x,f=c.y,m=t.shape,p=t.className,y=zo(t,"hidden")?"url(#".concat(a,")"):void 0,P=PR(PR({clipPath:y},ke(t,!0)),{},{cx:d,cy:f});return Z.createElement(Ge,{className:vt("recharts-reference-dot",p)},hy.renderDot(m,P),or.renderCallByParent(t,{x:d-r,y:f-r,width:2*r,height:2*r}))}hy.displayName="ReferenceDot";hy.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};hy.renderDot=function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):Re(t)?n=t(e):n=Z.createElement(Bf,JS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function Ag(t){return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(this,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){n_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e,n){return e=r_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t){var e=i_e(t,"string");return Ag(e)==="symbol"?e:String(e)}function i_e(t,e){if(Ag(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a_e=function(e,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,f=a.xAxis,m=a.yAxis;if(!f||!m)return null;var p=ON({x:f.scale,y:m.scale}),y={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},P={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(d,{position:"end"}):p.y.rangeMax};return zo(a,"discard")&&(!p.isInRange(y)||!p.isInRange(P))?null:iz(y,P)};function fy(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,l=t.clipPathId;Rs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Kn(e),d=Kn(n),f=Kn(r),m=Kn(i),p=t.shape;if(!c&&!d&&!f&&!m&&!p)return null;var y=a_e(c,d,f,m,t);if(!y&&!p)return null;var P=zo(t,"hidden")?"url(#".concat(l,")"):void 0;return Z.createElement(Ge,{className:vt("recharts-reference-area",a)},fy.renderRect(p,TR(TR({clipPath:P},ke(t,!0)),y)),or.renderCallByParent(t,y))}fy.displayName="ReferenceArea";fy.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};fy.renderRect=function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):Re(t)?n=t(e):n=Z.createElement(IN,eE({},e,{className:"recharts-reference-area-rect"})),n};function oz(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function o_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Fxe(r,n)}function s_e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function zw(t,e,n,r,i){return t*(e-t*n/2-r)>=0&&t*(e+t*n/2-i)<=0}function l_e(t,e){return oz(t,e+1)}function c_e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o;d<=a.length;){var m=r==null?void 0:r[c];if(m===void 0)return oz(r,d);var p=n(m,c),y=m.coordinate,P=c===0||zw(t,y,p,f,l);P||(c=0,f=o,d+=1),P&&(f=y+t*(p/2+i),c+=d)}return[]}function Pg(t){return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){u_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=h_e(t,"string");return Pg(e)==="symbol"?e:String(e)}function h_e(t,e){if(Pg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f_e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,d=o-1;d>=0;d--){var f=a[d],m=n(f,d);if(d===o-1){var p=t*(f.coordinate+t*m/2-c);a[d]=f=Nr(Nr({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate})}else a[d]=f=Nr(Nr({},f),{},{tickCoord:f.coordinate});var y=zw(t,f.tickCoord,m,l,c);y&&(c=f.tickCoord-t*(m/2+i),a[d]=Nr(Nr({},f),{},{isShow:!0}))}return a}function m_e(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var f=r[l-1],m=n(f,l-1),p=t*(f.coordinate+t*m/2-d);o[l-1]=f=Nr(Nr({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var y=zw(t,f.tickCoord,m,c,d);y&&(d=f.tickCoord-t*(m/2+i),o[l-1]=Nr(Nr({},f),{},{isShow:!0}))}for(var P=a?l-1:l,_=0;_<P;_++){var A=o[_],N=n(A,_);if(_===0){var E=t*(A.coordinate-t*N/2-c);o[_]=A=Nr(Nr({},A),{},{tickCoord:E<0?A.coordinate-E*t:A.coordinate})}else o[_]=A=Nr(Nr({},A),{},{tickCoord:A.coordinate});var w=zw(t,A.tickCoord,N,c,d);w&&(c=A.tickCoord+t*(N/2+i),o[_]=Nr(Nr({},A),{},{isShow:!0}))}return o}function tE(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||Ii.isSsr)return l_e(i,typeof c=="number"&&xe(c)?c:0);var p=[],y=l==="top"||l==="bottom"?"width":"height",P=f&&y==="width"?Qm(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(w,C){var $=Re(d)?d(w.value,C):w.value;return y==="width"?o_e(Qm($,{fontSize:e,letterSpacing:n}),P,m):Qm($,{fontSize:e,letterSpacing:n})[y]},A=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,N=s_e(a,A,y);return c==="equidistantPreserveStart"?c_e(A,N,_,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=m_e(A,N,_,i,o,c==="preserveStartEnd"):p=f_e(A,N,_,i,o),p.filter(function(E){return E.isShow}))}var p_e=["viewBox"],g_e=["viewBox"],y_e=["ticks"];function tf(t){return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){RN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1(t,e){if(t==null)return{};var n=v_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sz(r.key),r)}}function b_e(t,e,n){return e&&IR(t.prototype,e),n&&IR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nE(t,e)}function __e(t){var e=A_e();return function(){var r=Fw(t),i;if(e){var a=Fw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return S_e(this,i)}}function S_e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E_e(t)}function E_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fw(t){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fw(t)}function RN(t,e,n){return e=sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t){var e=P_e(t,"string");return tf(e)==="symbol"?e:String(e)}function P_e(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rp=function(t){x_e(n,t);var e=__e(n);function n(r){var i;return w_e(this,n),i=e.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return b_e(n,[{key:"shouldComponentUpdate",value:function(i,a){var o=i.viewBox,l=i1(i,p_e),c=this.props,d=c.viewBox,f=i1(c,g_e);return!gh(o,d)||!gh(l,f)||!gh(a,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var a=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var a=this.props,o=a.x,l=a.y,c=a.width,d=a.height,f=a.orientation,m=a.tickSize,p=a.mirror,y=a.tickMargin,P,_,A,N,E,w,C=p?-1:1,$=i.tickSize||m,D=xe(i.tickCoord)?i.tickCoord:i.coordinate;switch(f){case"top":P=_=i.coordinate,N=l+ +!p*d,A=N-C*$,w=A-C*y,E=D;break;case"left":A=N=i.coordinate,_=o+ +!p*c,P=_-C*$,E=P-C*y,w=D;break;case"right":A=N=i.coordinate,_=o+ +p*c,P=_+C*$,E=P+C*y,w=D;break;default:P=_=i.coordinate,N=l+ +p*d,A=N+C*$,w=A+C*y,E=D;break}return{line:{x1:P,y1:A,x2:_,y2:N},tick:{x:E,y:w}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,a=i.orientation,o=i.mirror,l;switch(a){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,a=i.orientation,o=i.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.mirror,m=i.axisLine,p=jr(jr(jr({},ke(this.props)),ke(m)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);p=jr(jr({},p),{},{x1:a,y1:o+y*c,x2:a+l,y2:o+y*c})}else{var P=+(d==="left"&&!f||d==="right"&&f);p=jr(jr({},p),{},{x1:a+P*l,y1:o,x2:a+P*l,y2:o+c})}return Z.createElement("line",th({},p,{className:vt("recharts-cartesian-axis-line",Hn(m,"className"))}))}},{key:"renderTicks",value:function(i,a,o){var l=this,c=this.props,d=c.tickLine,f=c.stroke,m=c.tick,p=c.tickFormatter,y=c.unit,P=tE(jr(jr({},this.props),{},{ticks:i}),a,o),_=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),N=ke(this.props),E=ke(m),w=jr(jr({},N),{},{fill:"none"},ke(d)),C=P.map(function($,D){var S=l.getTickLineCoord($),T=S.line,O=S.tick,R=jr(jr(jr(jr({textAnchor:_,verticalAnchor:A},N),{},{stroke:"none",fill:f},E),O),{},{index:D,payload:$,visibleTicksCount:P.length,tickFormatter:p});return Z.createElement(Ge,th({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D)},yc(l.props,$,D)),d&&Z.createElement("line",th({},w,T,{className:vt("recharts-cartesian-axis-tick-line",Hn(d,"className"))})),m&&n.renderTickItem(m,R,"".concat(Re(p)?p($.value,D):$.value).concat(y||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var i=this,a=this.props,o=a.axisLine,l=a.width,c=a.height,d=a.ticksGenerator,f=a.className,m=a.hide;if(m)return null;var p=this.props,y=p.ticks,P=i1(p,y_e),_=y;return Re(d)&&(_=y&&y.length>0?d(this.props):d(P)),l<=0||c<=0||!_||!_.length?null:Z.createElement(Ge,{className:vt("recharts-cartesian-axis",f),ref:function(N){i.layerReference=N}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,a,o){var l;return Z.isValidElement(i)?l=Z.cloneElement(i,a):Re(i)?l=i(a):l=Z.createElement(Wu,th({},a,{className:"recharts-cartesian-axis-tick-value"}),o),l}}]),n}(W.exports.Component);RN(rp,"displayName","CartesianAxis");RN(rp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var N_e=["x1","y1","x2","y2","key"],T_e=["offset"];function nf(t){return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function OR(t,e){if(t==null)return{};var n=k_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){LN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lz(r.key),r)}}function I_e(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function M_e(t){var e=$_e();return function(){var r=Vw(t),i;if(e){var a=Vw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return R_e(this,i)}}function R_e(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L_e(t)}function L_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vw(t)}function LN(t,e,n){return e=lz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lz(t){var e=D_e(t,"string");return nf(e)==="symbol"?e:String(e)}function D_e(t,e){if(nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sa=function(t){O_e(n,t);var e=M_e(n);function n(){return C_e(this,n),e.apply(this,arguments)}return I_e(n,[{key:"renderHorizontal",value:function(i){var a=this,o=this.props,l=o.x,c=o.width,d=o.horizontal;if(!i||!i.length)return null;var f=i.map(function(m,p){var y=Al(Al({},a.props),{},{x1:l,y1:m,x2:l+c,y2:m,key:"line-".concat(p),index:p});return n.renderLineItem(d,y)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}},{key:"renderVertical",value:function(i){var a=this,o=this.props,l=o.y,c=o.height,d=o.vertical;if(!i||!i.length)return null;var f=i.map(function(m,p){var y=Al(Al({},a.props),{},{x1:m,y1:l,x2:m,y2:l+c,key:"line-".concat(p),index:p});return n.renderLineItem(d,y)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}},{key:"renderVerticalStripes",value:function(i){var a=this.props.verticalFill;if(!a||!a.length)return null;var o=this.props,l=o.fillOpacity,c=o.x,d=o.y,f=o.width,m=o.height,p=i.map(function(P){return Math.round(P+c-c)}).sort(function(P,_){return P-_});c!==p[0]&&p.unshift(0);var y=p.map(function(P,_){var A=!p[_+1],N=A?c+f-P:p[_+1]-P;if(N<=0)return null;var E=_%a.length;return Z.createElement("rect",{key:"react-".concat(_),x:P,y:d,width:N,height:m,stroke:"none",fill:a[E],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}},{key:"renderHorizontalStripes",value:function(i){var a=this.props.horizontalFill;if(!a||!a.length)return null;var o=this.props,l=o.fillOpacity,c=o.x,d=o.y,f=o.width,m=o.height,p=i.map(function(P){return Math.round(P+d-d)}).sort(function(P,_){return P-_});d!==p[0]&&p.unshift(0);var y=p.map(function(P,_){var A=!p[_+1],N=A?d+m-P:p[_+1]-P;if(N<=0)return null;var E=_%a.length;return Z.createElement("rect",{key:"react-".concat(_),y:P,x:c,height:N,width:f,stroke:"none",fill:a[E],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var a=this.props,o=a.fillOpacity,l=a.x,c=a.y,d=a.width,f=a.height;return Z.createElement("rect",{x:l,y:c,width:d,height:f,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.horizontal,f=i.vertical,m=i.horizontalCoordinatesGenerator,p=i.verticalCoordinatesGenerator,y=i.xAxis,P=i.yAxis,_=i.offset,A=i.chartWidth,N=i.chartHeight,E=i.syncWithTicks,w=i.horizontalValues,C=i.verticalValues;if(!xe(l)||l<=0||!xe(c)||c<=0||!xe(a)||a!==+a||!xe(o)||o!==+o)return null;var $=this.props,D=$.horizontalPoints,S=$.verticalPoints;if((!D||!D.length)&&Re(m)){var T=w&&w.length;D=m({yAxis:Al(Al({},P),{},{ticks:T?w:P.ticks}),width:A,height:N,offset:_},T?!0:E)}if((!S||!S.length)&&Re(p)){var O=C&&C.length;S=p({xAxis:Al(Al({},y),{},{ticks:O?C:y.ticks}),width:A,height:N,offset:_},O?!0:E)}return Z.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),d&&this.renderHorizontal(D),f&&this.renderVertical(S),d&&this.renderHorizontalStripes(D),f&&this.renderVerticalStripes(S))}}],[{key:"renderLineItem",value:function(i,a){var o;if(Z.isValidElement(i))o=Z.cloneElement(i,a);else if(Re(i))o=i(a);else{var l=a.x1,c=a.y1,d=a.x2,f=a.y2,m=a.key,p=OR(a,N_e),y=ke(p);y.offset;var P=OR(y,T_e);o=Z.createElement("line",rE({},P,{x1:l,y1:c,x2:d,y2:f,fill:"none",key:m}))}return o}}]),n}(W.exports.PureComponent);LN(Sa,"displayName","CartesianGrid");LN(Sa,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var j_e=["type","layout","connectNulls","ref"];function rf(t){return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function B_e(t,e){if(t==null)return{};var n=z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(this,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){No(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cd(t){return W_e(t)||U_e(t)||V_e(t)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function U_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W_e(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cz(r.key),r)}}function q_e(t,e,n){return e&&$R(t.prototype,e),n&&$R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oE(t,e)}function oE(t,e){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oE(t,e)}function G_e(t){var e=Y_e();return function(){var r=Uw(t),i;if(e){var a=Uw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Z_e(this,i)}}function Z_e(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fu(t)}function fu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uw(t)}function No(t,e,n){return e=cz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cz(t){var e=X_e(t,"string");return rf(e)==="symbol"?e:String(e)}function X_e(t,e){if(rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ho=function(t){K_e(n,t);var e=G_e(n);function n(){var r;H_e(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),No(fu(r),"state",{isAnimationFinished:!0,totalLength:0}),No(fu(r),"getStrokeDasharray",function(l,c,d){for(var f=d.reduce(function(E,w){return E+w}),m=Math.floor(l/f),p=l%f,y=c-l,P=[],_=0,A=0;;A+=d[_],++_)if(A+d[_]>p){P=[].concat(Cd(d.slice(0,_)),[p-A]);break}var N=P.length%2===0?[0,y]:[y];return[].concat(Cd(n.repeat(d,m)),Cd(P),N).map(function(E){return"".concat(E,"px")}).join(", ")}),No(fu(r),"id",Ac("recharts-line-")),No(fu(r),"pathRef",function(l){r.mainCurve=l}),No(fu(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),No(fu(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q_e(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,c=o.xAxis,d=o.yAxis,f=o.layout,m=o.children,p=Hr(m,jf);if(!p)return null;var y=function(A,N){return{x:A.x,y:A.y,value:A.value,errorVal:Ht(A.payload,N)}},P={clipPath:i?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Ge,P,p.map(function(_,A){return Z.cloneElement(_,{key:"bar-".concat(A),data:l,xAxis:c,yAxis:d,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(i,a,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,m=c.dataKey,p=ke(this.props),y=ke(d,!0),P=f.map(function(A,N){var E=xi(xi(xi({key:"dot-".concat(N),r:3},p),y),{},{value:A.value,dataKey:m,cx:A.x,cy:A.y,index:N,payload:A.payload});return n.renderDotItem(d,E)}),_={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return Z.createElement(Ge,ip({className:"recharts-line-dots",key:"dots"},_),P)}},{key:"renderCurveStatically",value:function(i,a,o,l){var c=this.props,d=c.type,f=c.layout,m=c.connectNulls;c.ref;var p=B_e(c,j_e),y=xi(xi(xi({},ke(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:i},l),{},{type:d,layout:f,connectNulls:m});return Z.createElement(dc,ip({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var o=this,l=this.props,c=l.points,d=l.strokeDasharray,f=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,y=l.animationEasing,P=l.animationId,_=l.animateNewValues,A=l.width,N=l.height,E=this.state,w=E.prevPoints,C=E.totalLength;return Z.createElement(Li,{begin:m,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(P),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var D=$.t;if(w){var S=w.length/c.length,T=c.map(function(V,G){var X=Math.floor(G*S);if(w[X]){var ee=w[X],te=Bt(ee.x,V.x),J=Bt(ee.y,V.y);return xi(xi({},V),{},{x:te(D),y:J(D)})}if(_){var le=Bt(A*2,V.x),Y=Bt(N/2,V.y);return xi(xi({},V),{},{x:le(D),y:Y(D)})}return xi(xi({},V),{},{x:V.x,y:V.y})});return o.renderCurveStatically(T,i,a)}var O=Bt(0,C),R=O(D),j;if(d){var U="".concat(d).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});j=o.getStrokeDasharray(R,C,U)}else j="".concat(R,"px ").concat(C-R,"px");return o.renderCurveStatically(c,i,a,{strokeDasharray:j})})}},{key:"renderCurve",value:function(i,a){var o=this.props,l=o.points,c=o.isAnimationActive,d=this.state,f=d.prevPoints,m=d.totalLength;return c&&l&&l.length&&(!f&&m>0||!Hs(f,l))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(l,i,a)}},{key:"render",value:function(){var i,a=this.props,o=a.hide,l=a.dot,c=a.points,d=a.className,f=a.xAxis,m=a.yAxis,p=a.top,y=a.left,P=a.width,_=a.height,A=a.isAnimationActive,N=a.id;if(o||!c||!c.length)return null;var E=this.state.isAnimationFinished,w=c.length===1,C=vt("recharts-line",d),$=f&&f.allowDataOverflow,D=m&&m.allowDataOverflow,S=$||D,T=Pe(N)?this.id:N,O=(i=ke(l))!==null&&i!==void 0?i:{r:3,strokeWidth:2},R=O.r,j=R===void 0?3:R,U=O.strokeWidth,V=U===void 0?2:U,G=x3(l)?l:{},X=G.clipDot,ee=X===void 0?!0:X,te=j*2+V;return Z.createElement(Ge,{className:C},$||D?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(T)},Z.createElement("rect",{x:$?y:y-P/2,y:D?p:p-_/2,width:$?P:P*2,height:D?_:_*2})),!ee&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Z.createElement("rect",{x:y-te/2,y:p-te/2,width:P+te,height:_+te}))):null,!w&&this.renderCurve(S,T),this.renderErrorBar(S,T),(w||l)&&this.renderDots(S,ee,T),(!A||E)&&ya.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var o=i.length%2!==0?[].concat(Cd(i),[0]):i,l=[],c=0;c<a;++c)l=[].concat(Cd(l),Cd(o));return l}},{key:"renderDotItem",value:function(i,a){var o;if(Z.isValidElement(i))o=Z.cloneElement(i,a);else if(Re(i))o=i(a);else{var l=vt("recharts-line-dot",i?i.className:"");o=Z.createElement(Bf,ip({},a,{className:l}))}return o}}]),n}(W.exports.PureComponent);No(Ho,"displayName","Line");No(Ho,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ii.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});No(Ho,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,m=c.map(function(p,y){var P=Ht(p,o);return f==="horizontal"?{x:Gh({axis:n,ticks:i,bandSize:l,entry:p,index:y}),y:Pe(P)?null:r.scale(P),value:P,payload:p}:{x:Pe(P)?null:n.scale(P),y:Gh({axis:r,ticks:a,bandSize:l,entry:p,index:y}),value:P,payload:p}});return xi({points:m,layout:f},d)});var Q_e=["layout","type","stroke","connectNulls","isRange","ref"],uz;function af(t){return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function J_e(t,e){if(t==null)return{};var n=e1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dz(r.key),r)}}function n1e(t,e,n){return e&&jR(t.prototype,e),n&&jR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function i1e(t){var e=o1e();return function(){var r=Ww(t),i;if(e){var a=Ww(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return a1e(this,i)}}function a1e(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lm(t)}function Lm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ww(t)}function Io(t,e,n){return e=dz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dz(t){var e=s1e(t,"string");return af(e)==="symbol"?e:String(e)}function s1e(t,e){if(af(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var io=function(t){r1e(n,t);var e=i1e(n);function n(){var r;t1e(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),Io(Lm(r),"state",{isAnimationFinished:!0}),Io(Lm(r),"id",Ac("recharts-area-")),Io(Lm(r),"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(l)&&l()}),Io(Lm(r),"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(l)&&l()}),r}return n1e(n,[{key:"renderDots",value:function(i,a,o){var l=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(l&&!c)return null;var d=this.props,f=d.dot,m=d.points,p=d.dataKey,y=ke(this.props),P=ke(f,!0),_=m.map(function(N,E){var w=Cl(Cl(Cl({key:"dot-".concat(E),r:3},y),P),{},{dataKey:p,cx:N.x,cy:N.y,index:E,value:N.value,payload:N.payload});return n.renderDotItem(f,w)}),A={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return Z.createElement(Ge,_u({className:"recharts-area-dots"},A),_)}},{key:"renderHorizontalRect",value:function(i){var a=this.props,o=a.baseLine,l=a.points,c=a.strokeWidth,d=l[0].x,f=l[l.length-1].x,m=i*Math.abs(d-f),p=Kl(l.map(function(y){return y.y||0}));return xe(o)&&typeof o=="number"?p=Math.max(o,p):o&&ct(o)&&o.length&&(p=Math.max(Kl(o.map(function(y){return y.y||0})),p)),xe(p)?Z.createElement("rect",{x:d<f?d:d-m,y:0,width:m,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(i){var a=this.props,o=a.baseLine,l=a.points,c=a.strokeWidth,d=l[0].y,f=l[l.length-1].y,m=i*Math.abs(d-f),p=Kl(l.map(function(y){return y.x||0}));return xe(o)&&typeof o=="number"?p=Math.max(o,p):o&&ct(o)&&o.length&&(p=Math.max(Kl(o.map(function(y){return y.x||0})),p)),xe(p)?Z.createElement("rect",{x:0,y:d<f?d:d-m,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(i){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(i):this.renderHorizontalRect(i)}},{key:"renderAreaStatically",value:function(i,a,o,l){var c=this.props,d=c.layout,f=c.type,m=c.stroke,p=c.connectNulls,y=c.isRange;c.ref;var P=J_e(c,Q_e);return Z.createElement(Ge,{clipPath:o?"url(#clipPath-".concat(l,")"):null},Z.createElement(dc,_u({},ke(P,!0),{points:i,connectNulls:p,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&Z.createElement(dc,_u({},ke(this.props),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:i})),m!=="none"&&y&&Z.createElement(dc,_u({},ke(this.props),{className:"recharts-area-curve",layout:d,type:f,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(i,a){var o=this,l=this.props,c=l.points,d=l.baseLine,f=l.isAnimationActive,m=l.animationBegin,p=l.animationDuration,y=l.animationEasing,P=l.animationId,_=this.state,A=_.prevPoints,N=_.prevBaseLine;return Z.createElement(Li,{begin:m,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"area-".concat(P),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var w=E.t;if(A){var C=A.length/c.length,$=c.map(function(O,R){var j=Math.floor(R*C);if(A[j]){var U=A[j],V=Bt(U.x,O.x),G=Bt(U.y,O.y);return Cl(Cl({},O),{},{x:V(w),y:G(w)})}return O}),D;if(xe(d)&&typeof d=="number"){var S=Bt(N,d);D=S(w)}else if(Pe(d)||Cf(d)){var T=Bt(N,0);D=T(w)}else D=d.map(function(O,R){var j=Math.floor(R*C);if(N[j]){var U=N[j],V=Bt(U.x,O.x),G=Bt(U.y,O.y);return Cl(Cl({},O),{},{x:V(w),y:G(w)})}return O});return o.renderAreaStatically($,D,i,a)}return Z.createElement(Ge,null,Z.createElement("defs",null,Z.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(w))),Z.createElement(Ge,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(c,d,i,a)))})}},{key:"renderArea",value:function(i,a){var o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,f=this.state,m=f.prevPoints,p=f.prevBaseLine,y=f.totalLength;return d&&l&&l.length&&(!m&&y>0||!Hs(m,l)||!Hs(p,c))?this.renderAreaWithAnimation(i,a):this.renderAreaStatically(l,c,i,a)}},{key:"render",value:function(){var i,a=this.props,o=a.hide,l=a.dot,c=a.points,d=a.className,f=a.top,m=a.left,p=a.xAxis,y=a.yAxis,P=a.width,_=a.height,A=a.isAnimationActive,N=a.id;if(o||!c||!c.length)return null;var E=this.state.isAnimationFinished,w=c.length===1,C=vt("recharts-area",d),$=p&&p.allowDataOverflow,D=y&&y.allowDataOverflow,S=$||D,T=Pe(N)?this.id:N,O=(i=ke(l))!==null&&i!==void 0?i:{r:3,strokeWidth:2},R=O.r,j=R===void 0?3:R,U=O.strokeWidth,V=U===void 0?2:U,G=x3(l)?l:{},X=G.clipDot,ee=X===void 0?!0:X,te=j*2+V;return Z.createElement(Ge,{className:C},$||D?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(T)},Z.createElement("rect",{x:$?m:m-P/2,y:D?f:f-_/2,width:$?P:P*2,height:D?_:_*2})),!ee&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Z.createElement("rect",{x:m-te/2,y:f-te/2,width:P+te,height:_+te}))):null,w?null:this.renderArea(S,T),(l||w)&&this.renderDots(S,ee,T),(!A||E)&&ya.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,curBaseLine:i.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:i.points!==a.curPoints||i.baseLine!==a.curBaseLine?{curPoints:i.points,curBaseLine:i.baseLine}:null}}]),n}(W.exports.PureComponent);uz=io;Io(io,"displayName","Area");Io(io,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Io(io,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(xe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Io(io,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,y=e.layout,P=d&&d.length,_=uz.getBaseValue(e,n,r,i),A=!1,N=m.map(function(w,C){var $=Ht(w,c),D;P?D=d[f+C]:(D=$,ct(D)?A=!0:D=[_,D]);var S=Pe(D[1])||P&&Pe($);return y==="horizontal"?{x:Gh({axis:r,ticks:a,bandSize:l,entry:w,index:C}),y:S?null:i.scale(D[1]),value:D,payload:w}:{x:S?null:r.scale(D[1]),y:Gh({axis:i,ticks:o,bandSize:l,entry:w,index:C}),value:D,payload:w}}),E;return P||A?E=N.map(function(w){return y==="horizontal"?{x:w.x,y:!Pe(Hn(w,"value[0]"))&&!Pe(Hn(w,"y"))?i.scale(Hn(w,"value[0]")):null}:{x:Pe(Hn(w,"value[0]"))?null:r.scale(Hn(w,"value[0]")),y:w.y}}):y==="horizontal"?E=i.scale(_):E=r.scale(_),Cl({points:N,baseLine:E,layout:y,isRange:A},p)});Io(io,"renderDotItem",function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):Re(t)?n=t(e):n=Z.createElement(Bf,_u({},e,{className:"recharts-area-dot"})),n});var Nx=function(){return null};Nx.displayName="ZAxis";Nx.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var l1e=["option","isActive"];function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function c1e(t,e){if(t==null)return{};var n=u1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d1e(t){var e=t.option,n=t.isActive,r=c1e(t,l1e);return typeof e=="string"?Z.createElement(Iw,ap({option:Z.createElement(lx,ap({type:e},r)),isActive:n,shapeType:"symbols"},r)):Z.createElement(Iw,ap({option:e,isActive:n,shapeType:"symbols"},r))}function of(t){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function la(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Zl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hz(r.key),r)}}function f1e(t,e,n){return e&&zR(t.prototype,e),n&&zR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function p1e(t){var e=y1e();return function(){var r=Hw(t),i;if(e){var a=Hw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return g1e(this,i)}}function g1e(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $m(t)}function $m(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hw(t)}function Zl(t,e,n){return e=hz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hz(t){var e=v1e(t,"string");return of(e)==="symbol"?e:String(e)}function v1e(t,e){if(of(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tx=function(t){m1e(n,t);var e=p1e(n);function n(){var r;h1e(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),Zl($m(r),"state",{isAnimationFinished:!1}),Zl($m(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Zl($m(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Zl($m(r),"id",Ac("recharts-scatter-")),r}return f1e(n,[{key:"renderSymbolsStatically",value:function(i){var a=this,o=this.props,l=o.shape,c=o.activeShape,d=o.activeIndex,f=ke(this.props);return i.map(function(m,p){var y=d===p,P=y?c:l,_=la(la({key:"symbol-".concat(p)},f),m);return Z.createElement(Ge,op({className:"recharts-scatter-symbol"},yc(a.props,m,p),{key:"symbol-".concat(p),role:"img"}),Z.createElement(d1e,op({option:P,isActive:y},_)))})}},{key:"renderSymbolsWithAnimation",value:function(){var i=this,a=this.props,o=a.points,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,p=this.state.prevPoints;return Z.createElement(Li,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var P=y.t,_=o.map(function(A,N){var E=p&&p[N];if(E){var w=Bt(E.cx,A.cx),C=Bt(E.cy,A.cy),$=Bt(E.size,A.size);return la(la({},A),{},{cx:w(P),cy:C(P),size:$(P)})}var D=Bt(0,A.size);return la(la({},A),{},{size:D(P)})});return Z.createElement(Ge,null,i.renderSymbolsStatically(_))})}},{key:"renderSymbols",value:function(){var i=this.props,a=i.points,o=i.isAnimationActive,l=this.state.prevPoints;return o&&a&&a.length&&(!l||!Hs(l,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.children,f=Hr(d,jf);return f?f.map(function(m,p){var y=m.props.direction;return Z.cloneElement(m,{key:p,data:o,xAxis:l,yAxis:c,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(_,A){return{x:_.cx,y:_.cy,value:y==="x"?+_.node.x:+_.node.y,errorVal:Ht(_,A)}}})}):null}},{key:"renderLine",value:function(){var i=this.props,a=i.points,o=i.line,l=i.lineType,c=i.lineJointType,d=ke(this.props),f=ke(o),m,p;if(l==="joint")m=a.map(function(C){return{x:C.cx,y:C.cy}});else if(l==="fitting"){var y=wte(a),P=y.xmin,_=y.xmax,A=y.a,N=y.b,E=function($){return A*$+N};m=[{x:P,y:E(P)},{x:_,y:E(_)}]}var w=la(la(la({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:m});return Z.isValidElement(o)?p=Z.cloneElement(o,w):Re(o)?p=o(w):p=Z.createElement(dc,op({},w,{type:c})),Z.createElement(Ge,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.points,l=i.line,c=i.className,d=i.xAxis,f=i.yAxis,m=i.left,p=i.top,y=i.width,P=i.height,_=i.id,A=i.isAnimationActive;if(a||!o||!o.length)return null;var N=this.state.isAnimationFinished,E=vt("recharts-scatter",c),w=d&&d.allowDataOverflow,C=f&&f.allowDataOverflow,$=w||C,D=Pe(_)?this.id:_;return Z.createElement(Ge,{className:E,clipPath:$?"url(#clipPath-".concat(D,")"):null},w||C?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(D)},Z.createElement("rect",{x:w?m:m-y/2,y:C?p:p-P/2,width:w?y:y*2,height:C?P:P*2}))):null,l&&this.renderLine(),this.renderErrorBar(),Z.createElement(Ge,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!A||N)&&ya.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}}]),n}(W.exports.PureComponent);Zl(Tx,"displayName","Scatter");Zl(Tx,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ii.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Zl(Tx,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,l=t.yAxisTicks,c=t.offset,d=i.props.tooltipType,f=Hr(i.props.children,so),m=Pe(e.dataKey)?i.props.dataKey:e.dataKey,p=Pe(n.dataKey)?i.props.dataKey:n.dataKey,y=r&&r.dataKey,P=r?r.range:Nx.defaultProps.range,_=P&&P[0],A=e.scale.bandwidth?e.scale.bandwidth():0,N=n.scale.bandwidth?n.scale.bandwidth():0,E=a.map(function(w,C){var $=Ht(w,m),D=Ht(w,p),S=!Pe(y)&&Ht(w,y)||"-",T=[{name:Pe(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:$,payload:w,dataKey:m,type:d},{name:Pe(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:D,payload:w,dataKey:p,type:d}];S!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:w,dataKey:y,type:d});var O=Gh({axis:e,ticks:o,bandSize:A,entry:w,index:C,dataKey:m}),R=Gh({axis:n,ticks:l,bandSize:N,entry:w,index:C,dataKey:p}),j=S!=="-"?r.scale(S):_,U=Math.sqrt(Math.max(j,0)/Math.PI);return la(la({},w),{},{cx:O,cy:R,x:O-U,y:R-U,xAxis:e,yAxis:n,zAxis:r,width:2*U,height:2*U,size:j,node:{x:$,y:D,z:S},tooltipPayload:T,tooltipPosition:{x:O,y:R},payload:w},f&&f[C]&&f[C].props)});return la({points:E},c)});var Rr=function(){return null};Rr.displayName="XAxis";Rr.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var cn=function(){return null};cn.displayName="YAxis";cn.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var w1e=Zo,b1e=oy,x1e=rx;function _1e(t){return function(e,n,r){var i=Object(e);if(!b1e(e)){var a=w1e(n);e=x1e(e),n=function(l){return a(i[l],l,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var S1e=_1e,E1e=QB;function A1e(t){var e=E1e(t),n=e%1;return e===e?n?e-n:e:0}var P1e=A1e,N1e=j3,T1e=Zo,k1e=P1e,C1e=Math.max;function I1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:k1e(n);return i<0&&(i=C1e(r+i,0)),N1e(t,T1e(e),i)}var O1e=I1e,M1e=S1e,R1e=O1e,L1e=M1e(R1e),$1e=L1e,D1e="Invariant failed";function j1e(t,e){if(!t)throw new Error(D1e)}function fz(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Tt(e,n,r,i),l=Tt(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function FR(t){return V1e(t)||F1e(t)||z1e(t)||B1e()}function B1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z1e(t,e){if(t){if(typeof t=="string")return cE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(t,e)}}function F1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V1e(t){if(Array.isArray(t))return cE(t)}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uE=function(e,n,r,i,a){var o=Hr(e,MN),l=Hr(e,hy),c=[].concat(FR(o),FR(l)),d=Hr(e,fy),f="".concat(i,"Id"),m=i[0],p=n;if(c.length&&(p=c.reduce(function(_,A){if(A.props[f]===r&&zo(A.props,"extendDomain")&&xe(A.props[m])){var N=A.props[m];return[Math.min(_[0],N),Math.max(_[1],N)]}return _},p)),d.length){var y="".concat(m,"1"),P="".concat(m,"2");p=d.reduce(function(_,A){if(A.props[f]===r&&zo(A.props,"extendDomain")&&xe(A.props[y])&&xe(A.props[P])){var N=A.props[y],E=A.props[P];return[Math.min(_[0],N,E),Math.max(_[1],N,E)]}return _},p)}return a&&a.length&&(p=a.reduce(function(_,A){return xe(A)?[Math.min(_[0],A),Math.max(_[1],A)]:_},p)),p},mz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,m||c,p),P=n?n+d:d;return c._events[P]?c._events[P].fn?c._events[P]=[c._events[P],y]:c._events[P].push(y):(c._events[P]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,P=new Array(y);p<y;p++)P[p]=m[p].fn;return P},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,y,P){var _=n?n+d:d;if(!this._events[_])return!1;var A=this._events[_],N=arguments.length,E,w;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),N){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,m),!0;case 4:return A.fn.call(A.context,f,m,p),!0;case 5:return A.fn.call(A.context,f,m,p,y),!0;case 6:return A.fn.call(A.context,f,m,p,y,P),!0}for(w=1,E=new Array(N-1);w<N;w++)E[w-1]=arguments[w];A.fn.apply(A.context,E)}else{var C=A.length,$;for(w=0;w<C;w++)switch(A[w].once&&this.removeListener(d,A[w].fn,void 0,!0),N){case 1:A[w].fn.call(A[w].context);break;case 2:A[w].fn.call(A[w].context,f);break;case 3:A[w].fn.call(A[w].context,f,m);break;case 4:A[w].fn.call(A[w].context,f,m,p);break;default:if(!E)for($=1,E=new Array(N-1);$<N;$++)E[$-1]=arguments[$];A[w].fn.apply(A[w].context,E)}}return!0},l.prototype.on=function(d,f,m){return a(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return a(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return o(this,y),this;var P=this._events[y];if(P.fn)P.fn===f&&(!p||P.once)&&(!m||P.context===m)&&o(this,y);else{for(var _=0,A=[],N=P.length;_<N;_++)(P[_].fn!==f||p&&!P[_].once||m&&P[_].context!==m)&&A.push(P[_]);A.length?this._events[y]=A.length===1?A[0]:A:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(mz);const U1e=mz.exports;var _i=new U1e;_i.setMaxListeners&&_i.setMaxListeners(10);var a1="recharts.syncMouseEvents";function Ng(t){return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function W1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pz(r.key),r)}}function H1e(t,e,n){return e&&VR(t.prototype,e),n&&VR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o1(t,e,n){return e=pz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t){var e=q1e(t,"string");return Ng(e)==="symbol"?e:String(e)}function q1e(t,e){if(Ng(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ng(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K1e=function(){function t(){W1e(this,t),o1(this,"activeIndex",0),o1(this,"coordinateList",[]),o1(this,"layout","horizontal")}return H1e(t,[{key:"setDetails",value:function(n){var r=n.coordinateList,i=r===void 0?[]:r,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=i??this.coordinateList,this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,a=n.height,o=this.coordinateList[this.activeIndex].coordinate,l=r+o,c=i+this.offset.top+a/2;this.mouseHandlerCallback({pageX:l,pageY:c})}}}]),t}();function G1e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function Z1e(t){if(typeof requestAnimationFrame=="function"){var e=requestAnimationFrame(t);return function(){return cancelAnimationFrame(e)}}if(typeof setImmediate=="function"){var n=setImmediate(t);return function(){return clearImmediate(n)}}var r=setTimeout(t);return function(){return clearTimeout(r)}}function Y1e(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,m=e.angle,p=Tt(l,c,d,m),y=Tt(l,c,f,m);r=p.x,i=p.y,a=y.x,o=y.y}else return fz(e);return[{x:r,y:i},{x:a,y:o}]}function X1e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}var Q1e=["item"],J1e=["children","className","width","height","style","compact","title","desc"];function sf(t){return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function UR(t,e){return n2e(t)||t2e(t,e)||gz(t,e)||e2e()}function e2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function n2e(t){if(Array.isArray(t))return t}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function WR(t,e){if(t==null)return{};var n=r2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yz(r.key),r)}}function a2e(t,e,n){return e&&HR(t.prototype,e),n&&HR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function s2e(t){var e=c2e();return function(){var r=qw(t),i;if(e){var a=qw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return l2e(this,i)}}function l2e(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(t)}function lt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qw(t)}function lf(t){return h2e(t)||d2e(t)||gz(t)||u2e()}function u2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gz(t,e){if(t){if(typeof t=="string")return hE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(t,e)}}function d2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h2e(t){if(Array.isArray(t))return hE(t)}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ve(t,e,n){return e=yz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yz(t){var e=f2e(t,"string");return sf(e)==="symbol"?e:String(e)}function f2e(t,e){if(sf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m2e={xAxis:["bottom","top"],yAxis:["left","right"]},vz={x:0,y:0},p2e=Number.isFinite?Number.isFinite:isFinite,g2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},y2e=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return ce(ce(ce({},i),Tt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return ce(ce(ce({},i),Tt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return vz},kx=function(e,n,r){var i=n.graphicalItems,a=n.dataStartIndex,o=n.dataEndIndex,l=(i||[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(lf(c),lf(f)):c},[]);return l&&l.length>0?l:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:e&&e.length&&xe(a)&&xe(o)?e.slice(a,o+1):[]};function wz(t){return t==="number"?[0,"auto"]:void 0}var bz=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,l=kx(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var f=d.props.hide;if(f)return c;var m=d.props.data,p=m===void 0?n:m,y;if(o.dataKey&&!o.allowDuplicatedCategory){var P=p===void 0?l:p;y=G0(P,o.dataKey,i)}else y=p&&p[r]||l[r];return y?[].concat(lf(c),[LB(d,y)]):c},[])},KR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=g2e(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=Lye(o,l,d,c);if(f>=0&&d){var m=d[f]&&d[f].value,p=bz(e,n,f,m),y=y2e(r,l,f,a);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:y}}return null},v2e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,m=e.children,p=e.stackOffset,y=CB(f,a),P=r.reduce(function(_,A){var N,E=A.props,w=E.type,C=E.dataKey,$=E.allowDataOverflow,D=E.allowDuplicatedCategory,S=E.scale,T=E.ticks,O=E.includeHidden,R=A.props[o];if(_[R])return _;var j=kx(e.data,{graphicalItems:i.filter(function(fe){return fe.props[o]===R}),dataStartIndex:c,dataEndIndex:d}),U=j.length,V,G,X;G1e(A.props.domain,$,w)&&(V=DS(A.props.domain,null,$),y&&(w==="number"||S!=="auto")&&(X=ep(j,C,"category")));var ee=wz(w);if(!V||V.length===0){var te,J=(te=A.props.domain)!==null&&te!==void 0?te:ee;if(C){if(V=ep(j,C,w),w==="category"&&y){var le=vte(V);D&&le?(G=V,V=Lw(0,U)):D||(V=AM(J,V,A).reduce(function(fe,Ne){return fe.indexOf(Ne)>=0?fe:[].concat(lf(fe),[Ne])},[]))}else if(w==="category")D?V=V.filter(function(fe){return fe!==""&&!Pe(fe)}):V=AM(J,V,A).reduce(function(fe,Ne){return fe.indexOf(Ne)>=0||Ne===""||Pe(Ne)?fe:[].concat(lf(fe),[Ne])},[]);else if(w==="number"){var Y=zye(j,i.filter(function(fe){return fe.props[o]===R&&(O||!fe.props.hide)}),C,a,f);Y&&(V=Y)}y&&(w==="number"||S!=="auto")&&(X=ep(j,C,"category"))}else y?V=Lw(0,U):l&&l[R]&&l[R].hasStack&&w==="number"?V=p==="expand"?[0,1]:RB(l[R].stackGroups,c,d):V=kB(j,i.filter(function(fe){return fe.props[o]===R&&(O||!fe.props.hide)}),w,f,!0);if(w==="number")V=uE(m,V,R,a,T),J&&(V=DS(J,V,$));else if(w==="category"&&J){var he=J,pe=V.every(function(fe){return he.indexOf(fe)>=0});pe&&(V=he)}}return ce(ce({},_),{},Ve({},R,ce(ce({},A.props),{},{axisType:a,domain:V,categoricalDomain:X,duplicateDomain:G,originalDomain:(N=A.props.domain)!==null&&N!==void 0?N:ee,isCategorical:y,layout:f})))},{});return P},w2e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,m=e.children,p=kx(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),y=p.length,P=CB(f,a),_=-1,A=r.reduce(function(N,E){var w=E.props[o],C=wz("number");if(!N[w]){_++;var $;return P?$=Lw(0,y):l&&l[w]&&l[w].hasStack?($=RB(l[w].stackGroups,c,d),$=uE(m,$,w,a)):($=DS(C,kB(p,r.filter(function(D){return D.props[o]===w&&!D.props.hide}),"number",f),i.defaultProps.allowDataOverflow),$=uE(m,$,w,a)),ce(ce({},N),{},Ve({},w,ce(ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hn(m2e,"".concat(a,".").concat(_%2),null),domain:$,originalDomain:C,isCategorical:P,layout:f})))}return N},{});return A},b2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.children,m="".concat(i,"Id"),p=Hr(f,a),y={};return p&&p.length?y=v2e(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(y=w2e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},x2e=function(e){var n=Tl(e),r=kl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ew(n,r)}},GR=function(e){var n,r,i=e.children,a=e.defaultShowTooltip,o=Ps(i,bg),l=o&&o.props&&o.props.startIndex||0,c=(o==null||(n=o.props)===null||n===void 0?void 0:n.endIndex)!==void 0?o==null||(r=o.props)===null||r===void 0?void 0:r.endIndex:e.data&&e.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:Pe(a)?!1:a}},_2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=cc(n&&n.type);return r&&r.indexOf("Bar")>=0})},ZR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},S2e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,f=r.height,m=r.children,p=r.margin||{},y=Ps(m,bg),P=Ps(m,Ws),_=Object.keys(c).reduce(function(w,C){var $=c[C],D=$.orientation;return!$.mirror&&!$.hide?ce(ce({},w),{},Ve({},D,w[D]+$.width)):w},{left:p.left||0,right:p.right||0}),A=Object.keys(o).reduce(function(w,C){var $=o[C],D=$.orientation;return!$.mirror&&!$.hide?ce(ce({},w),{},Ve({},D,Hn(w,"".concat(D))+$.height)):w},{top:p.top||0,bottom:p.bottom||0}),N=ce(ce({},A),_),E=N.bottom;return y&&(N.bottom+=y.props.height||bg.defaultProps.height),P&&n&&(N=jye(N,i,r,n)),ce(ce({brushBottom:E},N),{},{width:d-N.left-N.right,height:f-N.top-N.bottom})},Vf=function(e){var n,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,d=e.axisComponents,f=e.legendContent,m=e.formatAxisMap,p=e.defaultProps,y=function(A,N){var E=N.graphicalItems,w=N.stackGroups,C=N.offset,$=N.updateId,D=N.dataStartIndex,S=N.dataEndIndex,T=A.barSize,O=A.layout,R=A.barGap,j=A.barCategoryGap,U=A.maxBarSize,V=ZR(O),G=V.numericAxisName,X=V.cateAxisName,ee=_2e(E),te=ee&&$ye({barSize:T,stackGroups:w}),J=[];return E.forEach(function(le,Y){var he=kx(A.data,{dataStartIndex:D,dataEndIndex:S},le),pe=le.props,fe=pe.dataKey,Ne=pe.maxBarSize,Ee=le.props["".concat(G,"Id")],ge=le.props["".concat(X,"Id")],ye={},Oe=d.reduce(function(_r,Qr){var Ze,wn=N["".concat(Qr.axisType,"Map")],hr=le.props["".concat(Qr.axisType,"Id")];wn&&wn[hr]||Qr.axisType==="zAxis"||j1e(!1);var Qn=wn[hr];return ce(ce({},_r),{},(Ze={},Ve(Ze,Qr.axisType,Qn),Ve(Ze,"".concat(Qr.axisType,"Ticks"),kl(Qn)),Ze))},ye),me=Oe[X],Ae=Oe["".concat(X,"Ticks")],De=w&&w[Ee]&&w[Ee].hasStack&&Zye(le,w[Ee].stackGroups),ue=cc(le.type).indexOf("Bar")>=0,tt=Ew(me,Ae),He=[];if(ue){var Ot,nt,Mt=Pe(Ne)?U:Ne,Yn=(Ot=(nt=Ew(me,Ae,!0))!==null&&nt!==void 0?nt:Mt)!==null&&Ot!==void 0?Ot:0;He=Dye({barGap:R,barCategoryGap:j,bandSize:Yn!==tt?Yn:tt,sizeList:te[ge],maxBarSize:Mt}),Yn!==tt&&(He=He.map(function(_r){return ce(ce({},_r),{},{position:ce(ce({},_r.position),{},{offset:_r.position.offset-Yn/2})})}))}var dn=le&&le.type&&le.type.getComposedData;if(dn){var Xn;J.push({props:ce(ce({},dn(ce(ce({},Oe),{},{displayedData:he,props:A,dataKey:fe,item:le,bandSize:tt,barPosition:He,offset:C,stackedData:De,layout:O,dataStartIndex:D,dataEndIndex:S}))),{},(Xn={key:le.key||"item-".concat(Y)},Ve(Xn,G,Oe[G]),Ve(Xn,X,Oe[X]),Ve(Xn,"animationId",$),Xn)),childIndex:Cte(le,A.children),item:le})}}),J},P=function(A,N){var E=A.props,w=A.dataStartIndex,C=A.dataEndIndex,$=A.updateId;if(!QC({props:E}))return null;var D=E.children,S=E.layout,T=E.stackOffset,O=E.data,R=E.reverseStackOrder,j=ZR(S),U=j.numericAxisName,V=j.cateAxisName,G=Hr(D,i),X=Kye(O,G,"".concat(U,"Id"),"".concat(V,"Id"),T,R),ee=d.reduce(function(he,pe){var fe="".concat(pe.axisType,"Map");return ce(ce({},he),{},Ve({},fe,b2e(E,ce(ce({},pe),{},{graphicalItems:G,stackGroups:pe.axisType===U&&X,dataStartIndex:w,dataEndIndex:C}))))},{}),te=S2e(ce(ce({},ee),{},{props:E,graphicalItems:G}),N==null?void 0:N.legendBBox);Object.keys(ee).forEach(function(he){ee[he]=m(E,ee[he],te,he.replace("Map",""),r)});var J=ee["".concat(V,"Map")],le=x2e(J),Y=y(E,ce(ce({},ee),{},{dataStartIndex:w,dataEndIndex:C,updateId:$,graphicalItems:G,stackGroups:X,offset:te}));return ce(ce({formattedGraphicalItems:Y,graphicalItems:G,offset:te,stackGroups:X},le),ee)};return n=function(_){o2e(N,_);var A=s2e(N);function N(E){var w;return i2e(this,N),w=A.call(this,E),Ve(lt(w),"accessibilityManager",new K1e),Ve(lt(w),"clearDefer",function(){w.cancelDefer&&(w.cancelDefer(),w.cancelDefer=null)}),Ve(lt(w),"handleLegendBBoxUpdate",function(C){if(C){var $=w.state,D=$.dataStartIndex,S=$.dataEndIndex,T=$.updateId;w.setState(ce({legendBBox:C},P({props:w.props,dataStartIndex:D,dataEndIndex:S,updateId:T},ce(ce({},w.state),{},{legendBBox:C}))))}}),Ve(lt(w),"handleReceiveSyncEvent",function(C,$,D){var S=w.props.syncId;S===C&&$!==w.uniqueChartId&&(w.clearDefer(),w.cancelDefer=Z1e(w.applySyncEvent.bind(lt(w),D)))}),Ve(lt(w),"handleBrushChange",function(C){var $=C.startIndex,D=C.endIndex;if($!==w.state.dataStartIndex||D!==w.state.dataEndIndex){var S=w.state.updateId;w.setState(function(){return ce({dataStartIndex:$,dataEndIndex:D},P({props:w.props,dataStartIndex:$,dataEndIndex:D,updateId:S},w.state))}),w.triggerSyncEvent({dataStartIndex:$,dataEndIndex:D})}}),Ve(lt(w),"handleMouseEnter",function(C){var $=w.props.onMouseEnter,D=w.getMouseInfo(C);if(D){var S=ce(ce({},D),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S),Re($)&&$(S,C)}}),Ve(lt(w),"triggeredAfterMouseMove",function(C){var $=w.props.onMouseMove,D=w.getMouseInfo(C),S=D?ce(ce({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S),Re($)&&$(S,C)}),Ve(lt(w),"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ve(lt(w),"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ve(lt(w),"handleMouseMove",function(C){C&&Re(C.persist)&&C.persist(),w.triggeredAfterMouseMove(C)}),Ve(lt(w),"handleMouseLeave",function(C){var $=w.props.onMouseLeave,D={isTooltipActive:!1};w.setState(D),w.triggerSyncEvent(D),Re($)&&$(D,C),w.cancelThrottledTriggerAfterMouseMove()}),Ve(lt(w),"handleOuterEvent",function(C){var $=kte(C),D=Hn(w.props,"".concat($));if($&&Re(D)){var S;/.*touch.*/i.test($)?S=w.getMouseInfo(C.changedTouches[0]):S=w.getMouseInfo(C);var T=D;T(S,C)}}),Ve(lt(w),"handleClick",function(C){var $=w.props.onClick,D=w.getMouseInfo(C);if(D){var S=ce(ce({},D),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S),Re($)&&$(S,C)}}),Ve(lt(w),"handleMouseDown",function(C){var $=w.props.onMouseDown;if(Re($)){var D=w.getMouseInfo(C);$(D,C)}}),Ve(lt(w),"handleMouseUp",function(C){var $=w.props.onMouseUp;if(Re($)){var D=w.getMouseInfo(C);$(D,C)}}),Ve(lt(w),"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseMove(C.changedTouches[0])}),Ve(lt(w),"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),Ve(lt(w),"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),Ve(lt(w),"verticalCoordinatesGenerator",function(C,$){var D=C.xAxis,S=C.width,T=C.height,O=C.offset;return bM(tE(ce(ce(ce({},rp.defaultProps),D),{},{ticks:kl(D,!0),viewBox:{x:0,y:0,width:S,height:T}})),O.left,O.left+O.width,$)}),Ve(lt(w),"horizontalCoordinatesGenerator",function(C,$){var D=C.yAxis,S=C.width,T=C.height,O=C.offset;return bM(tE(ce(ce(ce({},rp.defaultProps),D),{},{ticks:kl(D,!0),viewBox:{x:0,y:0,width:S,height:T}})),O.top,O.top+O.height,$)}),Ve(lt(w),"axesTicksGenerator",function(C){return kl(C,!0)}),Ve(lt(w),"renderCursor",function(C){var $=w.state,D=$.isTooltipActive,S=$.activeCoordinate,T=$.activePayload,O=$.offset,R=$.activeTooltipIndex,j=$.tooltipAxisBandSize,U=w.getTooltipEventType();if(!C||!C.props.cursor||!D||!S||r!=="ScatterChart"&&U!=="axis")return null;var V=w.props.layout,G,X=dc;if(r==="ScatterChart")G=S,X=N0e;else if(r==="BarChart")G=X1e(V,S,O,j),X=IN;else if(V==="radial"){var ee=fz(S),te=ee.cx,J=ee.cy,le=ee.radius,Y=ee.startAngle,he=ee.endAngle;G={cx:te,cy:J,startAngle:Y,endAngle:he,innerRadius:le,outerRadius:le},X=VB}else G={points:Y1e(V,S,O)},X=dc;var pe=C.key||"_recharts-cursor",fe=ce(ce(ce(ce({stroke:"#ccc",pointerEvents:"none"},O),G),ke(C.props.cursor)),{},{payload:T,payloadIndex:R,key:pe,className:"recharts-tooltip-cursor"});return W.exports.isValidElement(C.props.cursor)?W.exports.cloneElement(C.props.cursor,fe):W.exports.createElement(X,fe)}),Ve(lt(w),"renderPolarAxis",function(C,$,D){var S=Hn(C,"type.axisType"),T=Hn(w.state,"".concat(S,"Map")),O=T&&T[C.props["".concat(S,"Id")]];return W.exports.cloneElement(C,ce(ce({},O),{},{className:S,key:C.key||"".concat($,"-").concat(D),ticks:kl(O,!0)}))}),Ve(lt(w),"renderXAxis",function(C,$,D){var S=w.state.xAxisMap,T=S[C.props.xAxisId];return w.renderAxis(T,C,$,D)}),Ve(lt(w),"renderYAxis",function(C,$,D){var S=w.state.yAxisMap,T=S[C.props.yAxisId];return w.renderAxis(T,C,$,D)}),Ve(lt(w),"renderGrid",function(C){var $=w.state,D=$.xAxisMap,S=$.yAxisMap,T=$.offset,O=w.props,R=O.width,j=O.height,U=Tl(D),V=$1e(S,function(ee){return tz(ee.domain,p2e)}),G=V||Tl(S),X=C.props||{};return W.exports.cloneElement(C,{key:C.key||"grid",x:xe(X.x)?X.x:T.left,y:xe(X.y)?X.y:T.top,width:xe(X.width)?X.width:T.width,height:xe(X.height)?X.height:T.height,xAxis:U,yAxis:G,offset:T,chartWidth:R,chartHeight:j,verticalCoordinatesGenerator:X.verticalCoordinatesGenerator||w.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:X.horizontalCoordinatesGenerator||w.horizontalCoordinatesGenerator})}),Ve(lt(w),"renderPolarGrid",function(C){var $=C.props,D=$.radialLines,S=$.polarAngles,T=$.polarRadius,O=w.state,R=O.radiusAxisMap,j=O.angleAxisMap,U=Tl(R),V=Tl(j),G=V.cx,X=V.cy,ee=V.innerRadius,te=V.outerRadius;return W.exports.cloneElement(C,{polarAngles:ct(S)?S:kl(V,!0).map(function(J){return J.coordinate}),polarRadius:ct(T)?T:kl(U,!0).map(function(J){return J.coordinate}),cx:G,cy:X,innerRadius:ee,outerRadius:te,key:C.key||"polar-grid",radialLines:D})}),Ve(lt(w),"renderLegend",function(){var C=w.state.formattedGraphicalItems,$=w.props,D=$.children,S=$.width,T=$.height,O=w.props.margin||{},R=S-(O.left||0)-(O.right||0),j=NB({children:D,formattedGraphicalItems:C,legendWidth:R,legendContent:f});if(!j)return null;var U=j.item,V=WR(j,Q1e);return W.exports.cloneElement(U,ce(ce({},V),{},{chartWidth:S,chartHeight:T,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ve(lt(w),"renderTooltip",function(){var C=w.props.children,$=Ps(C,mn);if(!$)return null;var D=w.state,S=D.isTooltipActive,T=D.activeCoordinate,O=D.activePayload,R=D.activeLabel,j=D.offset;return W.exports.cloneElement($,{viewBox:ce(ce({},j),{},{x:j.left,y:j.top}),active:S,label:R,payload:S?O:[],coordinate:T})}),Ve(lt(w),"renderBrush",function(C){var $=w.props,D=$.margin,S=$.data,T=w.state,O=T.offset,R=T.dataStartIndex,j=T.dataEndIndex,U=T.updateId;return W.exports.cloneElement(C,{key:C.key||"_recharts-brush",onChange:gv(w.handleBrushChange,null,C.props.onChange),data:S,x:xe(C.props.x)?C.props.x:O.left,y:xe(C.props.y)?C.props.y:O.top+O.height+O.brushBottom-(D.bottom||0),width:xe(C.props.width)?C.props.width:O.width,startIndex:R,endIndex:j,updateId:"brush-".concat(U)})}),Ve(lt(w),"renderReferenceElement",function(C,$,D){if(!C)return null;var S=lt(w),T=S.clipPathId,O=w.state,R=O.xAxisMap,j=O.yAxisMap,U=O.offset,V=C.props,G=V.xAxisId,X=V.yAxisId;return W.exports.cloneElement(C,{key:C.key||"".concat($,"-").concat(D),xAxis:R[G],yAxis:j[X],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:T})}),Ve(lt(w),"renderActivePoints",function(C){var $=C.item,D=C.activePoint,S=C.basePoint,T=C.childIndex,O=C.isRange,R=[],j=$.props.key,U=$.item.props,V=U.activeDot,G=U.dataKey,X=ce(ce({index:T,dataKey:G,cx:D.x,cy:D.y,r:4,fill:CN($.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value,key:"".concat(j,"-activePoint-").concat(T)},ke(V)),Z0(V));return R.push(N.renderActiveDot(V,X)),S?R.push(N.renderActiveDot(V,ce(ce({},X),{},{cx:S.x,cy:S.y,key:"".concat(j,"-basePoint-").concat(T)}))):O&&R.push(null),R}),Ve(lt(w),"renderGraphicChild",function(C,$,D){var S=w.filterFormatItem(C,$,D);if(!S)return null;var T=w.getTooltipEventType(),O=w.state,R=O.isTooltipActive,j=O.tooltipAxis,U=O.activeTooltipIndex,V=O.activeLabel,G=w.props.children,X=Ps(G,mn),ee=S.props,te=ee.points,J=ee.isRange,le=ee.baseLine,Y=S.item.props,he=Y.activeDot,pe=Y.hide,fe=Y.activeBar,Ne=Y.activeShape,Ee=Boolean(!pe&&R&&X&&(he||fe||Ne)),ge={};T!=="axis"&&X&&X.props.trigger==="click"?ge={onClick:gv(w.handleItemMouseEnter,null,C.props.onCLick)}:T!=="axis"&&(ge={onMouseLeave:gv(w.handleItemMouseLeave,null,C.props.onMouseLeave),onMouseEnter:gv(w.handleItemMouseEnter,null,C.props.onMouseEnter)});var ye=W.exports.cloneElement(C,ce(ce({},S.props),ge));function Oe(Xn){return typeof j.dataKey=="function"?j.dataKey(Xn.payload):null}if(Ee)if(U>=0){var me,Ae;if(j.dataKey&&!j.allowDuplicatedCategory){var De=typeof j.dataKey=="function"?Oe:"payload.".concat(j.dataKey.toString());me=G0(te,De,V),Ae=J&&le&&G0(le,De,V)}else me=te==null?void 0:te[U],Ae=J&&le&&le[U];if(Ne||fe){var ue=C.props.activeIndex!==void 0?C.props.activeIndex:U;return[W.exports.cloneElement(C,ce(ce(ce({},S.props),ge),{},{activeIndex:ue})),null,null]}if(!Pe(me))return[ye].concat(lf(w.renderActivePoints({item:S,activePoint:me,basePoint:Ae,childIndex:U,isRange:J})))}else{var tt,He=(tt=w.getItemByXY(w.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:ye},Ot=He.graphicalItem,nt=Ot.item,Mt=nt===void 0?C:nt,Yn=Ot.childIndex,dn=ce(ce(ce({},S.props),ge),{},{activeIndex:Yn});return[W.exports.cloneElement(Mt,dn),null,null]}return J?[ye,null,null]:[ye,null]}),Ve(lt(w),"renderCustomized",function(C,$,D){return W.exports.cloneElement(C,ce(ce({key:"recharts-customized-".concat(D)},w.props),w.state))}),w.uniqueChartId=Pe(E.id)?Ac("recharts"):E.id,w.clipPathId="".concat(w.uniqueChartId,"-clip"),E.throttleDelay&&(w.triggeredAfterMouseMove=k6(w.triggeredAfterMouseMove,E.throttleDelay)),w.state={},w}return a2e(N,[{key:"componentDidMount",value:function(){var w,C;Pe(this.props.syncId)||this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.handleMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(w,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var $,D;this.accessibilityManager.setDetails({offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(w){Pe(w.syncId)&&!Pe(this.props.syncId)&&this.addListener(),!Pe(w.syncId)&&Pe(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDefer(),Pe(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ps(this.props.children,mn);if(w&&KB(w.props.shared)){var C=w.props.shared?"axis":"item";return c.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(w){var C;if(!this.container)return null;var $=bfe(this.container),D=xfe(w,$),S=this.container,T=S==null||(C=S.getBoundingClientRect())===null||C===void 0?void 0:C.width,O=S.offsetWidth,R=T/O||1,j=this.inRange(D.chartX,D.chartY,R);if(!j)return null;var U=this.state,V=U.xAxisMap,G=U.yAxisMap,X=this.getTooltipEventType();if(X!=="axis"&&V&&G){var ee=Tl(V).scale,te=Tl(G).scale,J=ee&&ee.invert?ee.invert(D.chartX):null,le=te&&te.invert?te.invert(D.chartY):null;return ce(ce({},D),{},{xValue:J,yValue:le})}var Y=KR(this.state,this.props.data,this.props.layout,j);return Y?ce(ce({},D),Y):null}},{key:"inRange",value:function(w,C){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,S=w/$,T=C/$;if(D==="horizontal"||D==="vertical"){var O=this.state.offset,R=S>=O.left&&S<=O.left+O.width&&T>=O.top&&T<=O.top+O.height;return R?{x:S,y:T}:null}var j=this.state,U=j.angleAxisMap,V=j.radiusAxisMap;if(U&&V){var G=Tl(U);return TM({x:S,y:T},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,C=this.getTooltipEventType(),$=Ps(w,mn),D={};$&&C==="axis"&&($.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Z0(this.props,this.handleOuterEvent);return ce(ce({},S),D)}},{key:"addListener",value:function(){_i.on(a1,this.handleReceiveSyncEvent),_i.setMaxListeners&&_i._maxListeners&&_i.setMaxListeners(_i._maxListeners+1)}},{key:"removeListener",value:function(){_i.removeListener(a1,this.handleReceiveSyncEvent),_i.setMaxListeners&&_i._maxListeners&&_i.setMaxListeners(_i._maxListeners-1)}},{key:"triggerSyncEvent",value:function(w){var C=this.props.syncId;Pe(C)||_i.emit(a1,C,this.uniqueChartId,w)}},{key:"applySyncEvent",value:function(w){var C=this.props,$=C.layout,D=C.syncMethod,S=this.state.updateId,T=w.dataStartIndex,O=w.dataEndIndex;if(!Pe(w.dataStartIndex)||!Pe(w.dataEndIndex))this.setState(ce({dataStartIndex:T,dataEndIndex:O},P({props:this.props,dataStartIndex:T,dataEndIndex:O,updateId:S},this.state)));else if(Pe(w.activeTooltipIndex))this.setState(w);else{var R=w.chartX,j=w.chartY,U=w.activeTooltipIndex,V=this.state,G=V.offset,X=V.tooltipTicks;if(!G)return;if(typeof D=="function")U=D(X,w);else if(D==="value"){U=-1;for(var ee=0;ee<X.length;ee++)if(X[ee].value===w.activeLabel){U=ee;break}}var te=ce(ce({},G),{},{x:G.left,y:G.top}),J=Math.min(R,te.x+te.width),le=Math.min(j,te.y+te.height),Y=X[U]&&X[U].value,he=bz(this.state,this.props.data,U),pe=X[U]?{x:$==="horizontal"?X[U].coordinate:J,y:$==="horizontal"?le:X[U].coordinate}:vz;this.setState(ce(ce({},w),{},{activeLabel:Y,activeCoordinate:pe,activePayload:he,activeTooltipIndex:U}))}}},{key:"filterFormatItem",value:function(w,C,$){for(var D=this.state.formattedGraphicalItems,S=0,T=D.length;S<T;S++){var O=D[S];if(O.item===w||O.props.key===w.key||C===cc(O.item.type)&&$===O.childIndex)return O}return null}},{key:"renderAxis",value:function(w,C,$,D){var S=this.props,T=S.width,O=S.height;return Z.createElement(rp,nh({},w,{className:vt("recharts-".concat(w.axisType," ").concat(w.axisType),w.className),key:C.key||"".concat($,"-").concat(D),viewBox:{x:0,y:0,width:T,height:O},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var w=this.clipPathId,C=this.state.offset,$=C.left,D=C.top,S=C.height,T=C.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:w},Z.createElement("rect",{x:$,y:D,height:S,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(C,$){var D=UR($,2),S=D[0],T=D[1];return ce(ce({},C),{},Ve({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(C,$){var D=UR($,2),S=D[0],T=D[1];return ce(ce({},C),{},Ve({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(w){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(w){var C=this.state,$=C.formattedGraphicalItems,D=C.activeItem;if($&&$.length)for(var S=0,T=$.length;S<T;S++){var O=$[S],R=O.props,j=O.item,U=cc(j.type);if(U==="Bar"){var V=(R.data||[]).find(function(te){return l0e(w,te)});if(V)return{graphicalItem:O,payload:V}}else if(U==="RadialBar"){var G=(R.data||[]).find(function(te){return TM(w,te)});if(G)return{graphicalItem:O,payload:G}}else if(Sx(O)||Ex(O)||vg(O)){var X=nbe({graphicalItem:O,activeTooltipItem:D,itemData:j.props.data}),ee=j.props.activeIndex===void 0?X:j.props.activeIndex;return{graphicalItem:ce(ce({},O),{},{childIndex:ee}),payload:vg(O)?j.props.data[X]:O.props.data[X]}}}return null}},{key:"render",value:function(){var w=this;if(!QC(this))return null;var C=this.props,$=C.children,D=C.className,S=C.width,T=C.height,O=C.style,R=C.compact,j=C.title,U=C.desc,V=WR(C,J1e),G=ke(V),X={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(R)return Z.createElement(H2,nh({},G,{width:S,height:T,title:j,desc:U}),this.renderClipPath(),eI($,X));if(this.props.accessibilityLayer){var ee,te;G.tabIndex=(ee=0)!==null&&ee!==void 0?ee:this.props.tabIndex,G.role=(te="img")!==null&&te!==void 0?te:this.props.role,G.onKeyDown=function(le){w.accessibilityManager.keyboardEvent(le)},G.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Z.createElement("div",nh({className:vt("recharts-wrapper",D),style:ce({position:"relative",cursor:"default",width:S,height:T},O)},J,{ref:function(Y){w.container=Y},role:"region"}),Z.createElement(H2,nh({},G,{width:S,height:T,title:j,desc:U}),this.renderClipPath(),eI($,X)),this.renderLegend(),this.renderTooltip())}}]),N}(W.exports.Component),Ve(n,"displayName",r),Ve(n,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ve(n,"getDerivedStateFromProps",function(_,A){var N=_.data,E=_.children,w=_.width,C=_.height,$=_.layout,D=_.stackOffset,S=_.margin;if(Pe(A.updateId)){var T=GR(_);return ce(ce(ce({},T),{},{updateId:0},P(ce(ce({props:_},T),{},{updateId:0}),A)),{},{prevData:N,prevWidth:w,prevHeight:C,prevLayout:$,prevStackOffset:D,prevMargin:S,prevChildren:E})}if(N!==A.prevData||w!==A.prevWidth||C!==A.prevHeight||$!==A.prevLayout||D!==A.prevStackOffset||!gh(S,A.prevMargin)){var O=GR(_),R={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},j=ce(ce({},KR(A,N,$)),{},{updateId:A.updateId+1}),U=ce(ce(ce({},O),R),j);return ce(ce(ce({},U),P(ce({props:_},U),A)),{},{prevData:N,prevWidth:w,prevHeight:C,prevLayout:$,prevStackOffset:D,prevMargin:S,prevChildren:E})}if(!_3(E,A.prevChildren)){var V=!Pe(N),G=V?A.updateId:A.updateId+1;return ce(ce({updateId:G},P(ce(ce({props:_},A),{},{updateId:G}),A)),{},{prevChildren:E})}return null}),Ve(n,"renderActiveDot",function(_,A){var N;return W.exports.isValidElement(_)?N=W.exports.cloneElement(_,A):Re(_)?N=_(A):N=Z.createElement(Bf,A),Z.createElement(Ge,{className:"recharts-active-dot",key:A.key},N)}),n},xz=Vf({chartName:"LineChart",GraphicalChild:Ho,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:cn}],formatAxisMap:Px}),my=Vf({chartName:"BarChart",GraphicalChild:Kr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:cn}],formatAxisMap:Px}),id=Vf({chartName:"PieChart",GraphicalChild:Xr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ff},{axisType:"radiusAxis",AxisComp:zf}],formatAxisMap:jB,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),E2e=Vf({chartName:"RadarChart",GraphicalChild:dy,axisComponents:[{axisType:"angleAxis",AxisComp:Ff},{axisType:"radiusAxis",AxisComp:zf}],formatAxisMap:jB,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),_z=Vf({chartName:"AreaChart",GraphicalChild:io,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:cn}],formatAxisMap:Px}),A2e=Vf({chartName:"ComposedChart",GraphicalChild:[Ho,io,Kr,Tx],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:cn},{axisType:"zAxis",AxisComp:Nx}],formatAxisMap:Px});const wv=["#10B981","#6366F1","#F59E0B","#EF4444"],P2e=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!0),[o,l]=W.exports.useState(null),[c,d]=W.exports.useState({totalCollectors:0,activeCollectors:0,totalPickups:0,totalWaste:0,totalEarnings:0,pendingPickups:0,assignedPickups:0,completedPickups:0,thisMonthWaste:0,lastMonthWaste:0,thisMonthEarnings:0,lastMonthEarnings:0}),[f,m]=W.exports.useState([]),[p,y]=W.exports.useState([]),[P,_]=W.exports.useState([]);W.exports.useEffect(()=>{e!=null&&e.uid&&A()},[e==null?void 0:e.uid]);const A=async()=>{if(!(e!=null&&e.uid)){l("No user ID found");return}a(!0);try{const w=xt(it($e,"users"),Tn("role","==","collector")),$=(await ot(w)).docs.map(ye=>({id:ye.id,...ye.data()})),D=xt(it($e,"pickups"),Tn("wasteBankId","==",e.uid)),T=(await ot(D)).docs.map(ye=>({id:ye.id,...ye.data()})),O=new Date,R=O.getMonth(),j=O.getFullYear(),U=(ye,Oe,me)=>{const Ae=new Date(ye.seconds*1e3);return Ae.getMonth()===Oe&&Ae.getFullYear()===me},V=T.filter(ye=>U(ye.createdAt||ye.date,R,j)),G=R===0?11:R-1,X=R===0?j-1:j,ee=T.filter(ye=>U(ye.createdAt||ye.date,G,X)),te=ye=>ye.reduce((Oe,me)=>{const Ae=Object.values(me.wastes||{}).reduce((De,ue)=>De+(ue.weight||0),0);return{weight:Oe.weight+Ae,earnings:Oe.earnings+(me.totalValue||0)}},{weight:0,earnings:0}),J=te(V),le=te(ee),Y=te(T),he=T.filter(ye=>ye.status==="pending").length,pe=T.filter(ye=>ye.status==="assigned").length,fe=T.filter(ye=>ye.status==="completed").length;d({totalCollectors:$.length,activeCollectors:$.filter(ye=>ye.status==="active").length,totalPickups:T.length,totalWaste:Y.weight,totalEarnings:Y.earnings,pendingPickups:he,assignedPickups:pe,completedPickups:fe,thisMonthWaste:J.weight,lastMonthWaste:le.weight,thisMonthEarnings:J.earnings,lastMonthEarnings:le.earnings});const Ne=[];for(let ye=6;ye>=0;ye--){const Oe=new Date;Oe.setDate(Oe.getDate()-ye),Oe.setHours(0,0,0,0);const me=new Date(Oe);me.setDate(Oe.getDate()+1);const Ae=T.filter(ue=>{var He;const tt=new Date(((He=ue.createdAt)==null?void 0:He.seconds)*1e3||ue.date.seconds*1e3);return tt>=Oe&&tt<me}),De=te(Ae);Ne.push({date:Oe.toLocaleDateString("en-US",{weekday:"short"}),waste:De.weight,earnings:De.earnings})}m(Ne);const Ee={};T.forEach(ye=>{ye.wastes&&Object.entries(ye.wastes).forEach(([Oe,me])=>{Ee[Oe]||(Ee[Oe]={weight:0,value:0}),Ee[Oe].weight+=me.weight||0,Ee[Oe].value+=me.value||0})});const ge=Object.entries(Ee).map(([ye,Oe])=>({name:ye.charAt(0).toUpperCase()+ye.slice(1),weight:Oe.weight,value:Oe.value}));y(ge),_(T.filter(ye=>ye.status==="completed").sort((ye,Oe)=>{var me,Ae;return((me=Oe.completedAt)==null?void 0:me.seconds)-((Ae=ye.completedAt)==null?void 0:Ae.seconds)}).slice(0,5)),l(null)}catch(w){console.error("Error fetching dashboard data:",w),l("Failed to load dashboard data")}finally{a(!1)}},N=({variant:w="primary",size:C="md",className:$="",children:D,...S})=>{const T={primary:"bg-emerald-500 hover:bg-emerald-600 text-white",secondary:"bg-zinc-100 hover:bg-zinc-200 text-zinc-700"},O={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3"};return u("button",{className:`
        inline-flex items-center justify-center
        font-medium rounded-lg
        transition duration-200 ease-in-out
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500/20
        disabled:opacity-50 disabled:cursor-not-allowed
        ${T[w]}
        ${O[C]}
        ${$}
      `,...S,children:D})},E=({icon:w,label:C,value:$,trend:D,trend_value:S,variant:T="success",className:O=""})=>b("div",{className:`bg-white rounded-xl p-6 border border-zinc-200 ${O}`,children:[b("div",{className:"flex items-start justify-between",children:[b("div",{className:"space-y-3",children:[u("div",{className:"p-2.5 bg-zinc-100 rounded-lg w-fit",children:u(w,{className:"h-6 w-6 text-zinc-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-zinc-600",children:C}),u("p",{className:"text-2xl font-semibold text-zinc-800 mt-1",children:$})]})]}),D&&b("div",{className:`flex items-center gap-1 px-2.5 py-1 rounded-lg text-sm
          ${T==="success"?"bg-emerald-50 text-emerald-600":T==="danger"?"bg-red-50 text-red-600":"bg-zinc-50 text-zinc-600"}`,children:[T==="success"?u(hP,{className:"h-4 w-4"}):u(uP,{className:"h-4 w-4"}),S]})]}),D&&u("p",{className:"text-sm text-zinc-500 mt-2",children:D})]});return b("div",{className:"flex min-h-screen bg-zinc-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:w=>r(w)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center gap-4 mb-8",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-zinc-200",children:u(gn,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-zinc-800",children:"Waste Bank Overview"}),u("p",{className:"text-sm text-zinc-500",children:"Analytics and performance metrics"})]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(E,{icon:oj,label:"Total Earnings",value:`Rp ${c.totalEarnings.toLocaleString()}`,trend:"vs last month",trend_value:`${((c.thisMonthEarnings-c.lastMonthEarnings)/c.lastMonthEarnings*100||0).toFixed(1)}%`,variant:c.thisMonthEarnings>=c.lastMonthEarnings?"success":"danger"}),u(E,{icon:Qa,label:"Total Waste Collected",value:`${c.totalWaste.toFixed(1)} kg`,trend:"vs last month",trend_value:`${((c.thisMonthWaste-c.lastMonthWaste)/c.lastMonthWaste*100||0).toFixed(1)}%`,variant:c.thisMonthWaste>=c.lastMonthWaste?"success":"danger"}),u(E,{icon:un,label:"Pickup Status",value:c.completedPickups,trend:"Current pickups",trend_value:`${c.pendingPickups} pending`,variant:c.pendingPickups===0?"success":"danger"}),u(E,{icon:Ci,label:"Collectors",value:c.totalCollectors,trend:"Active collectors",trend_value:`${c.activeCollectors} active`,variant:"success"})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[b("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 border border-zinc-200",children:[b("div",{className:"flex items-center justify-between mb-6",children:[b("div",{children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Collection Trends"}),u("p",{className:"text-sm text-zinc-500",children:"Daily waste collection stats"})]}),u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(ba,{className:"h-5 w-5 text-emerald-500"})})]}),u("div",{className:"h-80",children:u(sr,{width:"100%",height:"100%",children:b(xz,{data:f,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),u(Rr,{dataKey:"date",stroke:"#71717A",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#71717A",fontSize:12,label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#10B981",fontSize:12,label:{value:"Earnings (Rp)",angle:90,position:"insideRight"}}),u(mn,{formatter:(w,C)=>[C==="waste"?`${w} kg`:`Rp ${w.toLocaleString()}`,C==="waste"?"Weight":"Earnings"]}),u(Ho,{yAxisId:"left",type:"monotone",dataKey:"waste",stroke:"#6366F1",strokeWidth:2,dot:{stroke:"#6366F1",fill:"#fff",strokeWidth:2,r:4},activeDot:{stroke:"#6366F1",fill:"#6366F1",strokeWidth:0,r:6}}),u(Ho,{yAxisId:"right",type:"monotone",dataKey:"earnings",stroke:"#10B981",strokeWidth:2,dot:{stroke:"#10B981",fill:"#fff",strokeWidth:2,r:4},activeDot:{stroke:"#10B981",fill:"#10B981",strokeWidth:0,r:6}})]})})})]}),b("div",{className:"bg-white rounded-xl p-6 border border-zinc-200",children:[b("div",{className:"flex items-center justify-between mb-6",children:[b("div",{children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Waste Distribution"}),u("p",{className:"text-sm text-zinc-500",children:"By weight collected"})]}),u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(Vo,{className:"h-5 w-5 text-emerald-500"})})]}),b("div",{className:"flex flex-col h-80",children:[u("div",{className:"flex-1 min-h-[200px]",children:u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:p,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"weight",children:p.map((w,C)=>u(so,{fill:wv[C%wv.length]},`cell-${C}`))}),u(mn,{formatter:(w,C,$)=>[`${w.toFixed(1)} kg (Rp ${$.payload.value.toLocaleString()})`,C]})]})})}),u("div",{className:"border-t border-zinc-100 pt-4 mt-4",children:u("div",{className:"grid grid-cols-1 gap-2",children:p.map((w,C)=>b("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-zinc-50",children:[b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:wv[C%wv.length]}}),u("span",{className:"text-sm font-medium text-zinc-700",children:w.name})]}),b("div",{className:"text-right",children:[b("p",{className:"text-sm font-medium text-zinc-800",children:[w.weight.toFixed(1)," kg"]}),b("p",{className:"text-xs text-zinc-500",children:["Rp ",w.value.toLocaleString()]})]})]},w.name))})})]})]})]}),b("div",{className:"bg-white rounded-xl border border-zinc-200",children:[u("div",{className:"p-6 border-b border-zinc-200",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Recent Collections"}),u("p",{className:"text-sm text-zinc-500",children:"Latest completed waste collections"})]}),u(N,{variant:"secondary",size:"sm",children:"View All"})]})}),u("div",{className:"divide-y divide-zinc-200",children:P.length===0?b("div",{className:"p-6 text-center",children:[u(un,{className:"h-12 w-12 text-zinc-300 mx-auto mb-3"}),u("h3",{className:"text-sm font-medium text-zinc-800",children:"No Recent Collections"}),u("p",{className:"text-sm text-zinc-500 mt-1",children:"Completed collections will appear here"})]}):P.map(w=>u("div",{className:"p-6 hover:bg-zinc-50/50",children:b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(Qa,{className:"h-5 w-5 text-emerald-500"})}),b("div",{children:[b("div",{className:"flex items-center gap-2",children:[u("h3",{className:"font-medium text-zinc-800",children:w.userName}),u("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full",children:"Completed"})]}),b("div",{className:"flex items-center gap-2 mt-1 text-sm text-zinc-600",children:[u(Ko,{className:"h-4 w-4"}),new Date(w.completedAt.seconds*1e3).toLocaleString()]}),u("div",{className:"mt-2",children:u("div",{className:"flex flex-wrap gap-2",children:Object.entries(w.wastes||{}).map(([C,$])=>b("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-zinc-100 rounded-lg text-xs font-medium text-zinc-700",children:[C,": ",$.weight,"kg",u("span",{className:"text-zinc-400",children:"•"}),"Rp ",$.value.toLocaleString()]},C))})})]})]}),b("div",{className:"text-right",children:[b("p",{className:"text-sm font-medium text-emerald-600",children:["Rp ",w.totalValue.toLocaleString()]}),u("p",{className:"text-xs text-zinc-500 mt-1",children:"Total Value"})]})]})},w.id))})]})]})})]})},au=({className:t="",...e})=>u("input",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
    text-zinc-700 text-sm transition duration-200 ease-in-out
    placeholder:text-zinc-400
    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    disabled:opacity-50 disabled:cursor-not-allowed
    ${t}`,...e}),YR=({className:t="",...e})=>u("select",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
    text-zinc-700 text-sm transition duration-200 ease-in-out
    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    disabled:opacity-50 disabled:cursor-not-allowed
    ${t}`,...e}),ps=({className:t="",...e})=>u("label",{className:`block text-sm font-medium text-zinc-700 mb-1 ${t}`,...e}),s1=({className:t="",...e})=>u("div",{className:`bg-white rounded-xl shadow-sm border border-zinc-200 ${t}`,...e}),N2e=({variant:t="primary",size:e="md",isLoading:n=!1,className:r="",children:i,...a})=>{const o={primary:"bg-emerald-500 hover:bg-emerald-600 text-white",secondary:"bg-zinc-100 hover:bg-zinc-200 text-zinc-700",danger:"bg-red-500 hover:bg-red-600 text-white"},l={sm:"px-2 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3"};return b("button",{disabled:n,className:`
        inline-flex items-center justify-center
        font-medium rounded-lg
        transition duration-200 ease-in-out
        focus:outline-none focus:ring-2 focus:ring-offset-2
        disabled:opacity-50 disabled:cursor-not-allowed
        ${o[t]}
        ${l[e]}
        ${r}
      `,...a,children:[n&&u(Kt,{className:"w-4 h-4 mr-2 animate-spin"}),i]})},T2e=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(!1),[l,c]=W.exports.useState(null),[d,f]=W.exports.useState([]),[m,p]=W.exports.useState([]),[y,P]=W.exports.useState({name:"",adminName:"",capacity:0,location:{address:"",city:"",province:"",coordinates:null},phone:"",industry:"",governmentRelation:""});W.exports.useEffect(()=>{Promise.all([N(),_(),A()]).catch(console.error)},[]);const _=async()=>{try{const w=xt(it($e,"users"),Tn("role","==","government")),$=(await ot(w)).docs.map(D=>({id:D.id,...D.data()}));p($)}catch(w){console.error("Error fetching government users:",w)}},A=async()=>{try{const w=xt(it($e,"users"),Tn("role","==","industry")),$=(await ot(w)).docs.map(D=>({id:D.id,...D.data()}));f($)}catch(w){console.error("Error fetching industry users:",w)}},N=async()=>{try{const w=await $2(jn($e,"wasteBanks","YOUR_BANK_ID"));w.exists()&&P(w.data())}catch(w){c("Failed to load settings"),console.error("Error fetching settings:",w)}finally{i(!1)}},E=async()=>{o(!0);try{await qo(jn($e,"wasteBanks","YOUR_BANK_ID"),y)}catch(w){c("Failed to save settings"),console.error("Error saving settings:",w)}finally{o(!1)}};return r?b("div",{className:"flex min-h-screen bg-zinc-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:w=>n(w)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
          ${e?"ml-20":"ml-64"}`,children:u("div",{className:"flex items-center justify-center h-screen",children:u("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})})})]}):b("div",{className:"flex min-h-screen bg-zinc-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:w=>n(w)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center gap-4 mb-8",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-zinc-200",children:u(gn,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-zinc-800",children:"Bank Settings"}),u("p",{className:"text-sm text-zinc-500",children:"Manage your waste bank settings and configurations"})]})]}),b("div",{className:"max-w-4xl space-y-6",children:[b(s1,{className:"p-6",children:[b("div",{className:"flex items-center gap-2 mb-6",children:[u(wP,{className:"h-5 w-5 text-zinc-600"}),u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Basic Information"})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b("div",{children:[u(ps,{children:"Bank Name"}),u(au,{type:"text",value:y.name,onChange:w=>P({...y,name:w.target.value}),placeholder:"Enter bank name"})]}),b("div",{children:[u(ps,{children:"Admin Name"}),u(au,{type:"text",value:y.adminName,onChange:w=>P({...y,adminName:w.target.value}),placeholder:"Enter admin name"})]}),b("div",{children:[u(ps,{children:"Capacity (tons)"}),u(au,{type:"number",value:y.capacity,onChange:w=>P({...y,capacity:Number(w.target.value)}),placeholder:"Enter capacity in tons"})]}),b("div",{children:[u(ps,{children:"Phone Number"}),u(au,{type:"tel",value:y.phone,onChange:w=>P({...y,phone:w.target.value}),placeholder:"Enter phone number"})]})]})]}),b(s1,{className:"p-6",children:[b("div",{className:"flex items-center gap-2 mb-6",children:[u(Ft,{className:"h-5 w-5 text-zinc-600"}),u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Location"})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b("div",{className:"md:col-span-2",children:[u(ps,{children:"Address"}),u(au,{type:"text",value:y.location.address,onChange:w=>P({...y,location:{...y.location,address:w.target.value}}),placeholder:"Enter complete address"})]}),b("div",{children:[u(ps,{children:"City"}),u(au,{type:"text",value:y.location.city,onChange:w=>P({...y,location:{...y.location,city:w.target.value}}),placeholder:"Enter city"})]}),b("div",{children:[u(ps,{children:"Province"}),u(au,{type:"text",value:y.location.province,onChange:w=>P({...y,location:{...y.location,province:w.target.value}}),placeholder:"Enter province"})]})]})]}),b(s1,{className:"p-6",children:[b("div",{className:"flex items-center gap-2 mb-6",children:[u(Ci,{className:"h-5 w-5 text-zinc-600"}),u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Partners"})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b("div",{children:[u(ps,{children:"Industry Partner"}),b(YR,{value:y.industry,onChange:w=>P({...y,industry:w.target.value}),children:[u("option",{value:"",children:"Select Industry Partner"}),d.map(w=>u("option",{value:w.id,children:w.fullName||w.email},w.id))]})]}),b("div",{children:[u(ps,{children:"Government Relation"}),b(YR,{value:y.governmentRelation,onChange:w=>P({...y,governmentRelation:w.target.value}),children:[u("option",{value:"",children:"Select Government Partner"}),m.map(w=>u("option",{value:w.id,children:w.fullName||w.email},w.id))]})]})]})]}),l&&b("div",{className:"p-4 bg-red-50 border border-red-100 rounded-lg flex items-center gap-2",children:[u(kn,{className:"h-5 w-5 text-red-500"}),u("p",{className:"text-sm text-red-600",children:l})]}),u("div",{className:"flex justify-end",children:u(N2e,{onClick:E,isLoading:a,className:"w-full md:w-auto",children:a?"Saving Changes...":"Save Changes"})})]})]})})]})},k2e=({className:t="",...e})=>u("input",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
    text-zinc-700 text-sm transition duration-200 ease-in-out
    placeholder:text-zinc-400
    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    disabled:opacity-50 disabled:cursor-not-allowed
    ${t}`,...e}),C2e=({className:t="",...e})=>u("select",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
    text-zinc-700 text-sm transition duration-200 ease-in-out
    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
    disabled:opacity-50 disabled:cursor-not-allowed
    ${t}`,...e}),I2e=({variant:t="default",children:e,className:n="",...r})=>u("span",{className:`
        inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
        ${{default:"bg-zinc-100 text-zinc-700",success:"bg-emerald-100 text-emerald-700",warning:"bg-yellow-100 text-yellow-700",danger:"bg-red-100 text-red-700",info:"bg-blue-100 text-blue-700"}[t]}
        ${n}
      `,...r,children:e}),XR=({icon:t,label:e,value:n,trend:r,className:i=""})=>b("div",{className:`bg-white rounded-xl p-4 border border-zinc-200 ${i}`,children:[b("div",{className:"flex items-start justify-between",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-zinc-600",children:e}),u("p",{className:"text-2xl font-semibold text-zinc-800 mt-1",children:n})]}),u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(t,{className:"h-5 w-5 text-emerald-500"})})]}),r&&b("div",{className:"flex items-center gap-1 mt-2",children:[u(jp,{className:"h-4 w-4 text-emerald-500"}),u("span",{className:"text-sm text-emerald-600",children:r})]})]}),O2e=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState([]),[a,o]=W.exports.useState(!0),[l,c]=W.exports.useState("all"),[d,f]=W.exports.useState(""),[m,p]=W.exports.useState({totalCollectors:0,activeCollectors:0,totalPickups:0,avgRating:0});W.exports.useEffect(()=>{y()},[]);const y=async()=>{o(!0);try{const A=xt(it($e,"users"),Tn("role","==","collector")),E=(await ot(A)).docs.map(C=>({id:C.id,...C.data()}));i(E);const w=E.filter(C=>C.status==="active").length;p({totalCollectors:E.length,activeCollectors:w,totalPickups:0,avgRating:0})}catch(A){console.error("Error fetching collectors:",A)}finally{o(!1)}},P=async(A,N)=>{try{const E=jn($e,"users",A);await qo(E,{status:N,updatedAt:new Date}),await y()}catch(E){console.error("Error updating collector status:",E)}},_=r.filter(A=>{var w,C,$,D,S;const N=l==="all"||A.status===l,E=((C=(w=A.profile)==null?void 0:w.fullName)==null?void 0:C.toLowerCase().includes(d.toLowerCase()))||(($=A.email)==null?void 0:$.toLowerCase().includes(d.toLowerCase()))||((S=(D=A.profile)==null?void 0:D.phone)==null?void 0:S.includes(d));return N&&E});return b("div",{className:"flex min-h-screen bg-zinc-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:A=>n(A)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center gap-4 mb-8",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-zinc-200",children:u(Ci,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-zinc-800",children:"Collector Management"}),u("p",{className:"text-sm text-zinc-500",children:"Monitor and manage waste collectors"})]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[u(XR,{icon:Ci,label:"Total Collectors",value:m.totalCollectors,trend:`${Math.round(m.activeCollectors/m.totalCollectors*100)||0}% Active`}),u(XR,{icon:fj,label:"Active Collectors",value:m.activeCollectors})]}),b("div",{className:"flex gap-4 mb-6",children:[b("div",{className:"relative flex-1",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-400"}),u(k2e,{type:"text",placeholder:"Search by name, email or phone...",value:d,onChange:A=>f(A.target.value),className:"pl-10"})]}),b(C2e,{value:l,onChange:A=>c(A.target.value),className:"w-48",children:[u("option",{value:"all",children:"All Status"}),u("option",{value:"active",children:"Active"}),u("option",{value:"inactive",children:"Inactive"})]})]}),a?u("div",{className:"flex justify-center items-center py-12",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):_.length===0?b("div",{className:"text-center py-12",children:[u(RG,{className:"h-12 w-12 text-zinc-400 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-zinc-800 mb-1",children:"No collectors found"}),u("p",{className:"text-zinc-500",children:"Try adjusting your filters or search terms"})]}):u("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(A=>{var N,E,w,C,$,D,S,T,O;return b("div",{className:"bg-white rounded-xl p-6 border border-zinc-200",children:[b("div",{className:"flex justify-between items-start mb-4",children:[b("div",{className:"flex items-center gap-3",children:[u("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:u(Ci,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("h3",{className:"font-medium text-zinc-800",children:((N=A.profile)==null?void 0:N.fullName)||"Unnamed Collector"}),u("p",{className:"text-sm text-zinc-500",children:A.email})]})]}),u(I2e,{variant:A.status==="active"?"success":"warning",children:A.status||"inactive"})]}),b("div",{className:"flex items-start gap-3 mb-4",children:[u(Ft,{className:"h-5 w-5 text-zinc-400 mt-1"}),b("div",{children:[u("p",{className:"text-sm font-medium text-zinc-600",children:"Location"}),u("p",{className:"text-sm text-zinc-800",children:((w=(E=A.profile)==null?void 0:E.location)==null?void 0:w.address)||"No address provided"}),b("p",{className:"text-sm text-zinc-500",children:[(($=(C=A.profile)==null?void 0:C.location)==null?void 0:$.city)||"No city",", ",((S=(D=A.profile)==null?void 0:D.location)==null?void 0:S.province)||"No province"]})]})]}),u("div",{className:"border-t border-zinc-200 pt-4 mt-4",children:b("div",{className:"flex items-start gap-3",children:[u(B2,{className:"h-5 w-5 text-zinc-400 mt-1"}),b("div",{children:[u("p",{className:"text-sm font-medium text-zinc-600",children:"Contact"}),u("p",{className:"text-sm text-zinc-800",children:((T=A.profile)==null?void 0:T.phone)||"No phone number"})]})]})}),b("div",{className:"flex gap-2 mt-4 pt-4 border-t border-zinc-200",children:[b("button",{onClick:()=>{var R;return(R=A.profile)!=null&&R.phone?window.location.href=`tel:${A.profile.phone}`:null},className:"flex items-center gap-2 bg-emerald-100 text-emerald-700 px-4 py-2 rounded-lg text-sm",disabled:!((O=A.profile)!=null&&O.phone),children:[u(B2,{className:"h-4 w-4"}),"Call"]}),b("button",{onClick:()=>A.email?window.location.href=`mailto:${A.email}`:null,className:"flex items-center gap-2 bg-emerald-100 text-emerald-700 px-4 py-2 rounded-lg text-sm",children:[u(Xg,{className:"h-4 w-4"}),"Email"]}),u("button",{onClick:()=>P(A.id,A.status==="active"?"inactive":"active"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm ml-auto ${A.status==="active"?"bg-yellow-100 text-yellow-700":"bg-emerald-100 text-emerald-700"}`,children:A.status==="active"?"Set Inactive":"Set Active"})]})]},A.id)})})]})})]})},M2e={organic:{carbon:.5,water:1e3,landfill:.2},plastic:{carbon:2.5,water:2e3,landfill:.1,trees:.1},paper:{carbon:1.5,water:1500,landfill:.15,trees:.2},metal:{carbon:5,water:3e3,landfill:.05}},bv=["#10B981","#6366F1","#F59E0B","#EF4444"],R2e=({className:t="",...e})=>u("select",{className:`w-full px-4 py-2.5 bg-white border border-zinc-200 rounded-lg 
      text-zinc-700 text-sm transition-all duration-200
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      hover:border-emerald-500/50 
      disabled:opacity-50 disabled:cursor-not-allowed
      appearance-none bg-no-repeat bg-[right_1rem_center]
      ${t}`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`},...e}),xv=({icon:t,label:e,value:n,subValue:r,trend:i,trendValue:a,trendSuffix:o="%"})=>u("div",{className:"bg-white rounded-xl p-6 border border-zinc-200 shadow-sm hover:shadow-md transition-all group",children:b("div",{className:"flex items-start justify-between",children:[b("div",{children:[u("div",{className:"p-2.5 bg-emerald-50 rounded-lg w-fit group-hover:bg-emerald-100 transition-colors",children:u(t,{className:"h-6 w-6 text-emerald-600"})}),b("div",{className:"mt-3",children:[u("p",{className:"text-sm font-medium text-zinc-600",children:e}),u("p",{className:"text-2xl font-semibold text-zinc-800 mt-1 group-hover:text-emerald-600 transition-colors",children:n}),r&&u("p",{className:"text-sm text-zinc-500 mt-1",children:r})]})]}),i&&a!==void 0&&b("div",{className:`flex items-center gap-1 px-2.5 py-1 rounded-lg text-sm
          ${Number(a)>=0?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:[Number(a)>=0?u(hP,{className:"h-4 w-4"}):u(uP,{className:"h-4 w-4"}),Math.abs(Number(a)).toFixed(1),o]})]})}),QR=({title:t,description:e,children:n,className:r=""})=>b("div",{className:`bg-white p-6 rounded-xl border border-zinc-200 shadow-sm ${r}`,children:[u("div",{className:"flex items-start justify-between mb-6",children:b("div",{children:[b("div",{className:"flex items-center gap-2",children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:t}),u(L2e,{children:e})]}),u("p",{className:"text-sm text-zinc-500 mt-1",children:e})]})}),n]}),L2e=({children:t})=>b("div",{className:"group relative inline-block",children:[u(gP,{className:"h-4 w-4 text-zinc-400 hover:text-zinc-600 transition-colors"}),b("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-zinc-800 text-white text-xs rounded-lg w-48 \r
      opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all`,children:[t,u("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-zinc-800"})]})]}),JR=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!0),[o,l]=W.exports.useState(null),[c,d]=W.exports.useState("month"),[f,m]=W.exports.useState({collectionStats:{totalPickups:0,totalWeight:0,totalEarnings:0,completedPickups:0},financialStats:{totalRevenue:0,lastMonthRevenue:0,thisMonthRevenue:0,revenueGrowth:0,averagePerKg:0},impactStats:{carbonReduced:0,waterSaved:0,treesPreserved:0,landfillSpaceSaved:0},wasteTypeDistribution:[],monthlyTrends:[],revenueByWasteType:[]});W.exports.useEffect(()=>{e!=null&&e.uid&&y()},[c,e==null?void 0:e.uid]);const p=_=>{let A={carbonReduced:0,waterSaved:0,treesPreserved:0,landfillSpaceSaved:0};return Object.entries(_).forEach(([N,E])=>{const w=M2e[N];w&&E.weight&&(A.carbonReduced+=w.carbon*E.weight,A.waterSaved+=w.water*E.weight,A.landfillSpaceSaved+=w.landfill*E.weight,w.trees&&(A.treesPreserved+=w.trees*E.weight))}),A},y=async()=>{if(!(e!=null&&e.uid)){l("No user ID found");return}a(!0);try{const _=new Date;let A=new Date;switch(c){case"month":A.setMonth(_.getMonth()-1);break;case"quarter":A.setMonth(_.getMonth()-3);break;case"year":A.setFullYear(_.getFullYear()-1);break}const N=xt(it($e,"pickups"),Tn("wasteBankId","==",e.uid),Tn("status","==","completed")),w=(await ot(N)).docs.map(X=>({id:X.id,...X.data()})),C=_.getMonth(),$=_.getFullYear(),D=w.filter(X=>{const ee=new Date(X.completedAt.seconds*1e3);return ee.getMonth()===C&&ee.getFullYear()===$}),S=w.filter(X=>{const ee=new Date(X.completedAt.seconds*1e3);return ee.getMonth()===C-1&&ee.getFullYear()===$}),T=D.reduce((X,ee)=>X+(ee.totalValue||0),0),O=S.reduce((X,ee)=>X+(ee.totalValue||0),0),R=w.reduce((X,ee)=>X+(ee.totalValue||0),0),j=w.reduce((X,ee)=>X+Object.values(ee.wastes||{}).reduce((te,J)=>te+(J.weight||0),0),0),U={};w.forEach(X=>{Object.entries(X.wastes||{}).forEach(([ee,te])=>{U[ee]||(U[ee]={weight:0,value:0}),U[ee].weight+=te.weight||0,U[ee].value+=te.value||0})});const V={collectionStats:{totalPickups:w.length,totalWeight:j,totalEarnings:R,completedPickups:w.filter(X=>X.status==="completed").length},financialStats:{totalRevenue:R,lastMonthRevenue:O,thisMonthRevenue:T,revenueGrowth:O?(T-O)/O*100:0,averagePerKg:j?R/j:0},impactStats:p(U),wasteTypeDistribution:Object.entries(U).map(([X,ee])=>({name:X.charAt(0).toUpperCase()+X.slice(1),weight:ee.weight,value:ee.value})),monthlyTrends:[],revenueByWasteType:Object.entries(U).map(([X,ee])=>({name:X.charAt(0).toUpperCase()+X.slice(1),revenue:ee.value,weight:ee.weight,averagePrice:ee.weight?ee.value/ee.weight:0}))},G={};w.forEach(X=>{const ee=new Date(X.completedAt.seconds*1e3),te=`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}`;G[te]||(G[te]={month:ee.toLocaleString("default",{month:"short"}),weight:0,revenue:0,pickups:0}),G[te].pickups++,G[te].revenue+=X.totalValue||0,Object.values(X.wastes||{}).forEach(J=>{G[te].weight+=J.weight||0})}),V.monthlyTrends=Object.values(G),m(V),l(null)}catch(_){console.error("Error fetching report data:",_),l("Failed to load report data")}finally{a(!1)}},P=()=>{const _={generatedAt:new Date().toISOString(),dateRange:c,...f},A=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),N=URL.createObjectURL(A),E=document.createElement("a");E.href=N,E.download=`waste-bank-report-${c}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(N)};return i?u("div",{className:"flex min-h-screen items-center justify-center bg-zinc-50/50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):o?u("div",{className:"flex min-h-screen items-center justify-center bg-zinc-50/50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o}),u("button",{onClick:y,className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-zinc-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:_=>r(_)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-zinc-200",children:u(rj,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-zinc-800",children:"Reports & Analytics"}),u("p",{className:"text-sm text-zinc-500",children:"Track your waste management performance"})]})]}),b("div",{className:"flex items-center gap-4",children:[b(R2e,{value:c,onChange:_=>d(_.target.value),className:"w-44",children:[u("option",{value:"month",children:"Last Month"}),u("option",{value:"quarter",children:"Last Quarter"}),u("option",{value:"year",children:"Last Year"})]}),b("button",{onClick:P,className:`flex items-center gap-2 px-4 py-2.5 bg-emerald-500 text-white rounded-lg\r
                  hover:bg-emerald-600 transition-colors`,children:[u(fP,{className:"h-4 w-4"}),"Export Report"]})]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(xv,{icon:LG,label:"Total Revenue",value:`Rp ${f.financialStats.totalRevenue.toLocaleString()}`,subValue:"All time earnings",trend:"vs. last month",trendValue:f.financialStats.revenueGrowth}),u(xv,{icon:Qa,label:"Total Weight",value:`${f.collectionStats.totalWeight.toFixed(1)} kg`,subValue:`${f.collectionStats.totalPickups} pickups completed`,trend:"Average price",trendValue:`Rp ${f.financialStats.averagePerKg.toLocaleString()}`,trendSuffix:"/kg"}),u(xv,{icon:Vo,label:"Carbon Reduction",value:`${f.impactStats.carbonReduced.toFixed(1)} kg`,subValue:"CO₂ emissions prevented"}),u(xv,{icon:$h,label:"Water Saved",value:`${(f.impactStats.waterSaved/1e3).toFixed(1)} m³`,subValue:"Water conservation impact"})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[u(QR,{title:"Monthly Performance",description:"Weight collected and revenue trends",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(my,{data:f.monthlyTrends,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),u(Rr,{dataKey:"month",stroke:"#71717A",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#71717A",fontSize:12,tickFormatter:_=>`${_} kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#71717A",fontSize:12,tickFormatter:_=>`Rp ${(_/1e3).toFixed(0)}k`}),u(mn,{formatter:(_,A)=>A==="weight"?[`${_.toFixed(1)} kg`,"Weight"]:[`Rp ${_.toLocaleString()}`,"Revenue"]}),u(Kr,{yAxisId:"left",dataKey:"weight",fill:"#10B981",name:"weight"}),u(Kr,{yAxisId:"right",dataKey:"revenue",fill:"#6366F1",name:"revenue"})]})})})}),b(QR,{title:"Waste Distribution",description:"Revenue by waste type",children:[u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:f.revenueByWasteType,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"revenue",children:f.revenueByWasteType.map((_,A)=>u(so,{fill:bv[A%bv.length]},`cell-${A}`))}),u(mn,{formatter:(_,A,N)=>[`Rp ${_.toLocaleString()}`,`${N.payload.name} (${N.payload.weight.toFixed(1)} kg)`]})]})})}),u("div",{className:"mt-6 space-y-3",children:f.revenueByWasteType.map((_,A)=>b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:bv[A%bv.length]}}),u("span",{className:"text-sm font-medium text-zinc-700",children:_.name})]}),b("div",{className:"text-right",children:[b("p",{className:"text-sm font-medium text-zinc-800",children:["Rp ",_.revenue.toLocaleString()]}),b("p",{className:"text-xs text-zinc-500",children:["Rp ",_.averagePrice.toLocaleString(),"/kg"]})]})]},_.name))})]})]}),u("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-200",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u(Os,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("h3",{className:"text-lg font-semibold text-emerald-800",children:"Environmental Impact Summary"}),u("p",{className:"text-sm text-emerald-700 mt-1",children:"Your waste management activities have contributed to:"}),b("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Vo,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Carbon Impact"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[f.impactStats.carbonReduced.toFixed(1)," kg CO₂"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"emissions prevented"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Os,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Forest Preservation"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[f.impactStats.treesPreserved.toFixed(1)," trees"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"equivalent saved"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(un,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Landfill Reduction"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[f.impactStats.landfillSpaceSaved.toFixed(1)," m³"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"landfill space saved"})]})]})]})]})})]})})]})};var Sz={exports:{}};/*!
* sweetalert2 v11.16.0
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(Ei,function(){function n(x,k,z){if(typeof x=="function"?x===k:x.has(k))return arguments.length<3?k:z;throw new TypeError("Private element is not present on this object")}function r(x,k){if(k.has(x))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(x,k){return x.get(n(x,k))}function a(x,k,z){r(x,k),k.set(x,z)}function o(x,k,z){return x.set(n(x,k),z),z}const l=100,c={},d=()=>{c.previousActiveElement instanceof HTMLElement?(c.previousActiveElement.focus(),c.previousActiveElement=null):document.body&&document.body.focus()},f=x=>new Promise(k=>{if(!x)return k();const z=window.scrollX,K=window.scrollY;c.restoreFocusTimeout=setTimeout(()=>{d(),k()},l),window.scrollTo(z,K)}),m="swal2-",y=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((x,k)=>(x[k]=m+k,x),{}),_=["success","warning","info","question","error"].reduce((x,k)=>(x[k]=m+k,x),{}),A="SweetAlert2:",N=x=>x.charAt(0).toUpperCase()+x.slice(1),E=x=>{console.warn(`${A} ${typeof x=="object"?x.join(" "):x}`)},w=x=>{console.error(`${A} ${x}`)},C=[],$=x=>{C.includes(x)||(C.push(x),E(x))},D=function(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$(`"${x}" is deprecated and will be removed in the next major release.${k?` Use "${k}" instead.`:""}`)},S=x=>typeof x=="function"?x():x,T=x=>x&&typeof x.toPromise=="function",O=x=>T(x)?x.toPromise():Promise.resolve(x),R=x=>x&&Promise.resolve(x)===x,j=()=>document.body.querySelector(`.${y.container}`),U=x=>{const k=j();return k?k.querySelector(x):null},V=x=>U(`.${x}`),G=()=>V(y.popup),X=()=>V(y.icon),ee=()=>V(y["icon-content"]),te=()=>V(y.title),J=()=>V(y["html-container"]),le=()=>V(y.image),Y=()=>V(y["progress-steps"]),he=()=>V(y["validation-message"]),pe=()=>U(`.${y.actions} .${y.confirm}`),fe=()=>U(`.${y.actions} .${y.cancel}`),Ne=()=>U(`.${y.actions} .${y.deny}`),Ee=()=>V(y["input-label"]),ge=()=>U(`.${y.loader}`),ye=()=>V(y.actions),Oe=()=>V(y.footer),me=()=>V(y["timer-progress-bar"]),Ae=()=>V(y.close),De=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ue=()=>{const x=G();if(!x)return[];const k=x.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),z=Array.from(k).sort((ve,Be)=>{const Ue=parseInt(ve.getAttribute("tabindex")||"0"),Ct=parseInt(Be.getAttribute("tabindex")||"0");return Ue>Ct?1:Ue<Ct?-1:0}),K=x.querySelectorAll(De),ie=Array.from(K).filter(ve=>ve.getAttribute("tabindex")!=="-1");return[...new Set(z.concat(ie))].filter(ve=>Jn(ve))},tt=()=>Mt(document.body,y.shown)&&!Mt(document.body,y["toast-shown"])&&!Mt(document.body,y["no-backdrop"]),He=()=>{const x=G();return x?Mt(x,y.toast):!1},Ot=()=>{const x=G();return x?x.hasAttribute("data-loading"):!1},nt=(x,k)=>{if(x.textContent="",k){const K=new DOMParser().parseFromString(k,"text/html"),ie=K.querySelector("head");ie&&Array.from(ie.childNodes).forEach(Be=>{x.appendChild(Be)});const ve=K.querySelector("body");ve&&Array.from(ve.childNodes).forEach(Be=>{Be instanceof HTMLVideoElement||Be instanceof HTMLAudioElement?x.appendChild(Be.cloneNode(!0)):x.appendChild(Be)})}},Mt=(x,k)=>{if(!k)return!1;const z=k.split(/\s+/);for(let K=0;K<z.length;K++)if(!x.classList.contains(z[K]))return!1;return!0},Yn=(x,k)=>{Array.from(x.classList).forEach(z=>{!Object.values(y).includes(z)&&!Object.values(_).includes(z)&&!Object.values(k.showClass||{}).includes(z)&&x.classList.remove(z)})},dn=(x,k,z)=>{if(Yn(x,k),!k.customClass)return;const K=k.customClass[z];if(K){if(typeof K!="string"&&!K.forEach){E(`Invalid type of customClass.${z}! Expected string or iterable object, got "${typeof K}"`);return}Ze(x,K)}},Xn=(x,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return x.querySelector(`.${y.popup} > .${y[k]}`);case"checkbox":return x.querySelector(`.${y.popup} > .${y.checkbox} input`);case"radio":return x.querySelector(`.${y.popup} > .${y.radio} input:checked`)||x.querySelector(`.${y.popup} > .${y.radio} input:first-child`);case"range":return x.querySelector(`.${y.popup} > .${y.range} input`);default:return x.querySelector(`.${y.popup} > .${y.input}`)}},_r=x=>{if(x.focus(),x.type!=="file"){const k=x.value;x.value="",x.value=k}},Qr=(x,k,z)=>{!x||!k||(typeof k=="string"&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(K=>{Array.isArray(x)?x.forEach(ie=>{z?ie.classList.add(K):ie.classList.remove(K)}):z?x.classList.add(K):x.classList.remove(K)}))},Ze=(x,k)=>{Qr(x,k,!0)},wn=(x,k)=>{Qr(x,k,!1)},hr=(x,k)=>{const z=Array.from(x.children);for(let K=0;K<z.length;K++){const ie=z[K];if(ie instanceof HTMLElement&&Mt(ie,k))return ie}},Qn=(x,k,z)=>{z===`${parseInt(z)}`&&(z=parseInt(z)),z||parseInt(z)===0?x.style.setProperty(k,typeof z=="number"?`${z}px`:z):x.style.removeProperty(k)},at=function(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";x&&(x.style.display=k)},ht=x=>{x&&(x.style.display="none")},lo=function(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";x&&new MutationObserver(()=>{Aa(x,x.innerHTML,k)}).observe(x,{childList:!0,subtree:!0})},nl=(x,k,z,K)=>{const ie=x.querySelector(k);ie&&ie.style.setProperty(z,K)},Aa=function(x,k){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";k?at(x,z):ht(x)},Jn=x=>!!(x&&(x.offsetWidth||x.offsetHeight||x.getClientRects().length)),co=()=>!Jn(pe())&&!Jn(Ne())&&!Jn(fe()),Yo=x=>x.scrollHeight>x.clientHeight,rl=x=>{const k=window.getComputedStyle(x),z=parseFloat(k.getPropertyValue("animation-duration")||"0"),K=parseFloat(k.getPropertyValue("transition-duration")||"0");return z>0||K>0},Xo=function(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const z=me();z&&Jn(z)&&(k&&(z.style.transition="none",z.style.width="100%"),setTimeout(()=>{z.style.transition=`width ${x/1e3}s linear`,z.style.width="0%"},10))},Qo=()=>{const x=me();if(!x)return;const k=parseInt(window.getComputedStyle(x).width);x.style.removeProperty("transition"),x.style.width="100%";const z=parseInt(window.getComputedStyle(x).width),K=k/z*100;x.style.width=`${K}%`},Uf=()=>typeof window>"u"||typeof document>"u",kc=`
 <div aria-labelledby="${y.title}" aria-describedby="${y["html-container"]}" class="${y.popup}" tabindex="-1">
   <button type="button" class="${y.close}"></button>
   <ul class="${y["progress-steps"]}"></ul>
   <div class="${y.icon}"></div>
   <img class="${y.image}" />
   <h2 class="${y.title}" id="${y.title}"></h2>
   <div class="${y["html-container"]}" id="${y["html-container"]}"></div>
   <input class="${y.input}" id="${y.input}" />
   <input type="file" class="${y.file}" />
   <div class="${y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${y.select}" id="${y.select}"></select>
   <div class="${y.radio}"></div>
   <label class="${y.checkbox}">
     <input type="checkbox" id="${y.checkbox}" />
     <span class="${y.label}"></span>
   </label>
   <textarea class="${y.textarea}" id="${y.textarea}"></textarea>
   <div class="${y["validation-message"]}" id="${y["validation-message"]}"></div>
   <div class="${y.actions}">
     <div class="${y.loader}"></div>
     <button type="button" class="${y.confirm}"></button>
     <button type="button" class="${y.deny}"></button>
     <button type="button" class="${y.cancel}"></button>
   </div>
   <div class="${y.footer}"></div>
   <div class="${y["timer-progress-bar-container"]}">
     <div class="${y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Cc=()=>{const x=j();return x?(x.remove(),wn([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0):!1},fi=()=>{c.currentInstance.resetValidationMessage()},uo=()=>{const x=G(),k=hr(x,y.input),z=hr(x,y.file),K=x.querySelector(`.${y.range} input`),ie=x.querySelector(`.${y.range} output`),ve=hr(x,y.select),Be=x.querySelector(`.${y.checkbox} input`),Ue=hr(x,y.textarea);k.oninput=fi,z.onchange=fi,ve.onchange=fi,Be.onchange=fi,Ue.oninput=fi,K.oninput=()=>{fi(),ie.value=K.value},K.onchange=()=>{fi(),ie.value=K.value}},Ic=x=>typeof x=="string"?document.querySelector(x):x,Oc=x=>{const k=G();k.setAttribute("role",x.toast?"alert":"dialog"),k.setAttribute("aria-live",x.toast?"polite":"assertive"),x.toast||k.setAttribute("aria-modal","true")},Pa=x=>{window.getComputedStyle(x).direction==="rtl"&&Ze(j(),y.rtl)},ad=x=>{const k=Cc();if(Uf()){w("SweetAlert2 requires document to initialize");return}const z=document.createElement("div");z.className=y.container,k&&Ze(z,y["no-transition"]),nt(z,kc),z.dataset.swal2Theme=x.theme;const K=Ic(x.target);K.appendChild(z),Oc(x),Pa(K),uo()},ho=(x,k)=>{x instanceof HTMLElement?k.appendChild(x):typeof x=="object"?od(x,k):x&&nt(k,x)},od=(x,k)=>{x.jquery?Na(k,x):nt(k,x.toString())},Na=(x,k)=>{if(x.textContent="",0 in k)for(let z=0;z in k;z++)x.appendChild(k[z].cloneNode(!0));else x.appendChild(k.cloneNode(!0))},sd=(x,k)=>{const z=ye(),K=ge();!z||!K||(!k.showConfirmButton&&!k.showDenyButton&&!k.showCancelButton?ht(z):at(z),dn(z,k,"actions"),zn(z,K,k),nt(K,k.loaderHtml||""),dn(K,k,"loader"))};function zn(x,k,z){const K=pe(),ie=Ne(),ve=fe();!K||!ie||!ve||(Ta(K,"confirm",z),Ta(ie,"deny",z),Ta(ve,"cancel",z),ld(K,ie,ve,z),z.reverseButtons&&(z.toast?(x.insertBefore(ve,K),x.insertBefore(ie,K)):(x.insertBefore(ve,k),x.insertBefore(ie,k),x.insertBefore(K,k))))}function ld(x,k,z,K){if(!K.buttonsStyling){wn([x,k,z],y.styled);return}Ze([x,k,z],y.styled),K.confirmButtonColor&&(x.style.backgroundColor=K.confirmButtonColor,Ze(x,y["default-outline"])),K.denyButtonColor&&(k.style.backgroundColor=K.denyButtonColor,Ze(k,y["default-outline"])),K.cancelButtonColor&&(z.style.backgroundColor=K.cancelButtonColor,Ze(z,y["default-outline"]))}function Ta(x,k,z){const K=N(k);Aa(x,z[`show${K}Button`],"inline-block"),nt(x,z[`${k}ButtonText`]||""),x.setAttribute("aria-label",z[`${k}ButtonAriaLabel`]||""),x.className=y[k],dn(x,z,`${k}Button`)}const er=(x,k)=>{const z=Ae();z&&(nt(z,k.closeButtonHtml||""),dn(z,k,"closeButton"),Aa(z,k.showCloseButton),z.setAttribute("aria-label",k.closeButtonAriaLabel||""))},Le=(x,k)=>{const z=j();z&&(cd(z,k.backdrop),ka(z,k.position),ud(z,k.grow),dn(z,k,"container"))};function cd(x,k){typeof k=="string"?x.style.background=k:k||Ze([document.documentElement,document.body],y["no-backdrop"])}function ka(x,k){k&&(k in y?Ze(x,y[k]):(E('The "position" parameter is not valid, defaulting to "center"'),Ze(x,y.center)))}function ud(x,k){k&&Ze(x,y[`grow-${k}`])}var At={innerParams:new WeakMap,domCache:new WeakMap};const fo=["input","file","range","select","radio","checkbox","textarea"],Mc=(x,k)=>{const z=G();if(!z)return;const K=At.innerParams.get(x),ie=!K||k.input!==K.input;fo.forEach(ve=>{const Be=hr(z,y[ve]);Be&&(Ui(ve,k.inputAttributes),Be.className=y[ve],ie&&ht(Be))}),k.input&&(ie&&Vi(k),dd(k))},Vi=x=>{if(!x.input)return;if(!Rt[x.input]){w(`Unexpected type of input! Expected ${Object.keys(Rt).join(" | ")}, got "${x.input}"`);return}const k=es(x.input);if(!k)return;const z=Rt[x.input](k,x);at(k),x.inputAutoFocus&&setTimeout(()=>{_r(z)})},Jo=x=>{for(let k=0;k<x.attributes.length;k++){const z=x.attributes[k].name;["id","type","value","style"].includes(z)||x.removeAttribute(z)}},Ui=(x,k)=>{const z=G();if(!z)return;const K=Xn(z,x);if(K){Jo(K);for(const ie in k)K.setAttribute(ie,k[ie])}},dd=x=>{if(!x.input)return;const k=es(x.input);k&&dn(k,x,"input")},il=(x,k)=>{!x.placeholder&&k.inputPlaceholder&&(x.placeholder=k.inputPlaceholder)},Ca=(x,k,z)=>{if(z.inputLabel){const K=document.createElement("label"),ie=y["input-label"];K.setAttribute("for",x.id),K.className=ie,typeof z.customClass=="object"&&Ze(K,z.customClass.inputLabel),K.innerText=z.inputLabel,k.insertAdjacentElement("beforebegin",K)}},es=x=>{const k=G();if(k)return hr(k,y[x]||y.input)},ts=(x,k)=>{["string","number"].includes(typeof k)?x.value=`${k}`:R(k)||E(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof k}"`)},Rt={};Rt.text=Rt.email=Rt.password=Rt.number=Rt.tel=Rt.url=Rt.search=Rt.date=Rt["datetime-local"]=Rt.time=Rt.week=Rt.month=(x,k)=>(ts(x,k.inputValue),Ca(x,x,k),il(x,k),x.type=k.input,x),Rt.file=(x,k)=>(Ca(x,x,k),il(x,k),x),Rt.range=(x,k)=>{const z=x.querySelector("input"),K=x.querySelector("output");return ts(z,k.inputValue),z.type=k.input,ts(K,k.inputValue),Ca(z,x,k),x},Rt.select=(x,k)=>{if(x.textContent="",k.inputPlaceholder){const z=document.createElement("option");nt(z,k.inputPlaceholder),z.value="",z.disabled=!0,z.selected=!0,x.appendChild(z)}return Ca(x,x,k),x},Rt.radio=x=>(x.textContent="",x),Rt.checkbox=(x,k)=>{const z=Xn(G(),"checkbox");z.value="1",z.checked=Boolean(k.inputValue);const K=x.querySelector("span");return nt(K,k.inputPlaceholder||k.inputLabel),z},Rt.textarea=(x,k)=>{ts(x,k.inputValue),il(x,k),Ca(x,x,k);const z=K=>parseInt(window.getComputedStyle(K).marginLeft)+parseInt(window.getComputedStyle(K).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const K=parseInt(window.getComputedStyle(G()).width),ie=()=>{if(!document.body.contains(x))return;const ve=x.offsetWidth+z(x);ve>K?G().style.width=`${ve}px`:Qn(G(),"width",k.width)};new MutationObserver(ie).observe(x,{attributes:!0,attributeFilter:["style"]})}}),x};const Wf=(x,k)=>{const z=J();z&&(lo(z),dn(z,k,"htmlContainer"),k.html?(ho(k.html,z),at(z,"block")):k.text?(z.textContent=k.text,at(z,"block")):ht(z),Mc(x,k))},al=(x,k)=>{const z=Oe();z&&(lo(z),Aa(z,k.footer,"block"),k.footer&&ho(k.footer,z),dn(z,k,"footer"))},hd=(x,k)=>{const z=At.innerParams.get(x),K=X();if(!K)return;if(z&&k.icon===z.icon){Rc(K,k),ol(K,k);return}if(!k.icon&&!k.iconHtml){ht(K);return}if(k.icon&&Object.keys(_).indexOf(k.icon)===-1){w(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${k.icon}"`),ht(K);return}at(K),Rc(K,k),ol(K,k),Ze(K,k.showClass&&k.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",mo)},ol=(x,k)=>{for(const[z,K]of Object.entries(_))k.icon!==z&&wn(x,K);Ze(x,k.icon&&_[k.icon]),Lc(x,k),mo(),dn(x,k,"icon")},mo=()=>{const x=G();if(!x)return;const k=window.getComputedStyle(x).getPropertyValue("background-color"),z=x.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let K=0;K<z.length;K++)z[K].style.backgroundColor=k},mi=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ia=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Rc=(x,k)=>{if(!k.icon&&!k.iconHtml)return;let z=x.innerHTML,K="";k.iconHtml?K=Oa(k.iconHtml):k.icon==="success"?(K=mi,z=z.replace(/ style=".*?"/g,"")):k.icon==="error"?K=Ia:k.icon&&(K=Oa({question:"?",warning:"!",info:"i"}[k.icon])),z.trim()!==K.trim()&&nt(x,K)},Lc=(x,k)=>{if(k.iconColor){x.style.color=k.iconColor,x.style.borderColor=k.iconColor;for(const z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])nl(x,z,"background-color",k.iconColor);nl(x,".swal2-success-ring","border-color",k.iconColor)}},Oa=x=>`<div class="${y["icon-content"]}">${x}</div>`,st=(x,k)=>{const z=le();if(z){if(!k.imageUrl){ht(z);return}at(z,""),z.setAttribute("src",k.imageUrl),z.setAttribute("alt",k.imageAlt||""),Qn(z,"width",k.imageWidth),Qn(z,"height",k.imageHeight),z.className=y.image,dn(z,k,"image")}};let Pt=!1,Ma=0,Wi=0,Hi=0,sl=0;const Ye=x=>{x.addEventListener("mousedown",Ra),document.body.addEventListener("mousemove",La),x.addEventListener("mouseup",Zt),x.addEventListener("touchstart",Ra),document.body.addEventListener("touchmove",La),x.addEventListener("touchend",Zt)},Vt=x=>{x.removeEventListener("mousedown",Ra),document.body.removeEventListener("mousemove",La),x.removeEventListener("mouseup",Zt),x.removeEventListener("touchstart",Ra),document.body.removeEventListener("touchmove",La),x.removeEventListener("touchend",Zt)},Ra=x=>{const k=G();if(x.target===k||X().contains(x.target)){Pt=!0;const z=Jr(x);Ma=z.clientX,Wi=z.clientY,Hi=parseInt(k.style.insetInlineStart)||0,sl=parseInt(k.style.insetBlockStart)||0,Ze(k,"swal2-dragging")}},La=x=>{const k=G();if(Pt){let{clientX:z,clientY:K}=Jr(x);k.style.insetInlineStart=`${Hi+(z-Ma)}px`,k.style.insetBlockStart=`${sl+(K-Wi)}px`}},Zt=()=>{const x=G();Pt=!1,wn(x,"swal2-dragging")},Jr=x=>{let k=0,z=0;return x.type.startsWith("mouse")?(k=x.clientX,z=x.clientY):x.type.startsWith("touch")&&(k=x.touches[0].clientX,z=x.touches[0].clientY),{clientX:k,clientY:z}},$a=(x,k)=>{const z=j(),K=G();if(!(!z||!K)){if(k.toast){Qn(z,"width",k.width),K.style.width="100%";const ie=ge();ie&&K.insertBefore(ie,X())}else Qn(K,"width",k.width);Qn(K,"padding",k.padding),k.color&&(K.style.color=k.color),k.background&&(K.style.background=k.background),ht(he()),ei(K,k),k.draggable&&!k.toast?(Ze(K,y.draggable),Ye(K)):(wn(K,y.draggable),Vt(K))}},ei=(x,k)=>{const z=k.showClass||{};x.className=`${y.popup} ${Jn(x)?z.popup:""}`,k.toast?(Ze([document.documentElement,document.body],y["toast-shown"]),Ze(x,y.toast)):Ze(x,y.modal),dn(x,k,"popup"),typeof k.customClass=="string"&&Ze(x,k.customClass),k.icon&&Ze(x,y[`icon-${k.icon}`])},Yt=(x,k)=>{const z=Y();if(!z)return;const{progressSteps:K,currentProgressStep:ie}=k;if(!K||K.length===0||ie===void 0){ht(z);return}at(z),z.textContent="",ie>=K.length&&E("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),K.forEach((ve,Be)=>{const Ue=ft(ve);if(z.appendChild(Ue),Be===ie&&Ze(Ue,y["active-progress-step"]),Be!==K.length-1){const Ct=qi(k);z.appendChild(Ct)}})},ft=x=>{const k=document.createElement("li");return Ze(k,y["progress-step"]),nt(k,x),k},qi=x=>{const k=document.createElement("li");return Ze(k,y["progress-step-line"]),x.progressStepsDistance&&Qn(k,"width",x.progressStepsDistance),k},pi=(x,k)=>{const z=te();z&&(lo(z),Aa(z,k.title||k.titleText,"block"),k.title&&ho(k.title,z),k.titleText&&(z.innerText=k.titleText),dn(z,k,"title"))},Ki=(x,k)=>{$a(x,k),Le(x,k),Yt(x,k),hd(x,k),st(x,k),pi(x,k),er(x,k),Wf(x,k),sd(x,k),al(x,k);const z=G();typeof k.didRender=="function"&&z&&k.didRender(z),c.eventEmitter.emit("didRender",z)},ns=()=>Jn(G()),rs=()=>{var x;return(x=pe())===null||x===void 0?void 0:x.click()},$c=()=>{var x;return(x=Ne())===null||x===void 0?void 0:x.click()},ll=()=>{var x;return(x=fe())===null||x===void 0?void 0:x.click()},Gi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),cl=x=>{x.keydownTarget&&x.keydownHandlerAdded&&(x.keydownTarget.removeEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!1)},Zi=(x,k,z)=>{cl(x),k.toast||(x.keydownHandler=K=>qe(k,K,z),x.keydownTarget=k.keydownListenerCapture?window:G(),x.keydownListenerCapture=k.keydownListenerCapture,x.keydownTarget.addEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!0)},Lr=(x,k)=>{var z;const K=ue();if(K.length){x=x+k,x===K.length?x=0:x===-1&&(x=K.length-1),K[x].focus();return}(z=G())===null||z===void 0||z.focus()},is=["ArrowRight","ArrowDown"],fd=["ArrowLeft","ArrowUp"],qe=(x,k,z)=>{x&&(k.isComposing||k.keyCode===229||(x.stopKeydownPropagation&&k.stopPropagation(),k.key==="Enter"?Fn(k,x):k.key==="Tab"?kt(k):[...is,...fd].includes(k.key)?md(k.key):k.key==="Escape"&&Dc(k,x,z)))},Fn=(x,k)=>{if(!S(k.allowEnterKey))return;const z=Xn(G(),k.input);if(x.target&&z&&x.target instanceof HTMLElement&&x.target.outerHTML===z.outerHTML){if(["textarea","file"].includes(k.input))return;rs(),x.preventDefault()}},kt=x=>{const k=x.target,z=ue();let K=-1;for(let ie=0;ie<z.length;ie++)if(k===z[ie]){K=ie;break}x.shiftKey?Lr(K,-1):Lr(K,1),x.stopPropagation(),x.preventDefault()},md=x=>{const k=ye(),z=pe(),K=Ne(),ie=fe();if(!k||!z||!K||!ie)return;const ve=[z,K,ie];if(document.activeElement instanceof HTMLElement&&!ve.includes(document.activeElement))return;const Be=is.includes(x)?"nextElementSibling":"previousElementSibling";let Ue=document.activeElement;if(Ue){for(let Ct=0;Ct<k.children.length;Ct++){if(Ue=Ue[Be],!Ue)return;if(Ue instanceof HTMLButtonElement&&Jn(Ue))break}Ue instanceof HTMLButtonElement&&Ue.focus()}},Dc=(x,k,z)=>{S(k.allowEscapeKey)&&(x.preventDefault(),z(Gi.esc))};var Vn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const jc=()=>{const x=j();Array.from(document.body.children).forEach(z=>{z.contains(x)||(z.hasAttribute("aria-hidden")&&z.setAttribute("data-previous-aria-hidden",z.getAttribute("aria-hidden")||""),z.setAttribute("aria-hidden","true"))})},Yi=()=>{Array.from(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")||""),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},Xi=typeof window<"u"&&!!window.GestureEvent,Qi=()=>{if(Xi&&!Mt(document.body,y.iosfix)){const x=document.body.scrollTop;document.body.style.top=`${x*-1}px`,Ze(document.body,y.iosfix),bn()}},bn=()=>{const x=j();if(!x)return;let k;x.ontouchstart=z=>{k=$r(z)},x.ontouchmove=z=>{k&&(z.preventDefault(),z.stopPropagation())}},$r=x=>{const k=x.target,z=j(),K=J();return!z||!K||po(x)||Bc(x)?!1:k===z||!Yo(z)&&k instanceof HTMLElement&&k.tagName!=="INPUT"&&k.tagName!=="TEXTAREA"&&!(Yo(K)&&K.contains(k))},po=x=>x.touches&&x.touches.length&&x.touches[0].touchType==="stylus",Bc=x=>x.touches&&x.touches.length>1,zc=()=>{if(Mt(document.body,y.iosfix)){const x=parseInt(document.body.style.top,10);wn(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=x*-1}},jt=()=>{const x=document.createElement("div");x.className=y["scrollbar-measure"],document.body.appendChild(x);const k=x.getBoundingClientRect().width-x.clientWidth;return document.body.removeChild(x),k};let Ji=null;const Hf=x=>{Ji===null&&(document.body.scrollHeight>window.innerHeight||x==="scroll")&&(Ji=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ji+jt()}px`)},Fc=()=>{Ji!==null&&(document.body.style.paddingRight=`${Ji}px`,Ji=null)};function rt(x,k,z,K){He()?ul(x,K):(f(z).then(()=>ul(x,K)),cl(c)),Xi?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),tt()&&(Fc(),zc(),Yi()),pd()}function pd(){wn([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"]])}function Xt(x){x=Vc(x);const k=Vn.swalPromiseResolve.get(this),z=go(this);this.isAwaitingPromise?x.isDismissed||(yo(this),k(x)):z&&k(x)}const go=x=>{const k=G();if(!k)return!1;const z=At.innerParams.get(x);if(!z||Mt(k,z.hideClass.popup))return!1;wn(k,z.showClass.popup),Ze(k,z.hideClass.popup);const K=j();return wn(K,z.showClass.backdrop),Ze(K,z.hideClass.backdrop),as(x,k,z),!0};function Dr(x){const k=Vn.swalPromiseReject.get(this);yo(this),k&&k(x)}const yo=x=>{x.isAwaitingPromise&&(delete x.isAwaitingPromise,At.innerParams.get(x)||x._destroy())},Vc=x=>typeof x>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},x),as=(x,k,z)=>{var K;const ie=j(),ve=rl(k);typeof z.willClose=="function"&&z.willClose(k),(K=c.eventEmitter)===null||K===void 0||K.emit("willClose",k),ve?Uc(x,k,ie,z.returnFocus,z.didClose):rt(x,ie,z.returnFocus,z.didClose)},Uc=(x,k,z,K,ie)=>{c.swalCloseEventFinishedCallback=rt.bind(null,x,z,K,ie);const ve=function(Be){if(Be.target===k){var Ue;(Ue=c.swalCloseEventFinishedCallback)===null||Ue===void 0||Ue.call(c),delete c.swalCloseEventFinishedCallback,k.removeEventListener("animationend",ve),k.removeEventListener("transitionend",ve)}};k.addEventListener("animationend",ve),k.addEventListener("transitionend",ve)},ul=(x,k)=>{setTimeout(()=>{var z;typeof k=="function"&&k.bind(x.params)(),(z=c.eventEmitter)===null||z===void 0||z.emit("didClose"),x._destroy&&x._destroy()})},gi=x=>{let k=G();if(k||new ae,k=G(),!k)return;const z=ge();He()?ht(X()):dl(k,x),at(z),k.setAttribute("data-loading","true"),k.setAttribute("aria-busy","true"),k.focus()},dl=(x,k)=>{const z=ye(),K=ge();!z||!K||(!k&&Jn(pe())&&(k=pe()),at(z),k&&(ht(k),K.setAttribute("data-button-to-replace",k.className),z.insertBefore(K,k)),Ze([x,z],y.loading))},hl=(x,k)=>{k.input==="select"||k.input==="radio"?Wc(x,k):["text","email","number","tel","textarea"].some(z=>z===k.input)&&(T(k.inputValue)||R(k.inputValue))&&(gi(pe()),fl(x,k))},ti=(x,k)=>{const z=x.getInput();if(!z)return null;switch(k.input){case"checkbox":return gd(z);case"radio":return vo(z);case"file":return yi(z);default:return k.inputAutoTrim?z.value.trim():z.value}},gd=x=>x.checked?1:0,vo=x=>x.checked?x.value:null,yi=x=>x.files&&x.files.length?x.getAttribute("multiple")!==null?x.files:x.files[0]:null,Wc=(x,k)=>{const z=G();if(!z)return;const K=ie=>{k.input==="select"?os(z,ea(ie),k):k.input==="radio"&&yd(z,ea(ie),k)};T(k.inputOptions)||R(k.inputOptions)?(gi(pe()),O(k.inputOptions).then(ie=>{x.hideLoading(),K(ie)})):typeof k.inputOptions=="object"?K(k.inputOptions):w(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof k.inputOptions}`)},fl=(x,k)=>{const z=x.getInput();z&&(ht(z),O(k.inputValue).then(K=>{z.value=k.input==="number"?`${parseFloat(K)||0}`:`${K}`,at(z),z.focus(),x.hideLoading()}).catch(K=>{w(`Error in inputValue promise: ${K}`),z.value="",at(z),z.focus(),x.hideLoading()}))};function os(x,k,z){const K=hr(x,y.select);if(!K)return;const ie=(ve,Be,Ue)=>{const Ct=document.createElement("option");Ct.value=Ue,nt(Ct,Be),Ct.selected=ml(Ue,z.inputValue),ve.appendChild(Ct)};k.forEach(ve=>{const Be=ve[0],Ue=ve[1];if(Array.isArray(Ue)){const Ct=document.createElement("optgroup");Ct.label=Be,Ct.disabled=!1,K.appendChild(Ct),Ue.forEach(_l=>ie(Ct,_l[1],_l[0]))}else ie(K,Ue,Be)}),K.focus()}function yd(x,k,z){const K=hr(x,y.radio);if(!K)return;k.forEach(ve=>{const Be=ve[0],Ue=ve[1],Ct=document.createElement("input"),_l=document.createElement("label");Ct.type="radio",Ct.name=y.radio,Ct.value=Be,ml(Be,z.inputValue)&&(Ct.checked=!0);const em=document.createElement("span");nt(em,Ue),em.className=y.label,_l.appendChild(Ct),_l.appendChild(em),K.appendChild(_l)});const ie=K.querySelectorAll("input");ie.length&&ie[0].focus()}const ea=x=>{const k=[];return x instanceof Map?x.forEach((z,K)=>{let ie=z;typeof ie=="object"&&(ie=ea(ie)),k.push([K,ie])}):Object.keys(x).forEach(z=>{let K=x[z];typeof K=="object"&&(K=ea(K)),k.push([z,K])}),k},ml=(x,k)=>!!k&&k.toString()===x.toString(),vd=x=>{const k=At.innerParams.get(x);x.disableButtons(),k.input?Hc(x,"confirm"):gl(x,!0)},Da=x=>{const k=At.innerParams.get(x);x.disableButtons(),k.returnInputValueOnDeny?Hc(x,"deny"):ss(x,!1)},pl=(x,k)=>{x.disableButtons(),k(Gi.cancel)},Hc=(x,k)=>{const z=At.innerParams.get(x);if(!z.input){w(`The "input" parameter is needed to be set when using returnInputValueOn${N(k)}`);return}const K=x.getInput(),ie=ti(x,z);z.inputValidator?qc(x,ie,k):K&&!K.checkValidity()?(x.enableButtons(),x.showValidationMessage(z.validationMessage||K.validationMessage)):k==="deny"?ss(x,ie):gl(x,ie)},qc=(x,k,z)=>{const K=At.innerParams.get(x);x.disableInput(),Promise.resolve().then(()=>O(K.inputValidator(k,K.validationMessage))).then(ve=>{x.enableButtons(),x.enableInput(),ve?x.showValidationMessage(ve):z==="deny"?ss(x,k):gl(x,k)})},ss=(x,k)=>{const z=At.innerParams.get(x||void 0);z.showLoaderOnDeny&&gi(Ne()),z.preDeny?(x.isAwaitingPromise=!0,Promise.resolve().then(()=>O(z.preDeny(k,z.validationMessage))).then(ie=>{ie===!1?(x.hideLoading(),yo(x)):x.close({isDenied:!0,value:typeof ie>"u"?k:ie})}).catch(ie=>an(x||void 0,ie))):x.close({isDenied:!0,value:k})},ta=(x,k)=>{x.close({isConfirmed:!0,value:k})},an=(x,k)=>{x.rejectPromise(k)},gl=(x,k)=>{const z=At.innerParams.get(x||void 0);z.showLoaderOnConfirm&&gi(),z.preConfirm?(x.resetValidationMessage(),x.isAwaitingPromise=!0,Promise.resolve().then(()=>O(z.preConfirm(k,z.validationMessage))).then(ie=>{Jn(he())||ie===!1?(x.hideLoading(),yo(x)):ta(x,typeof ie>"u"?k:ie)}).catch(ie=>an(x||void 0,ie))):ta(x,k)};function vi(){const x=At.innerParams.get(this);if(!x)return;const k=At.domCache.get(this);ht(k.loader),He()?x.icon&&at(X()):En(k),wn([k.popup,k.actions],y.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const En=x=>{const k=x.popup.getElementsByClassName(x.loader.getAttribute("data-button-to-replace"));k.length?at(k[0],"inline-block"):co()&&ht(x.actions)};function g(){const x=At.innerParams.get(this),k=At.domCache.get(this);return k?Xn(k.popup,x.input):null}function M(x,k,z){const K=At.domCache.get(x);k.forEach(ie=>{K[ie].disabled=z})}function F(x,k){const z=G();if(!(!z||!x))if(x.type==="radio"){const K=z.querySelectorAll(`[name="${y.radio}"]`);for(let ie=0;ie<K.length;ie++)K[ie].disabled=k}else x.disabled=k}function q(){M(this,["confirmButton","denyButton","cancelButton"],!1)}function ne(){M(this,["confirmButton","denyButton","cancelButton"],!0)}function oe(){F(this.getInput(),!1)}function Se(){F(this.getInput(),!0)}function wt(x){const k=At.domCache.get(this),z=At.innerParams.get(this);nt(k.validationMessage,x),k.validationMessage.className=y["validation-message"],z.customClass&&z.customClass.validationMessage&&Ze(k.validationMessage,z.customClass.validationMessage),at(k.validationMessage);const K=this.getInput();K&&(K.setAttribute("aria-invalid","true"),K.setAttribute("aria-describedby",y["validation-message"]),_r(K),Ze(K,y.inputerror))}function xn(){const x=At.domCache.get(this);x.validationMessage&&ht(x.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),wn(k,y.inputerror))}const Fe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],In={allowEnterKey:void 0},tr=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Sr=x=>Object.prototype.hasOwnProperty.call(Fe,x),ni=x=>Qt.indexOf(x)!==-1,yl=x=>In[x],Kc=x=>{Sr(x)||E(`Unknown parameter "${x}"`)},gy=x=>{tr.includes(x)&&E(`The parameter "${x}" is incompatible with toasts`)},wd=x=>{const k=yl(x);k&&D(x,k)},yy=x=>{x.backdrop===!1&&x.allowOutsideClick&&E('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),x.theme&&!["light","dark","auto"].includes(x.theme)&&E(`Invalid theme "${x.theme}". Expected "light", "dark", or "auto"`);for(const k in x)Kc(k),x.toast&&gy(k),wd(k)};function ja(x){const k=j(),z=G(),K=At.innerParams.get(this);if(!z||Mt(z,K.hideClass.popup)){E("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const ie=bd(x),ve=Object.assign({},K,ie);yy(ve),k.dataset.swal2Theme=ve.theme,Ki(this,ve),At.innerParams.set(this,ve),Object.defineProperties(this,{params:{value:Object.assign({},this.params,x),writable:!1,enumerable:!0}})}const bd=x=>{const k={};return Object.keys(x).forEach(z=>{ni(z)?k[z]=x[z]:E(`Invalid parameter to update: ${z}`)}),k};function vy(){const x=At.domCache.get(this),k=At.innerParams.get(this);if(!k){wy(this);return}x.popup&&c.swalCloseEventFinishedCallback&&(c.swalCloseEventFinishedCallback(),delete c.swalCloseEventFinishedCallback),typeof k.didDestroy=="function"&&k.didDestroy(),c.eventEmitter.emit("didDestroy"),qf(this)}const qf=x=>{wy(x),delete x.params,delete c.keydownHandler,delete c.keydownTarget,delete c.currentInstance},wy=x=>{x.isAwaitingPromise?(wi(At,x),x.isAwaitingPromise=!0):(wi(Vn,x),wi(At,x),delete x.isAwaitingPromise,delete x.disableButtons,delete x.enableButtons,delete x.getInput,delete x.disableInput,delete x.enableInput,delete x.hideLoading,delete x.disableLoading,delete x.showValidationMessage,delete x.resetValidationMessage,delete x.close,delete x.closePopup,delete x.closeModal,delete x.closeToast,delete x.rejectPromise,delete x.update,delete x._destroy)},wi=(x,k)=>{for(const z in x)x[z].delete(k)};var Mx=Object.freeze({__proto__:null,_destroy:vy,close:Xt,closeModal:Xt,closePopup:Xt,closeToast:Xt,disableButtons:ne,disableInput:Se,disableLoading:vi,enableButtons:q,enableInput:oe,getInput:g,handleAwaitingPromise:yo,hideLoading:vi,rejectPromise:Dr,resetValidationMessage:xn,showValidationMessage:wt,update:ja});const vl=(x,k,z)=>{x.toast?Rx(x,k,z):(by(k),Kf(k),xd(x,k,z))},Rx=(x,k,z)=>{k.popup.onclick=()=>{x&&(Ba(x)||x.timer||x.input)||z(Gi.close)}},Ba=x=>!!(x.showConfirmButton||x.showDenyButton||x.showCancelButton||x.showCloseButton);let ls=!1;const by=x=>{x.popup.onmousedown=()=>{x.container.onmouseup=function(k){x.container.onmouseup=()=>{},k.target===x.container&&(ls=!0)}}},Kf=x=>{x.container.onmousedown=k=>{k.target===x.container&&k.preventDefault(),x.popup.onmouseup=function(z){x.popup.onmouseup=()=>{},(z.target===x.popup||z.target instanceof HTMLElement&&x.popup.contains(z.target))&&(ls=!0)}}},xd=(x,k,z)=>{k.container.onclick=K=>{if(ls){ls=!1;return}K.target===k.container&&S(x.allowOutsideClick)&&z(Gi.backdrop)}},Gf=x=>typeof x=="object"&&x.jquery,Gc=x=>x instanceof Element||Gf(x),wl=x=>{const k={};return typeof x[0]=="object"&&!Gc(x[0])?Object.assign(k,x[0]):["title","html","icon"].forEach((z,K)=>{const ie=x[K];typeof ie=="string"||Gc(ie)?k[z]=ie:ie!==void 0&&w(`Unexpected type of ${z}! Expected "string" or "Element", got ${typeof ie}`)}),k};function _d(){for(var x=arguments.length,k=new Array(x),z=0;z<x;z++)k[z]=arguments[z];return new this(...k)}function Zf(x){class k extends this{_main(K,ie){return super._main(K,Object.assign({},x,ie))}}return k}const xy=()=>c.timeout&&c.timeout.getTimerLeft(),_y=()=>{if(c.timeout)return Qo(),c.timeout.stop()},Zc=()=>{if(c.timeout){const x=c.timeout.start();return Xo(x),x}},Lx=()=>{const x=c.timeout;return x&&(x.running?_y():Zc())},Sy=x=>{if(c.timeout){const k=c.timeout.increase(x);return Xo(k,!0),k}},$x=()=>!!(c.timeout&&c.timeout.isRunning());let Yf=!1;const Xf={};function na(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Xf[x]=this,Yf||(document.body.addEventListener("click",Sd),Yf=!0)}const Sd=x=>{for(let k=x.target;k&&k!==document;k=k.parentNode)for(const z in Xf){const K=k.getAttribute(z);if(K){Xf[z].fire({template:K});return}}};class Dx{constructor(){this.events={}}_getHandlersByEventName(k){return typeof this.events[k]>"u"&&(this.events[k]=[]),this.events[k]}on(k,z){const K=this._getHandlersByEventName(k);K.includes(z)||K.push(z)}once(k,z){var K=this;const ie=function(){K.removeListener(k,ie);for(var ve=arguments.length,Be=new Array(ve),Ue=0;Ue<ve;Ue++)Be[Ue]=arguments[Ue];z.apply(K,Be)};this.on(k,ie)}emit(k){for(var z=arguments.length,K=new Array(z>1?z-1:0),ie=1;ie<z;ie++)K[ie-1]=arguments[ie];this._getHandlersByEventName(k).forEach(ve=>{try{ve.apply(this,K)}catch(Be){console.error(Be)}})}removeListener(k,z){const K=this._getHandlersByEventName(k),ie=K.indexOf(z);ie>-1&&K.splice(ie,1)}removeAllListeners(k){this.events[k]!==void 0&&(this.events[k].length=0)}reset(){this.events={}}}c.eventEmitter=new Dx;var Bx=Object.freeze({__proto__:null,argsToParams:wl,bindClickHandler:na,clickCancel:ll,clickConfirm:rs,clickDeny:$c,enableLoading:gi,fire:_d,getActions:ye,getCancelButton:fe,getCloseButton:Ae,getConfirmButton:pe,getContainer:j,getDenyButton:Ne,getFocusableElements:ue,getFooter:Oe,getHtmlContainer:J,getIcon:X,getIconContent:ee,getImage:le,getInputLabel:Ee,getLoader:ge,getPopup:G,getProgressSteps:Y,getTimerLeft:xy,getTimerProgressBar:me,getTitle:te,getValidationMessage:he,increaseTimer:Sy,isDeprecatedParameter:yl,isLoading:Ot,isTimerRunning:$x,isUpdatableParameter:ni,isValidParameter:Sr,isVisible:ns,mixin:Zf,off:(x,k)=>{if(!x){c.eventEmitter.reset();return}k?c.eventEmitter.removeListener(x,k):c.eventEmitter.removeAllListeners(x)},on:(x,k)=>{c.eventEmitter.on(x,k)},once:(x,k)=>{c.eventEmitter.once(x,k)},resumeTimer:Zc,showLoading:gi,stopTimer:_y,toggleTimer:Lx});class Yc{constructor(k,z){this.callback=k,this.remaining=z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(k){const z=this.running;return z&&this.stop(),this.remaining+=k,z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ey=["swal-title","swal-html","swal-footer"],bl=x=>{const k=typeof x.template=="string"?document.querySelector(x.template):x.template;if(!k)return{};const z=k.content;return Fx(z),Object.assign(Ay(z),Py(z),zx(z),za(z),Ny(z),Ty(z),Xc(z,Ey))},Ay=x=>{const k={};return Array.from(x.querySelectorAll("swal-param")).forEach(K=>{ra(K,["name","value"]);const ie=K.getAttribute("name"),ve=K.getAttribute("value");!ie||!ve||(typeof Fe[ie]=="boolean"?k[ie]=ve!=="false":typeof Fe[ie]=="object"?k[ie]=JSON.parse(ve):k[ie]=ve)}),k},Py=x=>{const k={};return Array.from(x.querySelectorAll("swal-function-param")).forEach(K=>{const ie=K.getAttribute("name"),ve=K.getAttribute("value");!ie||!ve||(k[ie]=new Function(`return ${ve}`)())}),k},zx=x=>{const k={};return Array.from(x.querySelectorAll("swal-button")).forEach(K=>{ra(K,["type","color","aria-label"]);const ie=K.getAttribute("type");!ie||!["confirm","cancel","deny"].includes(ie)||(k[`${ie}ButtonText`]=K.innerHTML,k[`show${N(ie)}Button`]=!0,K.hasAttribute("color")&&(k[`${ie}ButtonColor`]=K.getAttribute("color")),K.hasAttribute("aria-label")&&(k[`${ie}ButtonAriaLabel`]=K.getAttribute("aria-label")))}),k},za=x=>{const k={},z=x.querySelector("swal-image");return z&&(ra(z,["src","width","height","alt"]),z.hasAttribute("src")&&(k.imageUrl=z.getAttribute("src")||void 0),z.hasAttribute("width")&&(k.imageWidth=z.getAttribute("width")||void 0),z.hasAttribute("height")&&(k.imageHeight=z.getAttribute("height")||void 0),z.hasAttribute("alt")&&(k.imageAlt=z.getAttribute("alt")||void 0)),k},Ny=x=>{const k={},z=x.querySelector("swal-icon");return z&&(ra(z,["type","color"]),z.hasAttribute("type")&&(k.icon=z.getAttribute("type")),z.hasAttribute("color")&&(k.iconColor=z.getAttribute("color")),k.iconHtml=z.innerHTML),k},Ty=x=>{const k={},z=x.querySelector("swal-input");z&&(ra(z,["type","label","placeholder","value"]),k.input=z.getAttribute("type")||"text",z.hasAttribute("label")&&(k.inputLabel=z.getAttribute("label")),z.hasAttribute("placeholder")&&(k.inputPlaceholder=z.getAttribute("placeholder")),z.hasAttribute("value")&&(k.inputValue=z.getAttribute("value")));const K=Array.from(x.querySelectorAll("swal-input-option"));return K.length&&(k.inputOptions={},K.forEach(ie=>{ra(ie,["value"]);const ve=ie.getAttribute("value");if(!ve)return;const Be=ie.innerHTML;k.inputOptions[ve]=Be})),k},Xc=(x,k)=>{const z={};for(const K in k){const ie=k[K],ve=x.querySelector(ie);ve&&(ra(ve,[]),z[ie.replace(/^swal-/,"")]=ve.innerHTML.trim())}return z},Fx=x=>{const k=Ey.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(x.children).forEach(z=>{const K=z.tagName.toLowerCase();k.includes(K)||E(`Unrecognized element <${K}>`)})},ra=(x,k)=>{Array.from(x.attributes).forEach(z=>{k.indexOf(z.name)===-1&&E([`Unrecognized attribute "${z.name}" on <${x.tagName.toLowerCase()}>.`,`${k.length?`Allowed attributes are: ${k.join(", ")}`:"To set the value, use HTML within the element."}`])})},xl=10,ky=x=>{const k=j(),z=G();typeof x.willOpen=="function"&&x.willOpen(z),c.eventEmitter.emit("willOpen",z);const ie=window.getComputedStyle(document.body).overflowY;Iy(k,z,x),setTimeout(()=>{Vx(k,z)},xl),tt()&&(Cy(k,x.scrollbarPadding,ie),jc()),!He()&&!c.previousActiveElement&&(c.previousActiveElement=document.activeElement),typeof x.didOpen=="function"&&setTimeout(()=>x.didOpen(z)),c.eventEmitter.emit("didOpen",z),wn(k,y["no-transition"])},Qc=x=>{const k=G();if(x.target!==k)return;const z=j();k.removeEventListener("animationend",Qc),k.removeEventListener("transitionend",Qc),z.style.overflowY="auto"},Vx=(x,k)=>{rl(k)?(x.style.overflowY="hidden",k.addEventListener("animationend",Qc),k.addEventListener("transitionend",Qc)):x.style.overflowY="auto"},Cy=(x,k,z)=>{Qi(),k&&z!=="hidden"&&Hf(z),setTimeout(()=>{x.scrollTop=0})},Iy=(x,k,z)=>{Ze(x,z.showClass.backdrop),z.animation?(k.style.setProperty("opacity","0","important"),at(k,"grid"),setTimeout(()=>{Ze(k,z.showClass.popup),k.style.removeProperty("opacity")},xl)):at(k,"grid"),Ze([document.documentElement,document.body],y.shown),z.heightAuto&&z.backdrop&&!z.toast&&Ze([document.documentElement,document.body],y["height-auto"])};var Jf={email:(x,k)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(x)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(x,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(x)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function Oy(x){x.inputValidator||(x.input==="email"&&(x.inputValidator=Jf.email),x.input==="url"&&(x.inputValidator=Jf.url))}function My(x){(!x.target||typeof x.target=="string"&&!document.querySelector(x.target)||typeof x.target!="string"&&!x.target.appendChild)&&(E('Target parameter is not valid, defaulting to "body"'),x.target="body")}function Ux(x){Oy(x),x.showLoaderOnConfirm&&!x.preConfirm&&E(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),My(x),typeof x.title=="string"&&(x.title=x.title.split(`
`).join("<br />")),ad(x)}let bi;var Jc=new WeakMap;class hn{constructor(){if(a(this,Jc,void 0),typeof window>"u")return;bi=this;for(var k=arguments.length,z=new Array(k),K=0;K<k;K++)z[K]=arguments[K];const ie=Object.freeze(this.constructor.argsToParams(z));this.params=ie,this.isAwaitingPromise=!1,o(Jc,this,this._main(bi.params))}_main(k){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yy(Object.assign({},z,k)),c.currentInstance){const ve=Vn.swalPromiseResolve.get(c.currentInstance),{isAwaitingPromise:Be}=c.currentInstance;c.currentInstance._destroy(),Be||ve({isDismissed:!0}),tt()&&Yi()}c.currentInstance=bi;const K=h(k,z);Ux(K),Object.freeze(K),c.timeout&&(c.timeout.stop(),delete c.timeout),clearTimeout(c.restoreFocusTimeout);const ie=v(bi);return Ki(bi,K),At.innerParams.set(bi,K),s(bi,ie,K)}then(k){return i(Jc,this).then(k)}finally(k){return i(Jc,this).finally(k)}}const s=(x,k,z)=>new Promise((K,ie)=>{const ve=Be=>{x.close({isDismissed:!0,dismiss:Be})};Vn.swalPromiseResolve.set(x,K),Vn.swalPromiseReject.set(x,ie),k.confirmButton.onclick=()=>{vd(x)},k.denyButton.onclick=()=>{Da(x)},k.cancelButton.onclick=()=>{pl(x,ve)},k.closeButton.onclick=()=>{ve(Gi.close)},vl(z,k,ve),Zi(c,z,ve),hl(x,z),ky(z),I(c,z,ve),B(k,z),setTimeout(()=>{k.container.scrollTop=0})}),h=(x,k)=>{const z=bl(x),K=Object.assign({},Fe,k,z,x);return K.showClass=Object.assign({},Fe.showClass,K.showClass),K.hideClass=Object.assign({},Fe.hideClass,K.hideClass),K.animation===!1&&(K.showClass={backdrop:"swal2-noanimation"},K.hideClass={}),K},v=x=>{const k={popup:G(),container:j(),actions:ye(),confirmButton:pe(),denyButton:Ne(),cancelButton:fe(),loader:ge(),closeButton:Ae(),validationMessage:he(),progressSteps:Y()};return At.domCache.set(x,k),k},I=(x,k,z)=>{const K=me();ht(K),k.timer&&(x.timeout=new Yc(()=>{z("timer"),delete x.timeout},k.timer),k.timerProgressBar&&(at(K),dn(K,k,"timerProgressBar"),setTimeout(()=>{x.timeout&&x.timeout.running&&Xo(k.timer)})))},B=(x,k)=>{if(!k.toast){if(!S(k.allowEnterKey)){D("allowEnterKey"),re();return}H(x)||Q(x,k)||Lr(-1,1)}},H=x=>{const k=Array.from(x.popup.querySelectorAll("[autofocus]"));for(const z of k)if(z instanceof HTMLElement&&Jn(z))return z.focus(),!0;return!1},Q=(x,k)=>k.focusDeny&&Jn(x.denyButton)?(x.denyButton.focus(),!0):k.focusCancel&&Jn(x.cancelButton)?(x.cancelButton.focus(),!0):k.focusConfirm&&Jn(x.confirmButton)?(x.confirmButton.focus(),!0):!1,re=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const x=new Date,k=localStorage.getItem("swal-initiation");k?(x.getTime()-Date.parse(k))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const z=document.createElement("audio");z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",z.loop=!0,document.body.appendChild(z),setTimeout(()=>{z.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${x}`)}hn.prototype.disableButtons=ne,hn.prototype.enableButtons=q,hn.prototype.getInput=g,hn.prototype.disableInput=Se,hn.prototype.enableInput=oe,hn.prototype.hideLoading=vi,hn.prototype.disableLoading=vi,hn.prototype.showValidationMessage=wt,hn.prototype.resetValidationMessage=xn,hn.prototype.close=Xt,hn.prototype.closePopup=Xt,hn.prototype.closeModal=Xt,hn.prototype.closeToast=Xt,hn.prototype.rejectPromise=Dr,hn.prototype.update=ja,hn.prototype._destroy=vy,Object.assign(hn,Bx),Object.keys(Mx).forEach(x=>{hn[x]=function(){return bi&&bi[x]?bi[x](...arguments):null}}),hn.DismissReason=Gi,hn.version="11.16.0";const ae=hn;return ae.default=ae,ae}),typeof Ei<"u"&&Ei.Sweetalert2&&(Ei.swal=Ei.sweetAlert=Ei.Swal=Ei.SweetAlert=Ei.Sweetalert2)})(Sz);const gs=Sz.exports;const $2e=({className:t="",...e})=>u("input",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
      text-zinc-700 text-sm transition duration-200 ease-in-out
      placeholder:text-zinc-400
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      disabled:opacity-50 disabled:cursor-not-allowed ${t}`,...e}),D2e=({className:t="",...e})=>u("select",{className:`w-full px-3 py-2 bg-white border border-zinc-200 rounded-lg 
      text-zinc-700 text-sm transition duration-200 ease-in-out
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      disabled:opacity-50 disabled:cursor-not-allowed ${t}`,...e}),_m=({label:t,count:e,icon:n,description:r,className:i})=>u("div",{className:`bg-white p-6 rounded-xl border border-gray-200 hover:shadow-md transition-all cursor-pointer group ${i}`,children:u("div",{className:"flex items-start justify-between",children:b("div",{children:[u("div",{className:"p-2.5 bg-gray-50 rounded-lg w-fit group-hover:bg-emerald-50 transition-colors",children:u(n,{className:"w-5 h-5 text-gray-600 group-hover:text-emerald-600 transition-colors"})}),u("p",{className:"text-sm font-medium text-gray-600 mt-3",children:t}),u("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:e}),r&&u("p",{className:"text-sm text-gray-500 mt-1",children:r})]})})}),l1=({icon:t,label:e,onClick:n,variant:r="default"})=>b("button",{onClick:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium 
        transition-all hover:shadow-sm ${{default:"bg-gray-100 text-gray-700 hover:bg-gray-200",success:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200",warning:"bg-yellow-100 text-yellow-700 hover:bg-yellow-200",danger:"bg-red-100 text-red-700 hover:bg-red-200"}[r]}`,children:[u(t,{className:"w-4 h-4"}),e]}),j2e=({pickup:t,onStatusChange:e,isProcessing:n})=>{var o;const r={pending:"bg-yellow-100 text-yellow-700 border-yellow-200",assigned:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-green-50 text-blue-700 border-blue-200",completed:"bg-emerald-100 text-emerald-700 border-emerald-200",cancelled:"bg-red-100 text-red-700 border-red-200"},a=(l=>{switch(l){case"pending":return Ko;case"assigned":return ro;case"in_progress":return aj;case"completed":return Lb;case"cancelled":return kn;default:return un}})(t.status);return b("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden transition-all hover:shadow-md group",children:[u("div",{className:`h-1 w-full ${(o=r[t.status])==null?void 0:o.replace("text-","bg-").split(" ")[0]}`}),b("div",{className:"p-6",children:[b("div",{className:"flex justify-between items-start mb-6",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"bg-gray-50 p-3 rounded-xl group-hover:bg-emerald-50 transition-colors",children:u(Ci,{className:"w-6 h-6 text-gray-600 group-hover:text-emerald-600 transition-colors"})}),b("div",{children:[u("h3",{className:"font-semibold text-gray-800 text-lg group-hover:text-emerald-600 transition-colors",children:t.userName}),b("div",{className:"flex items-center gap-3 mt-2",children:[b("div",{className:"flex items-center gap-1.5",children:[u(B2,{className:"w-4 h-4 text-gray-400"}),u("span",{className:"text-sm text-gray-600",children:t.phone||"No phone number"})]}),u("span",{className:"text-gray-300",children:"•"}),b("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium ${r[t.status]}`,children:[u(a,{className:"w-4 h-4"}),t.status.charAt(0).toUpperCase()+t.status.slice(1)]})]})]})]}),b("div",{className:"text-right",children:[u("p",{className:"text-xs text-gray-400",children:"Pickup ID"}),u("p",{className:"text-sm font-medium text-gray-600 font-mono mt-0.5",children:t.id.slice(0,8).toUpperCase()})]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[b("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-xl group-hover:bg-emerald-50/50 transition-colors",children:[u(ba,{className:"w-5 h-5 text-gray-400 group-hover:text-emerald-500 transition-colors"}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-700",children:"Schedule"}),u("p",{className:"text-sm text-gray-600 mt-1",children:new Date(t.date.seconds*1e3).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),b("p",{className:"text-sm text-gray-500",children:["at ",t.time]})]})]}),b("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-xl group-hover:bg-emerald-50/50 transition-colors",children:[u(Ft,{className:"w-5 h-5 text-gray-400 group-hover:text-emerald-500 transition-colors"}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-700",children:"Location"}),u("p",{className:"text-sm text-gray-600 mt-1",children:t.location})]})]}),b("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-xl group-hover:bg-emerald-50/50 transition-colors",children:[u(un,{className:"w-5 h-5 text-gray-400 group-hover:text-emerald-500 transition-colors"}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-700",children:"Waste Details"}),u("div",{className:"flex flex-wrap gap-2 mt-2",children:t.wasteTypes.map((l,c)=>u("span",{className:`text-xs px-2 py-1 bg-emerald-50 text-emerald-700 \r
                      rounded-full border border-emerald-100`,children:l.charAt(0).toUpperCase()+l.slice(1)},c))}),b("p",{className:"text-sm text-emerald-600 font-medium mt-2",children:[t.quantity," bags"]})]})]})]}),b("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[b("div",{className:"flex items-center gap-2",children:[u(l1,{icon:un,label:"Change Status",onClick:()=>e(t),variant:t.status==="completed"?"success":"default"}),t.status==="pending"&&u(l1,{icon:ro,label:"Assign Collector",variant:"success",onClick:()=>e(t)})]}),t.status==="pending"&&u(l1,{icon:kn,label:"Cancel Pickup",variant:"danger",onClick:()=>e(t)})]})]})]})},B2e=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState([]),[o,l]=W.exports.useState([]),[c,d]=W.exports.useState(!0),[f,m]=W.exports.useState(!1),[p,y]=W.exports.useState("all"),[P,_]=W.exports.useState(""),[A,N]=W.exports.useState(null);W.exports.useEffect(()=>{e!=null&&e.uid&&(E(),C())},[e==null?void 0:e.uid]);const E=async()=>{d(!0),N(null);try{await w()}catch{N("Failed to load data. Please try again."),gs.fire({title:"Error",text:"Failed to load data",icon:"error",confirmButtonColor:"#10B981"})}finally{d(!1)}},w=async()=>{if(!(e!=null&&e.uid)){N("Authentication required");return}try{const T=xt(it($e,"pickups"),Tn("wasteBankId","==",e.uid)),R=(await ot(T)).docs.map(j=>({id:j.id,...j.data()}));a(R)}catch(T){throw console.error("Error fetching pickups:",T),T}},C=async()=>{try{const T=xt(it($e,"users"),Tn("role","==","collector")),R=(await ot(T)).docs.map(j=>({id:j.id,...j.data()}));l(R)}catch(T){console.error("Error fetching collectors:",T)}},$=async T=>{var U,V;const O=[{value:"pending",label:"Pending",icon:"⏳",color:"bg-yellow-50 text-yellow 600"},{value:"assigned",label:"Assigned",icon:"🚛",color:"bg-blue-50 text-blue-600"},{value:"in_progress",label:"In Progress",icon:"⏳",color:"bg-green-100 text-white-600"},{value:"completed",label:"Completed",icon:"✅",color:"bg-emerald-50 text-emerald-600"},{value:"cancelled",label:"Cancelled",icon:"❌",color:"bg-red-50 text-red-600"}],R=o.map(G=>{var X;return`
        <option value="${G.id}" 
          ${T.collectorId===G.id?"selected":""}
          ${G.status!=="active"?"disabled":""}>
          ${((X=G.profile)==null?void 0:X.fullName)||G.email||"Unnamed Collector"}
          ${G.status!=="active"?" (Inactive)":""}
        </option>
      `}).join(""),{value:j}=await gs.fire({title:"Update Pickup Status",width:600,html:`
        <div class="text-left p-4">
          <!-- Current Status Display -->
          <div class="mb-6 bg-gray-50 p-4 rounded-lg">
            <p class="text-sm font-medium text-gray-600 mb-2">Current Status</p>
            <div class="flex items-center gap-2">
              <span class="text-base">${(U=O.find(G=>G.value===T.status))==null?void 0:U.icon}</span>
              <span class="font-medium ${(V=O.find(G=>G.value===T.status))==null?void 0:V.color} px-3 py-1 rounded-lg">
                ${T.status.charAt(0).toUpperCase()+T.status.slice(1)}
              </span>
            </div>
          </div>
  
          <!-- New Status Selection -->
          <div class="mb-6">
            <label for="newStatus" class="block text-sm font-medium text-gray-700 mb-2">
              New Status
            </label>
            <select id="newStatus" class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg
              focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 
              transition-all shadow-sm text-gray-700">
              ${O.map(G=>`
                <option value="${G.value}" ${T.status===G.value?"selected":""}>
                  ${G.icon} ${G.label}
                </option>
              `).join("")}
            </select>
          </div>
  
          <!-- Collector Selection -->
          <div id="collectorSelectDiv" class="mb-4 transition-all duration-200" 
            style="${T.status==="assigned"?"":"display: none;"}">
            <label for="collectorSelect" class="block text-sm font-medium text-gray-700 mb-2">
              Assign Collector
            </label>
            <select id="collectorSelect" class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg
              focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 
              transition-all shadow-sm text-gray-700">
              <option value="">Select a collector</option>
              ${R}
            </select>
            <p class="mt-2 text-xs text-gray-500 italic">
              * Only active collectors can be assigned to pickups
            </p>
          </div>
  
          <!-- Pickup Details -->
          <div class="mt-6 pt-6 border-t border-gray-200">
            <p class="text-sm font-medium text-gray-600 mb-3">Pickup Details</p>
            <div class="grid grid-cols-2 gap-4 text-sm">
              <div>
                <p class="text-gray-500">Customer</p>
                <p class="font-medium text-gray-700">${T.userName}</p>
              </div>
              <div>
                <p class="text-gray-500">Quantity</p>
                <p class="font-medium text-gray-700">${T.quantity} bags</p>
              </div>
              <div>
                <p class="text-gray-500">Location</p>
                <p class="font-medium text-gray-700">${T.location}</p>
              </div>
              <div>
                <p class="text-gray-500">Scheduled Time</p>
                <p class="font-medium text-gray-700">${T.time}</p>
              </div>
            </div>
          </div>
        </div>
      `,showCancelButton:!0,confirmButtonText:"Update Status",cancelButtonText:"Cancel",confirmButtonColor:"#10B981",cancelButtonColor:"#EF4444",customClass:{confirmButton:"swal2-confirm-custom",cancelButton:"swal2-cancel-custom"},didOpen:()=>{const G=gs.getPopup().querySelector("#newStatus"),X=gs.getPopup().querySelector("#collectorSelectDiv");G.addEventListener("change",function(){this.value==="assigned"?(X.style.display="block",setTimeout(()=>{X.style.opacity="1"},0)):(X.style.opacity="0",setTimeout(()=>{X.style.display="none"},200))})},preConfirm:()=>{const G=gs.getPopup().querySelector("#newStatus").value,X=gs.getPopup().querySelector("#collectorSelect"),ee=X?X.value:"";return G==="assigned"&&!ee?(gs.showValidationMessage("Please select a collector for assigned status"),!1):{newStatus:G,collectorId:ee}}});if(j){m(!0);try{const G=jn($e,"pickups",T.id),X={status:j.newStatus,updatedAt:new Date};j.newStatus==="assigned"?X.collectorId=j.collectorId:j.newStatus!=="assigned"&&T.collectorId&&(X.collectorId=null),await qo(G,X),await w(),gs.fire({title:"Status Updated",text:`Pickup has been updated to ${j.newStatus}`,icon:"success",confirmButtonColor:"#10B981",timer:2e3,timerProgressBar:!0})}catch(G){console.error("Error updating pickup:",G),gs.fire({title:"Update Failed",text:"Failed to update pickup status. Please try again.",icon:"error",confirmButtonColor:"#10B981"})}m(!1)}},D=i.filter(T=>{var j,U;const O=p==="all"||T.status===p,R=((j=T.location)==null?void 0:j.toLowerCase().includes(P.toLowerCase()))||((U=T.userName)==null?void 0:U.toLowerCase().includes(P.toLowerCase()));return O&&R}),S={pending:i.filter(T=>T.status==="pending").length,assigned:i.filter(T=>T.status==="assigned").length,in_progress:i.filter(T=>T.status==="in_progress").length,completed:i.filter(T=>T.status==="completed").length,cancelled:i.filter(T=>T.status==="cancelled").length};return b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:T=>r(T)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"mb-8",children:[u("div",{className:"flex items-center justify-between mb-6",children:b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-gray-200",children:u(gn,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Pickup Management"}),u("p",{className:"text-sm text-gray-500",children:"Manage and track waste pickup requests"})]})]})}),b("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-5",children:[u(_m,{label:"Pending Pickups",count:S.pending,icon:Ko,description:"Awaiting assignment"}),u(_m,{label:"Assigned",count:S.assigned,icon:ro,description:"In progress"}),u(_m,{label:"In Progress",count:S.in_progress,icon:aj,description:"In progress"}),u(_m,{label:"Completed",count:S.completed,icon:Lb,description:"Successfully collected"}),u(_m,{label:"Cancelled",count:S.cancelled,icon:kn,description:"Cancelled requests"})]})]}),u("div",{className:"bg-white p-4 rounded-xl border border-gray-200 mb-6",children:b("div",{className:"flex gap-4",children:[b("div",{className:"relative flex-1",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u($2e,{type:"text",placeholder:"Search by location or customer name...",value:P,onChange:T=>_(T.target.value),className:"pl-10"})]}),b(D2e,{value:p,onChange:T=>y(T.target.value),className:"w-48",children:[u("option",{value:"all",children:"All Status"}),u("option",{value:"pending",children:"Pending"}),u("option",{value:"assigned",children:"Assigned"}),u("option",{value:"in_progress",children:"In Progress"}),u("option",{value:"completed",children:"Completed"}),u("option",{value:"cancelled",children:"Cancelled"})]})]})}),c?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(Kt,{className:"w-8 h-8 animate-spin text-emerald-500 mb-4"}),u("p",{className:"text-gray-500",children:"Loading pickups..."})]}):A?b("div",{className:"bg-white rounded-xl p-6 border border-gray-200 text-center",children:[u(kn,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:A}),u("button",{onClick:E,className:"mt-4 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Retry"})]}):D.length===0?b("div",{className:"bg-white rounded-xl p-8 border border-gray-200 text-center",children:[u(un,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No pickups found"}),u("p",{className:"text-gray-500",children:P||p!=="all"?"Try adjusting your filters":"No pickup requests available"})]}):u("div",{className:"space-y-4",children:D.map(T=>u(j2e,{pickup:T,onStatusChange:$,isProcessing:f},T.id))})]})})]})},z2e=()=>{const{userData:t}=Et();return b("div",{className:"flex min-h-screen",children:[u(Sn,{role:t==null?void 0:t.role}),b("div",{className:"flex-1 p-6",children:[u("h1",{className:"text-2xl font-bold mb-4",children:"Wastebank Employee Dashboard"}),b("p",{children:["Welcome, ",t==null?void 0:t.profile.fullName,". Input transactions, record waste data, and submit your daily reports here."]})]})]})},_v=["#10B981","#6366F1","#F59E0B","#EF4444"],F2e=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!0),[o,l]=W.exports.useState(null),[c,d]=W.exports.useState({totalPickups:0,totalWaste:0,totalEarnings:0,pendingPickups:0,assignedPickups:0,completedPickups:0,thisMonthWaste:0,lastMonthWaste:0,thisMonthEarnings:0,lastMonthEarnings:0}),[f,m]=W.exports.useState([]),[p,y]=W.exports.useState([]),[P,_]=W.exports.useState([]);W.exports.useEffect(()=>{e!=null&&e.uid&&N()},[e==null?void 0:e.uid]);const A=C=>C*.1,N=async()=>{if(!(e!=null&&e.uid)){l("No user ID found");return}a(!0);try{const C=xt(it($e,"pickups"),Tn("collectorId","==",e.uid)),D=(await ot(C)).docs.map(ge=>({id:ge.id,...ge.data()})),S=new Date,T=S.getMonth(),O=S.getFullYear(),R=(ge,ye,Oe)=>{const me=new Date(ge.seconds*1e3);return me.getMonth()===ye&&me.getFullYear()===Oe},j=D.filter(ge=>R(ge.createdAt||ge.date,T,O)),U=T===0?11:T-1,V=T===0?O-1:O,G=D.filter(ge=>R(ge.createdAt||ge.date,U,V)),X=ge=>ge.reduce((ye,Oe)=>{const me=Object.values(Oe.wastes||{}).reduce((Ae,De)=>Ae+(De.weight||0),0);return{weight:ye.weight+me,earnings:ye.earnings+A(Oe.totalValue||0)}},{weight:0,earnings:0}),ee=X(j),te=X(G),J=X(D),le=D.filter(ge=>ge.status==="pending").length,Y=D.filter(ge=>ge.status==="assigned").length,he=D.filter(ge=>ge.status==="completed").length;d({totalPickups:D.length,totalWaste:J.weight,totalEarnings:J.earnings,pendingPickups:le,assignedPickups:Y,completedPickups:he,thisMonthWaste:ee.weight,lastMonthWaste:te.weight,thisMonthEarnings:ee.earnings,lastMonthEarnings:te.earnings});const pe=[];for(let ge=6;ge>=0;ge--){const ye=new Date;ye.setDate(ye.getDate()-ge),ye.setHours(0,0,0,0);const Oe=new Date(ye);Oe.setDate(ye.getDate()+1);const me=D.filter(De=>{var tt;const ue=new Date(((tt=De.createdAt)==null?void 0:tt.seconds)*1e3||De.date.seconds*1e3);return ue>=ye&&ue<Oe}),Ae=X(me);pe.push({date:ye.toLocaleDateString("en-US",{weekday:"short"}),waste:Ae.weight,earnings:Ae.earnings})}m(pe);const fe={};D.forEach(ge=>{ge.wastes&&Object.entries(ge.wastes).forEach(([ye,Oe])=>{fe[ye]||(fe[ye]={weight:0,value:0}),fe[ye].weight+=Oe.weight||0,fe[ye].value+=A(Oe.value||0)})});const Ne=Object.entries(fe).map(([ge,ye])=>({name:ge.charAt(0).toUpperCase()+ge.slice(1),weight:ye.weight,value:ye.value}));y(Ne);const Ee=D.filter(ge=>ge.status==="completed").sort((ge,ye)=>{var Oe,me;return((Oe=ye.completedAt)==null?void 0:Oe.seconds)-((me=ge.completedAt)==null?void 0:me.seconds)}).slice(0,5).map(ge=>({...ge,collectorEarnings:A(ge.totalValue),wastes:Object.entries(ge.wastes||{}).reduce((ye,[Oe,me])=>({...ye,[Oe]:{...me,collectorValue:A(me.value)}}),{})}));_(Ee),l(null)}catch(C){console.error("Error fetching dashboard data:",C),l("Failed to load dashboard data")}finally{a(!1)}},E=({variant:C="primary",size:$="md",className:D="",children:S,...T})=>{const O={primary:"bg-emerald-500 hover:bg-emerald-600 text-white",secondary:"bg-zinc-100 hover:bg-zinc-200 text-zinc-700"},R={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3"};return u("button",{className:`
          inline-flex items-center justify-center
          font-medium rounded-lg
          transition duration-200 ease-in-out
          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500/20
          disabled:opacity-50 disabled:cursor-not-allowed
          ${O[C]}
          ${R[$]}
          ${D}
        `,...T,children:S})},w=({icon:C,label:$,value:D,trend:S,trend_value:T,variant:O="success",className:R=""})=>b("div",{className:`bg-white rounded-xl p-6 border border-zinc-200 ${R}`,children:[b("div",{className:"flex items-start justify-between",children:[b("div",{className:"space-y-3",children:[u("div",{className:"p-2.5 bg-zinc-100 rounded-lg w-fit",children:u(C,{className:"h-6 w-6 text-zinc-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-zinc-600",children:$}),u("p",{className:"text-2xl font-semibold text-zinc-800 mt-1",children:D})]})]}),S&&b("div",{className:`flex items-center gap-1 px-2.5 py-1 rounded-lg text-sm
            ${O==="success"?"bg-emerald-50 text-emerald-600":O==="danger"?"bg-red-50 text-red-600":"bg-zinc-50 text-zinc-600"}`,children:[O==="success"?u(hP,{className:"h-4 w-4"}):u(uP,{className:"h-4 w-4"}),T]})]}),S&&u("p",{className:"text-sm text-zinc-500 mt-2",children:S})]});return i?u("div",{children:"Loading..."}):o?b("div",{children:["Error: ",o]}):b("div",{className:"flex min-h-screen bg-zinc-50/50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:C=>r(C)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center gap-4 mb-8",children:[u("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-zinc-200",children:u(gn,{className:"h-6 w-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-zinc-800",children:"My Collection Overview"}),u("p",{className:"text-sm text-zinc-500",children:"Personal collection metrics"})]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[u(w,{icon:oj,label:"Total Earnings",value:`Rp ${c.totalEarnings.toLocaleString()}`,trend:"vs last month",trend_value:`${((c.thisMonthEarnings-c.lastMonthEarnings)/c.lastMonthEarnings*100||0).toFixed(1)}%`,variant:c.thisMonthEarnings>=c.lastMonthEarnings?"success":"danger"}),u(w,{icon:Qa,label:"Total Waste Collected",value:`${c.totalWaste.toFixed(1)} kg`,trend:"vs last month",trend_value:`${((c.thisMonthWaste-c.lastMonthWaste)/c.lastMonthWaste*100||0).toFixed(1)}%`,variant:c.thisMonthWaste>=c.lastMonthWaste?"success":"danger"}),u(w,{icon:un,label:"Pickup Status",value:c.completedPickups,trend:"Current pickups",trend_value:`${c.pendingPickups} pending`,variant:c.pendingPickups===0?"success":"danger"})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[b("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 border border-zinc-200",children:[b("div",{className:"flex items-center justify-between mb-6",children:[b("div",{children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Collection Trends"}),u("p",{className:"text-sm text-zinc-500",children:"Daily collection stats"})]}),u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(ba,{className:"h-5 w-5 text-emerald-500"})})]}),u("div",{className:"h-80",children:u(sr,{width:"100%",height:"100%",children:b(xz,{data:f,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),u(Rr,{dataKey:"date",stroke:"#71717A",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#71717A",fontSize:12,tickFormatter:C=>`${C}kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#71717A",fontSize:12,tickFormatter:C=>`Rp${C}`}),u(mn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #E4E4E7",borderRadius:"8px"}}),u(Ho,{yAxisId:"left",type:"monotone",dataKey:"waste",stroke:"#10B981",strokeWidth:2,dot:!1,name:"Waste"}),u(Ho,{yAxisId:"right",type:"monotone",dataKey:"earnings",stroke:"#6366F1",strokeWidth:2,dot:!1,name:"Earnings"})]})})})]}),b("div",{className:"bg-white rounded-xl p-6 border border-zinc-200",children:[b("div",{className:"flex items-center justify-between mb-6",children:[b("div",{children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Waste Distribution"}),u("p",{className:"text-sm text-zinc-500",children:"By type collected"})]}),u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(Vo,{className:"h-5 w-5 text-emerald-500"})})]}),b("div",{className:"h-80",children:[u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"weight",children:p.map((C,$)=>u(so,{fill:_v[$%_v.length]},`cell-${$}`))}),u(mn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #E4E4E7",borderRadius:"8px"}})]})}),u("div",{className:"space-y-2 mt-4",children:p.map((C,$)=>b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_v[$%_v.length]}}),u("span",{className:"text-sm text-zinc-600",children:C.name})]}),b("span",{className:"text-sm font-medium text-zinc-800",children:[C.weight.toFixed(1),"kg"]})]},C.name))})]})]})]}),b("div",{className:"bg-white rounded-xl border border-zinc-200",children:[u("div",{className:"p-6 border-b border-zinc-200",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("h2",{className:"text-lg font-semibold text-zinc-800",children:"Recent Collections"}),u("p",{className:"text-sm text-zinc-500",children:"Latest completed pickups"})]}),u(E,{variant:"secondary",size:"sm",children:"View All"})]})}),u("div",{className:"divide-y divide-zinc-200",children:P.map(C=>b("div",{className:"p-6",children:[b("div",{className:"flex items-start justify-between mb-4",children:[b("div",{className:"space-y-1",children:[b("h3",{className:"font-medium text-zinc-800",children:["Pickup #",C.id.slice(-6)]}),u("p",{className:"text-sm text-zinc-500",children:new Date(C.completedAt.seconds*1e3).toLocaleDateString()})]}),b("span",{className:"text-sm font-medium text-emerald-600",children:["Rp ",C.collectorEarnings.toLocaleString()]})]}),u("div",{className:"flex gap-4 flex-wrap",children:Object.entries(C.wastes).map(([$,D])=>b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),b("span",{className:"text-sm text-zinc-600",children:[$,": ",D.weight,"kg"]})]},$))})]},C.id))})]})]})})]})},V2e=({className:t="",...e})=>u("input",{className:`w-full px-3 py-2 bg-white border border-gray-200 rounded-lg 
      text-gray-700 text-sm transition-all
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      disabled:opacity-50 disabled:cursor-not-allowed ${t}`,...e}),U2e=({className:t="",...e})=>u("select",{className:`w-full px-3 py-2 bg-white border border-gray-200 rounded-lg 
      text-gray-700 text-sm transition-all
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      disabled:opacity-50 disabled:cursor-not-allowed ${t}`,...e}),eL=({variant:t="default",children:e,className:n=""})=>u("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${{default:"bg-gray-100 text-gray-700",pending:"bg-yellow-100 text-yellow-700",assigned:"bg-blue-100 text-blue-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700"}[t]} ${n}`,children:e}),W2e=({location:t})=>{const e=typeof t=="object"?t.address:t;return b("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[u(Ft,{className:"w-5 h-5 text-blue-500 mt-1"}),u("div",{className:"space-y-2",children:b("div",{children:[u("p",{className:"text-sm font-medium text-blue-900",children:"Pickup Address"}),u("p",{className:"text-sm text-blue-700 mt-1",children:e||"No address provided"})]})})]})},H2e=({assignment:t,onStatusChange:e})=>{var a,o;const n=Gu(),r=async()=>{const l=t.status;l==="assigned"?await e(t,"in_progress"):l==="in_progress"&&n("/dashboard/collector/update-collection")},i=()=>{switch(t.status){case"assigned":return b("button",{onClick:r,className:`w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 \r
              transition-colors text-sm font-medium flex items-center justify-center gap-2`,children:[u(ro,{className:"w-4 h-4"}),"Start Collection"]});case"in_progress":return b("button",{onClick:r,className:`w-full px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 \r
              transition-colors text-sm font-medium flex items-center justify-center gap-2`,children:[u(Qa,{className:"w-4 h-4"}),"Record Collection"]});default:return null}};return b("div",{className:"bg-white p-6 rounded-xl border border-gray-200 hover:shadow-md transition-all",children:[b("div",{className:"flex justify-between items-start mb-4",children:[b("div",{className:"flex items-start gap-3",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(ro,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[b("h3",{className:"font-medium text-gray-900",children:["Pickup Assignment #",t.id.slice(0,6)]}),u(eL,{variant:t.status,className:"mt-1",children:((a=t.status)==null?void 0:a.charAt(0).toUpperCase())+((o=t.status)==null?void 0:o.slice(1))})]})]}),u(eL,{variant:"default",children:new Date(t.date.seconds*1e3).toLocaleDateString()})]}),b("div",{className:"flex items-start gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[u(Us,{className:"w-5 h-5 text-gray-400"}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-900",children:t.userName}),b("div",{className:"flex items-center gap-2 mt-1",children:[u(jo,{className:"w-4 h-4 text-gray-400"}),u("p",{className:"text-sm text-gray-600",children:t.phone||"No phone number"})]})]})]}),b("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b("div",{className:"flex items-start gap-2",children:[u(Ko,{className:"w-4 h-4 text-gray-400 mt-0.5"}),b("div",{children:[u("p",{className:"text-xs text-gray-500",children:"Pickup Time"}),u("p",{className:"text-sm font-medium text-gray-900",children:t.time})]})]}),b("div",{className:"flex items-start gap-2",children:[u(un,{className:"w-4 h-4 text-gray-400 mt-0.5"}),b("div",{children:[u("p",{className:"text-xs text-gray-500",children:"Waste Amount"}),b("p",{className:"text-sm font-medium text-gray-900",children:[t.quantity," bags"]})]})]})]}),u(W2e,{location:t.location,coordinates:t.coordinates}),(t.status==="assigned"||t.status==="in_progress")&&u("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i()})]})},q2e=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState([]),[o,l]=W.exports.useState(!0),[c,d]=W.exports.useState(null),[f,m]=W.exports.useState("all"),[p,y]=W.exports.useState("");W.exports.useEffect(()=>{e!=null&&e.uid&&P()},[e==null?void 0:e.uid]);const P=async()=>{l(!0);try{const N=xt(it($e,"pickups"),Tn("collectorId","==",e.uid)),w=(await ot(N)).docs.map(C=>{const $=C.data();return{id:C.id,location:$.location||"No location provided",userName:String($.userName||""),status:$.status||"pending",date:$.date||{seconds:Date.now()/1e3},time:$.time||"",phone:$.phone||"",quantity:$.quantity||0,...$}});console.log("Fetched assignments:",w),a(w),d(null)}catch(N){console.error("Error fetching assignments:",N),d("Failed to load assignments. Please try again.")}finally{l(!1)}},_=async(N,E)=>{try{const w=jn($e,"pickups",N.id);await qo(w,{status:E,updatedAt:new Date}),await P();const C=E==="in_progress"?"started":"completed";et.fire({title:"Status Updated",text:`Pickup has been ${C} successfully`,icon:"success",confirmButtonColor:"#10B981",timer:2e3,timerProgressBar:!0})}catch(w){console.error("Error updating pickup status:",w),et.fire({title:"Update Failed",text:"Failed to update pickup status. Please try again.",icon:"error",confirmButtonColor:"#10B981"})}},A=i.filter(N=>{const E=f==="all"||N.status===f,w=typeof N.location=="string"&&N.location.toLowerCase().includes(p.toLowerCase()),C=typeof N.userName=="string"&&N.userName.toLowerCase().includes(p.toLowerCase());return E&&(!p||w||C)});return b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:N=>r(N)}),b("main",{className:`flex-1 p-8 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(ro,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"My Assignments"}),u("p",{className:"text-sm text-gray-500",children:"Manage your pickup assignments"})]})]}),b("div",{className:"flex gap-4",children:[b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"Today's Pickups"}),u("p",{className:"text-2xl font-semibold text-emerald-600",children:i.filter(N=>N.status==="completed").length})]}),b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"In Progress Pickups"}),u("p",{className:"text-2xl font-semibold text-blue-600",children:i.filter(N=>N.status==="in_progress").length})]}),b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"Pending Pickups"}),u("p",{className:"text-2xl font-semibold text-blue-600",children:i.filter(N=>N.status==="assigned").length})]})]})]}),b("div",{className:"flex gap-4 mb-6",children:[b("div",{className:"relative flex-1",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u(V2e,{type:"text",placeholder:"Search by location or customer name...",value:p,onChange:N=>y(N.target.value),className:"pl-10"})]}),b(U2e,{value:f,onChange:N=>m(N.target.value),className:"w-48",children:[u("option",{value:"all",children:"All Status"}),u("option",{value:"assigned",children:"Assigned"}),u("option",{value:"in_progress",children:"In Progress"}),u("option",{value:"completed",children:"Completed"}),u("option",{value:"cancelled",children:"Cancelled"})]})]}),o?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(Kt,{className:"w-8 h-8 animate-spin text-emerald-500 mb-4"}),u("p",{className:"text-gray-500",children:"Loading assignments..."})]}):c?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(kn,{className:"w-8 h-8 text-red-500 mb-4"}),u("p",{className:"text-gray-500",children:c}),u("button",{onClick:P,className:`mt-4 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 \r
                transition-colors text-sm font-medium`,children:"Try Again"})]}):A.length===0?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(ro,{className:"w-12 h-12 text-gray-400 mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No assignments found"}),u("p",{className:"text-gray-500",children:p||f!=="all"?"Try adjusting your filters":"You have no pickup assignments yet"})]}):u("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(N=>u(H2e,{assignment:N,onStatusChange:_},N.id))})]})]})};function Ez(t,e){const n=W.exports.useRef(e);W.exports.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function K2e(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const G2e=1;function Z2e(t){return Object.freeze({__version:G2e,map:t})}function $N(t,e){return Object.freeze({...t,...e})}const Az=W.exports.createContext(null),Pz=Az.Provider;function Cx(){const t=W.exports.useContext(Az);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Nz(t){function e(n,r){const{instance:i,context:a}=t(n).current;return W.exports.useImperativeHandle(r,()=>i),n.children==null?null:Z.createElement(Pz,{value:a},n.children)}return W.exports.forwardRef(e)}function Y2e(t){function e(n,r){const[i,a]=W.exports.useState(!1),{instance:o}=t(n,a).current;W.exports.useImperativeHandle(r,()=>o),W.exports.useEffect(function(){i&&o.update()},[o,i,n.children]);const l=o._contentNode;return l?Zw.exports.createPortal(n.children,l):null}return W.exports.forwardRef(e)}function X2e(t){function e(n,r){const{instance:i}=t(n).current;return W.exports.useImperativeHandle(r,()=>i),null}return W.exports.forwardRef(e)}function DN(t,e){const n=W.exports.useRef();W.exports.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Ix(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Q2e(t,e){return function(r,i){const a=Cx(),o=t(Ix(r,a),a);return Ez(a.map,r.attribution),DN(o.current,r.eventHandlers),e(o.current,a,r,i),o}}var Ys={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Ei,function(n){var r="1.9.4";function i(s){var h,v,I,B;for(v=1,I=arguments.length;v<I;v++){B=arguments[v];for(h in B)s[h]=B[h]}return s}var a=Object.create||function(){function s(){}return function(h){return s.prototype=h,new s}}();function o(s,h){var v=Array.prototype.slice;if(s.bind)return s.bind.apply(s,v.call(arguments,1));var I=v.call(arguments,2);return function(){return s.apply(h,I.length?I.concat(v.call(arguments)):arguments)}}var l=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++l),s._leaflet_id}function d(s,h,v){var I,B,H,Q;return Q=function(){I=!1,B&&(H.apply(v,B),B=!1)},H=function(){I?B=arguments:(s.apply(v,arguments),setTimeout(Q,h),I=!0)},H}function f(s,h,v){var I=h[1],B=h[0],H=I-B;return s===I&&v?s:((s-B)%H+H)%H+B}function m(){return!1}function p(s,h){if(h===!1)return s;var v=Math.pow(10,h===void 0?6:h);return Math.round(s*v)/v}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return y(s).split(/\s+/)}function _(s,h){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var v in h)s.options[v]=h[v];return s.options}function A(s,h,v){var I=[];for(var B in s)I.push(encodeURIComponent(v?B.toUpperCase():B)+"="+encodeURIComponent(s[B]));return(!h||h.indexOf("?")===-1?"?":"&")+I.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function E(s,h){return s.replace(N,function(v,I){var B=h[I];if(B===void 0)throw new Error("No value provided for variable "+v);return typeof B=="function"&&(B=B(h)),B})}var w=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function C(s,h){for(var v=0;v<s.length;v++)if(s[v]===h)return v;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var S=0;function T(s){var h=+new Date,v=Math.max(0,16-(h-S));return S=h+v,window.setTimeout(s,v)}var O=window.requestAnimationFrame||D("RequestAnimationFrame")||T,R=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function j(s,h,v){if(v&&O===T)s.call(h);else return O.call(window,o(s,h))}function U(s){s&&R.call(window,s)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:f,falseFn:m,formatNum:p,trim:y,splitWords:P,setOptions:_,getParamString:A,template:E,isArray:w,indexOf:C,emptyImageUrl:$,requestFn:O,cancelFn:R,requestAnimFrame:j,cancelAnimFrame:U};function G(){}G.extend=function(s){var h=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=h.__super__=this.prototype,I=a(v);I.constructor=h,h.prototype=I;for(var B in this)Object.prototype.hasOwnProperty.call(this,B)&&B!=="prototype"&&B!=="__super__"&&(h[B]=this[B]);return s.statics&&i(h,s.statics),s.includes&&(X(s.includes),i.apply(null,[I].concat(s.includes))),i(I,s),delete I.statics,delete I.includes,I.options&&(I.options=v.options?a(v.options):{},i(I.options,s.options)),I._initHooks=[],I.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,Q=I._initHooks.length;H<Q;H++)I._initHooks[H].call(this)}},h},G.include=function(s){var h=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=h,this.mergeOptions(s.options)),this},G.mergeOptions=function(s){return i(this.prototype.options,s),this},G.addInitHook=function(s){var h=Array.prototype.slice.call(arguments,1),v=typeof s=="function"?s:function(){this[s].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function X(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=w(s)?s:[s];for(var h=0;h<s.length;h++)s[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(s,h,v){if(typeof s=="object")for(var I in s)this._on(I,s[I],h);else{s=P(s);for(var B=0,H=s.length;B<H;B++)this._on(s[B],h,v)}return this},off:function(s,h,v){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var I in s)this._off(I,s[I],h);else{s=P(s);for(var B=arguments.length===1,H=0,Q=s.length;H<Q;H++)B?this._off(s[H]):this._off(s[H],h,v)}return this},_on:function(s,h,v,I){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(s,h,v)===!1){v===this&&(v=void 0);var B={fn:h,ctx:v};I&&(B.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(B)}},_off:function(s,h,v){var I,B,H;if(this._events&&(I=this._events[s],!!I)){if(arguments.length===1){if(this._firingCount)for(B=0,H=I.length;B<H;B++)I[B].fn=m;delete this._events[s];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var Q=this._listens(s,h,v);if(Q!==!1){var re=I[Q];this._firingCount&&(re.fn=m,this._events[s]=I=I.slice()),I.splice(Q,1)}}},fire:function(s,h,v){if(!this.listens(s,v))return this;var I=i({},h,{type:s,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var B=this._events[s];if(B){this._firingCount=this._firingCount+1||1;for(var H=0,Q=B.length;H<Q;H++){var re=B[H],ae=re.fn;re.once&&this.off(s,ae,re.ctx),ae.call(re.ctx||this,I)}this._firingCount--}}return v&&this._propagateEvent(I),this},listens:function(s,h,v,I){typeof s!="string"&&console.warn('"string" type argument expected');var B=h;typeof h!="function"&&(I=!!h,B=void 0,v=void 0);var H=this._events&&this._events[s];if(H&&H.length&&this._listens(s,B,v)!==!1)return!0;if(I){for(var Q in this._eventParents)if(this._eventParents[Q].listens(s,h,v,I))return!0}return!1},_listens:function(s,h,v){if(!this._events)return!1;var I=this._events[s]||[];if(!h)return!!I.length;v===this&&(v=void 0);for(var B=0,H=I.length;B<H;B++)if(I[B].fn===h&&I[B].ctx===v)return B;return!1},once:function(s,h,v){if(typeof s=="object")for(var I in s)this._on(I,s[I],h,!0);else{s=P(s);for(var B=0,H=s.length;B<H;B++)this._on(s[B],h,v,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var h in this._eventParents)this._eventParents[h].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var te=G.extend(ee);function J(s,h,v){this.x=v?Math.round(s):s,this.y=v?Math.round(h):h}var le=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(s){return this.clone()._add(Y(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Y(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new J(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new J(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(s){s=Y(s);var h=s.x-this.x,v=s.y-this.y;return Math.sqrt(h*h+v*v)},equals:function(s){return s=Y(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Y(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function Y(s,h,v){return s instanceof J?s:w(s)?new J(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new J(s.x,s.y):new J(s,h,v)}function he(s,h){if(s)for(var v=h?[s,h]:s,I=0,B=v.length;I<B;I++)this.extend(v[I])}he.prototype={extend:function(s){var h,v;if(!s)return this;if(s instanceof J||typeof s[0]=="number"||"x"in s)h=v=Y(s);else if(s=pe(s),h=s.min,v=s.max,!h||!v)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=v.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(s){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var h,v;return typeof s[0]=="number"||s instanceof J?s=Y(s):s=pe(s),s instanceof he?(h=s.min,v=s.max):h=v=s,h.x>=this.min.x&&v.x<=this.max.x&&h.y>=this.min.y&&v.y<=this.max.y},intersects:function(s){s=pe(s);var h=this.min,v=this.max,I=s.min,B=s.max,H=B.x>=h.x&&I.x<=v.x,Q=B.y>=h.y&&I.y<=v.y;return H&&Q},overlaps:function(s){s=pe(s);var h=this.min,v=this.max,I=s.min,B=s.max,H=B.x>h.x&&I.x<v.x,Q=B.y>h.y&&I.y<v.y;return H&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var h=this.min,v=this.max,I=Math.abs(h.x-v.x)*s,B=Math.abs(h.y-v.y)*s;return pe(Y(h.x-I,h.y-B),Y(v.x+I,v.y+B))},equals:function(s){return s?(s=pe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function pe(s,h){return!s||s instanceof he?s:new he(s,h)}function fe(s,h){if(s)for(var v=h?[s,h]:s,I=0,B=v.length;I<B;I++)this.extend(v[I])}fe.prototype={extend:function(s){var h=this._southWest,v=this._northEast,I,B;if(s instanceof Ee)I=s,B=s;else if(s instanceof fe){if(I=s._southWest,B=s._northEast,!I||!B)return this}else return s?this.extend(ge(s)||Ne(s)):this;return!h&&!v?(this._southWest=new Ee(I.lat,I.lng),this._northEast=new Ee(B.lat,B.lng)):(h.lat=Math.min(I.lat,h.lat),h.lng=Math.min(I.lng,h.lng),v.lat=Math.max(B.lat,v.lat),v.lng=Math.max(B.lng,v.lng)),this},pad:function(s){var h=this._southWest,v=this._northEast,I=Math.abs(h.lat-v.lat)*s,B=Math.abs(h.lng-v.lng)*s;return new fe(new Ee(h.lat-I,h.lng-B),new Ee(v.lat+I,v.lng+B))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ee||"lat"in s?s=ge(s):s=Ne(s);var h=this._southWest,v=this._northEast,I,B;return s instanceof fe?(I=s.getSouthWest(),B=s.getNorthEast()):I=B=s,I.lat>=h.lat&&B.lat<=v.lat&&I.lng>=h.lng&&B.lng<=v.lng},intersects:function(s){s=Ne(s);var h=this._southWest,v=this._northEast,I=s.getSouthWest(),B=s.getNorthEast(),H=B.lat>=h.lat&&I.lat<=v.lat,Q=B.lng>=h.lng&&I.lng<=v.lng;return H&&Q},overlaps:function(s){s=Ne(s);var h=this._southWest,v=this._northEast,I=s.getSouthWest(),B=s.getNorthEast(),H=B.lat>h.lat&&I.lat<v.lat,Q=B.lng>h.lng&&I.lng<v.lng;return H&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,h){return s?(s=Ne(s),this._southWest.equals(s.getSouthWest(),h)&&this._northEast.equals(s.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ne(s,h){return s instanceof fe?s:new fe(s,h)}function Ee(s,h,v){if(isNaN(s)||isNaN(h))throw new Error("Invalid LatLng object: ("+s+", "+h+")");this.lat=+s,this.lng=+h,v!==void 0&&(this.alt=+v)}Ee.prototype={equals:function(s,h){if(!s)return!1;s=ge(s);var v=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return v<=(h===void 0?1e-9:h)},toString:function(s){return"LatLng("+p(this.lat,s)+", "+p(this.lng,s)+")"},distanceTo:function(s){return Oe.distance(this,ge(s))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(s){var h=180*s/40075017,v=h/Math.cos(Math.PI/180*this.lat);return Ne([this.lat-h,this.lng-v],[this.lat+h,this.lng+v])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function ge(s,h,v){return s instanceof Ee?s:w(s)&&typeof s[0]!="object"?s.length===3?new Ee(s[0],s[1],s[2]):s.length===2?new Ee(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ee(s.lat,"lng"in s?s.lng:s.lon,s.alt):h===void 0?null:new Ee(s,h,v)}var ye={latLngToPoint:function(s,h){var v=this.projection.project(s),I=this.scale(h);return this.transformation._transform(v,I)},pointToLatLng:function(s,h){var v=this.scale(h),I=this.transformation.untransform(s,v);return this.projection.unproject(I)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var h=this.projection.bounds,v=this.scale(s),I=this.transformation.transform(h.min,v),B=this.transformation.transform(h.max,v);return new he(I,B)},infinite:!1,wrapLatLng:function(s){var h=this.wrapLng?f(s.lng,this.wrapLng,!0):s.lng,v=this.wrapLat?f(s.lat,this.wrapLat,!0):s.lat,I=s.alt;return new Ee(v,h,I)},wrapLatLngBounds:function(s){var h=s.getCenter(),v=this.wrapLatLng(h),I=h.lat-v.lat,B=h.lng-v.lng;if(I===0&&B===0)return s;var H=s.getSouthWest(),Q=s.getNorthEast(),re=new Ee(H.lat-I,H.lng-B),ae=new Ee(Q.lat-I,Q.lng-B);return new fe(re,ae)}},Oe=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(s,h){var v=Math.PI/180,I=s.lat*v,B=h.lat*v,H=Math.sin((h.lat-s.lat)*v/2),Q=Math.sin((h.lng-s.lng)*v/2),re=H*H+Math.cos(I)*Math.cos(B)*Q*Q,ae=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*ae}}),me=6378137,Ae={R:me,MAX_LATITUDE:85.0511287798,project:function(s){var h=Math.PI/180,v=this.MAX_LATITUDE,I=Math.max(Math.min(v,s.lat),-v),B=Math.sin(I*h);return new J(this.R*s.lng*h,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(s){var h=180/Math.PI;return new Ee((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*h,s.x*h/this.R)},bounds:function(){var s=me*Math.PI;return new he([-s,-s],[s,s])}()};function De(s,h,v,I){if(w(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=h,this._c=v,this._d=I}De.prototype={transform:function(s,h){return this._transform(s.clone(),h)},_transform:function(s,h){return h=h||1,s.x=h*(this._a*s.x+this._b),s.y=h*(this._c*s.y+this._d),s},untransform:function(s,h){return h=h||1,new J((s.x/h-this._b)/this._a,(s.y/h-this._d)/this._c)}};function ue(s,h,v,I){return new De(s,h,v,I)}var tt=i({},Oe,{code:"EPSG:3857",projection:Ae,transformation:function(){var s=.5/(Math.PI*Ae.R);return ue(s,.5,-s,.5)}()}),He=i({},tt,{code:"EPSG:900913"});function Ot(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function nt(s,h){var v="",I,B,H,Q,re,ae;for(I=0,H=s.length;I<H;I++){for(re=s[I],B=0,Q=re.length;B<Q;B++)ae=re[B],v+=(B?"L":"M")+ae.x+" "+ae.y;v+=h?Le.svg?"z":"x":""}return v||"M0 0"}var Mt=document.documentElement.style,Yn="ActiveXObject"in window,dn=Yn&&!document.addEventListener,Xn="msLaunchUri"in navigator&&!("documentMode"in document),_r=er("webkit"),Qr=er("android"),Ze=er("android 2")||er("android 3"),wn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),hr=Qr&&er("Google")&&wn<537&&!("AudioNode"in window),Qn=!!window.opera,at=!Xn&&er("chrome"),ht=er("gecko")&&!_r&&!Qn&&!Yn,lo=!at&&er("safari"),nl=er("phantom"),Aa="OTransition"in Mt,Jn=navigator.platform.indexOf("Win")===0,co=Yn&&"transition"in Mt,Yo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,rl="MozPerspective"in Mt,Xo=!window.L_DISABLE_3D&&(co||Yo||rl)&&!Aa&&!nl,Qo=typeof orientation<"u"||er("mobile"),Uf=Qo&&_r,kc=Qo&&Yo,Cc=!window.PointerEvent&&window.MSPointerEvent,fi=!!(window.PointerEvent||Cc),uo="ontouchstart"in window||!!window.TouchEvent,Ic=!window.L_NO_TOUCH&&(uo||fi),Oc=Qo&&Qn,Pa=Qo&&ht,ad=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ho=function(){var s=!1;try{var h=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,h),window.removeEventListener("testPassiveEventSupport",m,h)}catch{}return s}(),od=function(){return!!document.createElement("canvas").getContext}(),Na=!!(document.createElementNS&&Ot("svg").createSVGRect),sd=!!Na&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zn=!Na&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var h=s.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),ld=navigator.platform.indexOf("Mac")===0,Ta=navigator.platform.indexOf("Linux")===0;function er(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Le={ie:Yn,ielt9:dn,edge:Xn,webkit:_r,android:Qr,android23:Ze,androidStock:hr,opera:Qn,chrome:at,gecko:ht,safari:lo,phantom:nl,opera12:Aa,win:Jn,ie3d:co,webkit3d:Yo,gecko3d:rl,any3d:Xo,mobile:Qo,mobileWebkit:Uf,mobileWebkit3d:kc,msPointer:Cc,pointer:fi,touch:Ic,touchNative:uo,mobileOpera:Oc,mobileGecko:Pa,retina:ad,passiveEvents:ho,canvas:od,svg:Na,vml:zn,inlineSvg:sd,mac:ld,linux:Ta},cd=Le.msPointer?"MSPointerDown":"pointerdown",ka=Le.msPointer?"MSPointerMove":"pointermove",ud=Le.msPointer?"MSPointerUp":"pointerup",At=Le.msPointer?"MSPointerCancel":"pointercancel",fo={touchstart:cd,touchmove:ka,touchend:ud,touchcancel:At},Mc={touchstart:Wf,touchmove:Rt,touchend:Rt,touchcancel:Rt},Vi={},Jo=!1;function Ui(s,h,v){return h==="touchstart"&&ts(),Mc[h]?(v=Mc[h].bind(this,v),s.addEventListener(fo[h],v,!1),v):(console.warn("wrong event specified:",h),m)}function dd(s,h,v){if(!fo[h]){console.warn("wrong event specified:",h);return}s.removeEventListener(fo[h],v,!1)}function il(s){Vi[s.pointerId]=s}function Ca(s){Vi[s.pointerId]&&(Vi[s.pointerId]=s)}function es(s){delete Vi[s.pointerId]}function ts(){Jo||(document.addEventListener(cd,il,!0),document.addEventListener(ka,Ca,!0),document.addEventListener(ud,es,!0),document.addEventListener(At,es,!0),Jo=!0)}function Rt(s,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var v in Vi)h.touches.push(Vi[v]);h.changedTouches=[h],s(h)}}function Wf(s,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&bn(h),Rt(s,h)}function al(s){var h={},v,I;for(I in s)v=s[I],h[I]=v&&v.bind?v.bind(s):v;return s=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var hd=200;function ol(s,h){s.addEventListener("dblclick",h);var v=0,I;function B(H){if(H.detail!==1){I=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var Q=po(H);if(!(Q.some(function(ae){return ae instanceof HTMLLabelElement&&ae.attributes.for})&&!Q.some(function(ae){return ae instanceof HTMLInputElement||ae instanceof HTMLSelectElement}))){var re=Date.now();re-v<=hd?(I++,I===2&&h(al(H))):I=1,v=re}}}return s.addEventListener("click",B),{dblclick:h,simDblclick:B}}function mo(s,h){s.removeEventListener("dblclick",h.dblclick),s.removeEventListener("click",h.simDblclick)}var mi=$a(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ia=$a(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Rc=Ia==="webkitTransition"||Ia==="OTransition"?Ia+"End":"transitionend";function Lc(s){return typeof s=="string"?document.getElementById(s):s}function Oa(s,h){var v=s.style[h]||s.currentStyle&&s.currentStyle[h];if((!v||v==="auto")&&document.defaultView){var I=document.defaultView.getComputedStyle(s,null);v=I?I[h]:null}return v==="auto"?null:v}function st(s,h,v){var I=document.createElement(s);return I.className=h||"",v&&v.appendChild(I),I}function Pt(s){var h=s.parentNode;h&&h.removeChild(s)}function Ma(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Wi(s){var h=s.parentNode;h&&h.lastChild!==s&&h.appendChild(s)}function Hi(s){var h=s.parentNode;h&&h.firstChild!==s&&h.insertBefore(s,h.firstChild)}function sl(s,h){if(s.classList!==void 0)return s.classList.contains(h);var v=La(s);return v.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(v)}function Ye(s,h){if(s.classList!==void 0)for(var v=P(h),I=0,B=v.length;I<B;I++)s.classList.add(v[I]);else if(!sl(s,h)){var H=La(s);Ra(s,(H?H+" ":"")+h)}}function Vt(s,h){s.classList!==void 0?s.classList.remove(h):Ra(s,y((" "+La(s)+" ").replace(" "+h+" "," ")))}function Ra(s,h){s.className.baseVal===void 0?s.className=h:s.className.baseVal=h}function La(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Zt(s,h){"opacity"in s.style?s.style.opacity=h:"filter"in s.style&&Jr(s,h)}function Jr(s,h){var v=!1,I="DXImageTransform.Microsoft.Alpha";try{v=s.filters.item(I)}catch{if(h===1)return}h=Math.round(h*100),v?(v.Enabled=h!==100,v.Opacity=h):s.style.filter+=" progid:"+I+"(opacity="+h+")"}function $a(s){for(var h=document.documentElement.style,v=0;v<s.length;v++)if(s[v]in h)return s[v];return!1}function ei(s,h,v){var I=h||new J(0,0);s.style[mi]=(Le.ie3d?"translate("+I.x+"px,"+I.y+"px)":"translate3d("+I.x+"px,"+I.y+"px,0)")+(v?" scale("+v+")":"")}function Yt(s,h){s._leaflet_pos=h,Le.any3d?ei(s,h):(s.style.left=h.x+"px",s.style.top=h.y+"px")}function ft(s){return s._leaflet_pos||new J(0,0)}var qi,pi,Ki;if("onselectstart"in document)qi=function(){qe(window,"selectstart",bn)},pi=function(){kt(window,"selectstart",bn)};else{var ns=$a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qi=function(){if(ns){var s=document.documentElement.style;Ki=s[ns],s[ns]="none"}},pi=function(){ns&&(document.documentElement.style[ns]=Ki,Ki=void 0)}}function rs(){qe(window,"dragstart",bn)}function $c(){kt(window,"dragstart",bn)}var ll,Gi;function cl(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Zi(),ll=s,Gi=s.style.outlineStyle,s.style.outlineStyle="none",qe(window,"keydown",Zi))}function Zi(){ll&&(ll.style.outlineStyle=Gi,ll=void 0,Gi=void 0,kt(window,"keydown",Zi))}function Lr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function is(s){var h=s.getBoundingClientRect();return{x:h.width/s.offsetWidth||1,y:h.height/s.offsetHeight||1,boundingClientRect:h}}var fd={__proto__:null,TRANSFORM:mi,TRANSITION:Ia,TRANSITION_END:Rc,get:Lc,getStyle:Oa,create:st,remove:Pt,empty:Ma,toFront:Wi,toBack:Hi,hasClass:sl,addClass:Ye,removeClass:Vt,setClass:Ra,getClass:La,setOpacity:Zt,testProp:$a,setTransform:ei,setPosition:Yt,getPosition:ft,get disableTextSelection(){return qi},get enableTextSelection(){return pi},disableImageDrag:rs,enableImageDrag:$c,preventOutline:cl,restoreOutline:Zi,getSizedParentNode:Lr,getScale:is};function qe(s,h,v,I){if(h&&typeof h=="object")for(var B in h)Vn(s,B,h[B],v);else{h=P(h);for(var H=0,Q=h.length;H<Q;H++)Vn(s,h[H],v,I)}return this}var Fn="_leaflet_events";function kt(s,h,v,I){if(arguments.length===1)md(s),delete s[Fn];else if(h&&typeof h=="object")for(var B in h)jc(s,B,h[B],v);else if(h=P(h),arguments.length===2)md(s,function(re){return C(h,re)!==-1});else for(var H=0,Q=h.length;H<Q;H++)jc(s,h[H],v,I);return this}function md(s,h){for(var v in s[Fn]){var I=v.split(/\d/)[0];(!h||h(I))&&jc(s,I,null,null,v)}}var Dc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vn(s,h,v,I){var B=h+c(v)+(I?"_"+c(I):"");if(s[Fn]&&s[Fn][B])return this;var H=function(re){return v.call(I||s,re||window.event)},Q=H;!Le.touchNative&&Le.pointer&&h.indexOf("touch")===0?H=Ui(s,h,H):Le.touch&&h==="dblclick"?H=ol(s,H):"addEventListener"in s?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?s.addEventListener(Dc[h]||h,H,Le.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(H=function(re){re=re||window.event,Ji(s,re)&&Q(re)},s.addEventListener(Dc[h],H,!1)):s.addEventListener(h,Q,!1):s.attachEvent("on"+h,H),s[Fn]=s[Fn]||{},s[Fn][B]=H}function jc(s,h,v,I,B){B=B||h+c(v)+(I?"_"+c(I):"");var H=s[Fn]&&s[Fn][B];if(!H)return this;!Le.touchNative&&Le.pointer&&h.indexOf("touch")===0?dd(s,h,H):Le.touch&&h==="dblclick"?mo(s,H):"removeEventListener"in s?s.removeEventListener(Dc[h]||h,H,!1):s.detachEvent("on"+h,H),s[Fn][B]=null}function Yi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Xi(s){return Vn(s,"wheel",Yi),this}function Qi(s){return qe(s,"mousedown touchstart dblclick contextmenu",Yi),s._leaflet_disable_click=!0,this}function bn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function $r(s){return bn(s),Yi(s),this}function po(s){if(s.composedPath)return s.composedPath();for(var h=[],v=s.target;v;)h.push(v),v=v.parentNode;return h}function Bc(s,h){if(!h)return new J(s.clientX,s.clientY);var v=is(h),I=v.boundingClientRect;return new J((s.clientX-I.left)/v.x-h.clientLeft,(s.clientY-I.top)/v.y-h.clientTop)}var zc=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jt(s){return Le.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/zc:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ji(s,h){var v=h.relatedTarget;if(!v)return!0;try{for(;v&&v!==s;)v=v.parentNode}catch{return!1}return v!==s}var Hf={__proto__:null,on:qe,off:kt,stopPropagation:Yi,disableScrollPropagation:Xi,disableClickPropagation:Qi,preventDefault:bn,stop:$r,getPropagationPath:po,getMousePosition:Bc,getWheelDelta:jt,isExternalTarget:Ji,addListener:qe,removeListener:kt},Fc=te.extend({run:function(s,h,v,I){this.stop(),this._el=s,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(I||.5,.2),this._startPos=ft(s),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(s){var h=+new Date-this._startTime,v=this._duration*1e3;h<v?this._runFrame(this._easeOut(h/v),s):(this._runFrame(1),this._complete())},_runFrame:function(s,h){var v=this._startPos.add(this._offset.multiplyBy(s));h&&v._round(),Yt(this._el,v),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),rt=te.extend({options:{crs:tt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,h){h=_(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(ge(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ia&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qe(this._proxy,Rc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,h,v){if(h=h===void 0?this._zoom:this._limitZoom(h),s=this._limitCenter(ge(s),h,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var I=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,h,v.zoom):this._tryAnimatedPan(s,v.pan);if(I)return clearTimeout(this._sizeTimer),this}return this._resetView(s,h,v.pan&&v.pan.noMoveStart),this},setZoom:function(s,h){return this._loaded?this.setView(this.getCenter(),s,{zoom:h}):(this._zoom=s,this)},zoomIn:function(s,h){return s=s||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,h)},zoomOut:function(s,h){return s=s||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,h)},setZoomAround:function(s,h,v){var I=this.getZoomScale(h),B=this.getSize().divideBy(2),H=s instanceof J?s:this.latLngToContainerPoint(s),Q=H.subtract(B).multiplyBy(1-1/I),re=this.containerPointToLatLng(B.add(Q));return this.setView(re,h,{zoom:v})},_getBoundsCenterZoom:function(s,h){h=h||{},s=s.getBounds?s.getBounds():Ne(s);var v=Y(h.paddingTopLeft||h.padding||[0,0]),I=Y(h.paddingBottomRight||h.padding||[0,0]),B=this.getBoundsZoom(s,!1,v.add(I));if(B=typeof h.maxZoom=="number"?Math.min(h.maxZoom,B):B,B===1/0)return{center:s.getCenter(),zoom:B};var H=I.subtract(v).divideBy(2),Q=this.project(s.getSouthWest(),B),re=this.project(s.getNorthEast(),B),ae=this.unproject(Q.add(re).divideBy(2).add(H),B);return{center:ae,zoom:B}},fitBounds:function(s,h){if(s=Ne(s),!s.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(s,h);return this.setView(v.center,v.zoom,h)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,h){return this.setView(s,this._zoom,{pan:h})},panBy:function(s,h){if(s=Y(s).round(),h=h||{},!s.x&&!s.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ye(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,v,h.duration||.25,h.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,h,v){if(v=v||{},v.animate===!1||!Le.any3d)return this.setView(s,h,v);this._stop();var I=this.project(this.getCenter()),B=this.project(s),H=this.getSize(),Q=this._zoom;s=ge(s),h=h===void 0?Q:h;var re=Math.max(H.x,H.y),ae=re*this.getZoomScale(Q,h),x=B.distanceTo(I)||1,k=1.42,z=k*k;function K(On){var Ry=On?-1:1,jz=On?ae:re,Bz=ae*ae-re*re+Ry*z*z*x*x,zz=2*jz*z*x,Wx=Bz/zz,WN=Math.sqrt(Wx*Wx+1)-Wx,Fz=WN<1e-9?-18:Math.log(WN);return Fz}function ie(On){return(Math.exp(On)-Math.exp(-On))/2}function ve(On){return(Math.exp(On)+Math.exp(-On))/2}function Be(On){return ie(On)/ve(On)}var Ue=K(0);function Ct(On){return re*(ve(Ue)/ve(Ue+k*On))}function _l(On){return re*(ve(Ue)*Be(Ue+k*On)-ie(Ue))/z}function em(On){return 1-Math.pow(1-On,1.5)}var $z=Date.now(),VN=(K(1)-Ue)/k,Dz=v.duration?1e3*v.duration:1e3*VN*.8;function UN(){var On=(Date.now()-$z)/Dz,Ry=em(On)*VN;On<=1?(this._flyToFrame=j(UN,this),this._move(this.unproject(I.add(B.subtract(I).multiplyBy(_l(Ry)/x)),Q),this.getScaleZoom(re/Ct(Ry),Q),{flyTo:!0})):this._move(s,h)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),UN.call(this),this},flyToBounds:function(s,h){var v=this._getBoundsCenterZoom(s,h);return this.flyTo(v.center,v.zoom,h)},setMaxBounds:function(s){return s=Ne(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var h=this.options.minZoom;return this.options.minZoom=s,this._loaded&&h!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var h=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&h!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,h){this._enforcingBounds=!0;var v=this.getCenter(),I=this._limitCenter(v,this._zoom,Ne(s));return v.equals(I)||this.panTo(I,h),this._enforcingBounds=!1,this},panInside:function(s,h){h=h||{};var v=Y(h.paddingTopLeft||h.padding||[0,0]),I=Y(h.paddingBottomRight||h.padding||[0,0]),B=this.project(this.getCenter()),H=this.project(s),Q=this.getPixelBounds(),re=pe([Q.min.add(v),Q.max.subtract(I)]),ae=re.getSize();if(!re.contains(H)){this._enforcingBounds=!0;var x=H.subtract(re.getCenter()),k=re.extend(H).getSize().subtract(ae);B.x+=x.x<0?-k.x:k.x,B.y+=x.y<0?-k.y:k.y,this.panTo(this.unproject(B),h),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),I=h.divideBy(2).round(),B=v.divideBy(2).round(),H=I.subtract(B);return!H.x&&!H.y?this:(s.animate&&s.pan?this.panBy(H):(s.pan&&this._rawPanBy(H),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=o(this._handleGeolocationResponse,this),v=o(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,v,s):navigator.geolocation.getCurrentPosition(h,v,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var h=s.code,v=s.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var h=s.coords.latitude,v=s.coords.longitude,I=new Ee(h,v),B=I.toBounds(s.coords.accuracy*2),H=this._locateOptions;if(H.setView){var Q=this.getBoundsZoom(B);this.setView(I,H.maxZoom?Math.min(Q,H.maxZoom):Q)}var re={latlng:I,bounds:B,timestamp:s.timestamp};for(var ae in s.coords)typeof s.coords[ae]=="number"&&(re[ae]=s.coords[ae]);this.fire("locationfound",re)}},addHandler:function(s,h){if(!h)return this;var v=this[s]=new h(this);return this._handlers.push(v),this.options[s]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Pt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,h){var v="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),I=st("div",v,h||this._mapPane);return s&&(this._panes[s]=I),I},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),h=this.unproject(s.getBottomLeft()),v=this.unproject(s.getTopRight());return new fe(h,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,h,v){s=Ne(s),v=Y(v||[0,0]);var I=this.getZoom()||0,B=this.getMinZoom(),H=this.getMaxZoom(),Q=s.getNorthWest(),re=s.getSouthEast(),ae=this.getSize().subtract(v),x=pe(this.project(re,I),this.project(Q,I)).getSize(),k=Le.any3d?this.options.zoomSnap:1,z=ae.x/x.x,K=ae.y/x.y,ie=h?Math.max(z,K):Math.min(z,K);return I=this.getScaleZoom(ie,I),k&&(I=Math.round(I/(k/100))*(k/100),I=h?Math.ceil(I/k)*k:Math.floor(I/k)*k),Math.max(B,Math.min(H,I))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,h){var v=this._getTopLeftPoint(s,h);return new he(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,h){var v=this.options.crs;return h=h===void 0?this._zoom:h,v.scale(s)/v.scale(h)},getScaleZoom:function(s,h){var v=this.options.crs;h=h===void 0?this._zoom:h;var I=v.zoom(s*v.scale(h));return isNaN(I)?1/0:I},project:function(s,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(ge(s),h)},unproject:function(s,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(Y(s),h)},layerPointToLatLng:function(s){var h=Y(s).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(s){var h=this.project(ge(s))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ge(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ne(s))},distance:function(s,h){return this.options.crs.distance(ge(s),ge(h))},containerPointToLayerPoint:function(s){return Y(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Y(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var h=this.containerPointToLayerPoint(Y(s));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(s)))},mouseEventToContainerPoint:function(s){return Bc(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var h=this._container=Lc(s);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qe(h,"scroll",this._onScroll,this),this._containerId=c(h)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,Ye(s,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Oa(s,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yt(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ye(s.markerPane,"leaflet-zoom-hide"),Ye(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,h,v){Yt(this._mapPane,new J(0,0));var I=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var B=this._zoom!==h;this._moveStart(B,v)._move(s,h)._moveEnd(B),this.fire("viewreset"),I&&this.fire("load")},_moveStart:function(s,h){return s&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(s,h,v,I){h===void 0&&(h=this._zoom);var B=this._zoom!==h;return this._zoom=h,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),I?v&&v.pinch&&this.fire("zoom",v):((B||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Yt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var h=s?kt:qe;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,h){for(var v=[],I,B=h==="mouseout"||h==="mouseover",H=s.target||s.srcElement,Q=!1;H;){if(I=this._targets[c(H)],I&&(h==="click"||h==="preclick")&&this._draggableMoved(I)){Q=!0;break}if(I&&I.listens(h,!0)&&(B&&!Ji(H,s)||(v.push(I),B))||H===this._container)break;H=H.parentNode}return!v.length&&!Q&&!B&&this.listens(h,!0)&&(v=[this]),v},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var h=s.target||s.srcElement;if(!(!this._loaded||h._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(h))){var v=s.type;v==="mousedown"&&cl(h),this._fireDOMEvent(s,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,h,v){if(s.type==="click"){var I=i({},s);I.type="preclick",this._fireDOMEvent(I,I.type,v)}var B=this._findEventTargets(s,h);if(v){for(var H=[],Q=0;Q<v.length;Q++)v[Q].listens(h,!0)&&H.push(v[Q]);B=H.concat(B)}if(B.length){h==="contextmenu"&&bn(s);var re=B[0],ae={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var x=re.getLatLng&&(!re._radius||re._radius<=10);ae.containerPoint=x?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(s),ae.layerPoint=this.containerPointToLayerPoint(ae.containerPoint),ae.latlng=x?re.getLatLng():this.layerPointToLatLng(ae.layerPoint)}for(Q=0;Q<B.length;Q++)if(B[Q].fire(h,ae,!0),ae.originalEvent._stopped||B[Q].options.bubblingMouseEvents===!1&&C(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,h=this._handlers.length;s<h;s++)this._handlers[s].disable()},whenReady:function(s,h){return this._loaded?s.call(h||this,{target:this}):this.on("load",s,h),this},_getMapPanePos:function(){return ft(this._mapPane)||new J(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,h){var v=s&&h!==void 0?this._getNewPixelOrigin(s,h):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,h){var v=this.getSize()._divideBy(2);return this.project(s,h)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,h,v){var I=this._getNewPixelOrigin(v,h);return this.project(s,h)._subtract(I)},_latLngBoundsToNewLayerBounds:function(s,h,v){var I=this._getNewPixelOrigin(v,h);return pe([this.project(s.getSouthWest(),h)._subtract(I),this.project(s.getNorthWest(),h)._subtract(I),this.project(s.getSouthEast(),h)._subtract(I),this.project(s.getNorthEast(),h)._subtract(I)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,h,v){if(!v)return s;var I=this.project(s,h),B=this.getSize().divideBy(2),H=new he(I.subtract(B),I.add(B)),Q=this._getBoundsOffset(H,v,h);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?s:this.unproject(I.add(Q),h)},_limitOffset:function(s,h){if(!h)return s;var v=this.getPixelBounds(),I=new he(v.min.add(s),v.max.add(s));return s.add(this._getBoundsOffset(I,h))},_getBoundsOffset:function(s,h,v){var I=pe(this.project(h.getNorthEast(),v),this.project(h.getSouthWest(),v)),B=I.min.subtract(s.min),H=I.max.subtract(s.max),Q=this._rebound(B.x,-H.x),re=this._rebound(B.y,-H.y);return new J(Q,re)},_rebound:function(s,h){return s+h>0?Math.round(s-h)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(h))},_limitZoom:function(s){var h=this.getMinZoom(),v=this.getMaxZoom(),I=Le.any3d?this.options.zoomSnap:1;return I&&(s=Math.round(s/I)*I),Math.max(h,Math.min(v,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,h){var v=this._getCenterOffset(s)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,h),!0)},_createAnimProxy:function(){var s=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(h){var v=mi,I=this._proxy.style[v];ei(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),I===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),h=this.getZoom();ei(this._proxy,this.project(s,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,h,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var I=this.getZoomScale(h),B=this._getCenterOffset(s)._divideBy(1-1/I);return v.animate!==!0&&!this.getSize().contains(B)?!1:(j(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(s,h,!0)},this),!0)},_animateZoom:function(s,h,v,I){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=h,Ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:h,noUpdate:I}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pd(s,h){return new rt(s,h)}var Xt=G.extend({options:{position:"topright"},initialize:function(s){_(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var h=this._map;return h&&h.removeControl(this),this.options.position=s,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var h=this._container=this.onAdd(s),v=this.getPosition(),I=s._controlCorners[v];return Ye(h,"leaflet-control"),v.indexOf("bottom")!==-1?I.insertBefore(h,I.firstChild):I.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),go=function(s){return new Xt(s)};rt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},h="leaflet-",v=this._controlContainer=st("div",h+"control-container",this._container);function I(B,H){var Q=h+B+" "+h+H;s[B+H]=st("div",Q,v)}I("top","left"),I("top","right"),I("bottom","left"),I("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Pt(this._controlCorners[s]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Dr=Xt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,h,v,I){return v<I?-1:I<v?1:0}},initialize:function(s,h,v){_(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var I in s)this._addLayer(s[I],I);for(I in h)this._addLayer(h[I],I,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Xt.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,h){return this._addLayer(s,h),this._map?this._update():this},addOverlay:function(s,h){return this._addLayer(s,h,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var h=this._getLayer(c(s));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",h=this._container=st("div",s),v=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Qi(h),Xi(h);var I=this._section=st("section",s+"-list");v&&(this._map.on("click",this.collapse,this),qe(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=st("a",s+"-toggle",h);B.href="#",B.title="Layers",B.setAttribute("role","button"),qe(B,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){bn(H),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=st("div",s+"-base",I),this._separator=st("div",s+"-separator",I),this._overlaysList=st("div",s+"-overlays",I),h.appendChild(I)},_getLayer:function(s){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&c(this._layers[h].layer)===s)return this._layers[h]},_addLayer:function(s,h,v){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:h,overlay:v}),this.options.sortLayers&&this._layers.sort(o(function(I,B){return this.options.sortFunction(I.layer,B.layer,I.name,B.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ma(this._baseLayersList),Ma(this._overlaysList),this._layerControlInputs=[];var s,h,v,I,B=0;for(v=0;v<this._layers.length;v++)I=this._layers[v],this._addItem(I),h=h||I.overlay,s=s||!I.overlay,B+=I.overlay?0:1;return this.options.hideSingleBase&&(s=s&&B>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=h&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var h=this._getLayer(c(s.target)),v=h.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;v&&this._map.fire(v,h)},_createRadioElement:function(s,h){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(h?' checked="checked"':"")+"/>",I=document.createElement("div");return I.innerHTML=v,I.firstChild},_addItem:function(s){var h=document.createElement("label"),v=this._map.hasLayer(s.layer),I;s.overlay?(I=document.createElement("input"),I.type="checkbox",I.className="leaflet-control-layers-selector",I.defaultChecked=v):I=this._createRadioElement("leaflet-base-layers_"+c(this),v),this._layerControlInputs.push(I),I.layerId=c(s.layer),qe(I,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+s.name;var H=document.createElement("span");h.appendChild(H),H.appendChild(I),H.appendChild(B);var Q=s.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,h,v,I=[],B=[];this._handlingClick=!0;for(var H=s.length-1;H>=0;H--)h=s[H],v=this._getLayer(h.layerId).layer,h.checked?I.push(v):h.checked||B.push(v);for(H=0;H<B.length;H++)this._map.hasLayer(B[H])&&this._map.removeLayer(B[H]);for(H=0;H<I.length;H++)this._map.hasLayer(I[H])||this._map.addLayer(I[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,h,v,I=this._map.getZoom(),B=s.length-1;B>=0;B--)h=s[B],v=this._getLayer(h.layerId).layer,h.disabled=v.options.minZoom!==void 0&&I<v.options.minZoom||v.options.maxZoom!==void 0&&I>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,qe(s,"click",bn),this.expand();var h=this;setTimeout(function(){kt(s,"click",bn),h._preventClick=!1})}}),yo=function(s,h,v){return new Dr(s,h,v)},Vc=Xt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var h="leaflet-control-zoom",v=st("div",h+" leaflet-bar"),I=this.options;return this._zoomInButton=this._createButton(I.zoomInText,I.zoomInTitle,h+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(I.zoomOutText,I.zoomOutTitle,h+"-out",v,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,h,v,I,B){var H=st("a",v,I);return H.innerHTML=s,H.href="#",H.title=h,H.setAttribute("role","button"),H.setAttribute("aria-label",h),Qi(H),qe(H,"click",$r),qe(H,"click",B,this),qe(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var s=this._map,h="leaflet-disabled";Vt(this._zoomInButton,h),Vt(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ye(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ye(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vc,this.addControl(this.zoomControl))});var as=function(s){return new Vc(s)},Uc=Xt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var h="leaflet-control-scale",v=st("div",h),I=this.options;return this._addScales(I,h+"-line",v),s.on(I.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),v},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,h,v){s.metric&&(this._mScale=st("div",h,v)),s.imperial&&(this._iScale=st("div",h,v))},_update:function(){var s=this._map,h=s.getSize().y/2,v=s.distance(s.containerPointToLatLng([0,h]),s.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(v)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var h=this._getRoundNum(s),v=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,v,h/s)},_updateImperial:function(s){var h=s*3.2808399,v,I,B;h>5280?(v=h/5280,I=this._getRoundNum(v),this._updateScale(this._iScale,I+" mi",I/v)):(B=this._getRoundNum(h),this._updateScale(this._iScale,B+" ft",B/h))},_updateScale:function(s,h,v){s.style.width=Math.round(this.options.maxWidth*v)+"px",s.innerHTML=h},_getRoundNum:function(s){var h=Math.pow(10,(Math.floor(s)+"").length-1),v=s/h;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,h*v}}),ul=function(s){return new Uc(s)},gi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',dl=Xt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?gi+" ":"")+"Leaflet</a>"},initialize:function(s){_(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=st("div","leaflet-control-attribution"),Qi(this._container);for(var h in s._layers)s._layers[h].getAttribution&&this.addAttribution(s._layers[h].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var h in this._attributions)this._attributions[h]&&s.push(h);var v=[];this.options.prefix&&v.push(this.options.prefix),s.length&&v.push(s.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&new dl().addTo(this)});var hl=function(s){return new dl(s)};Xt.Layers=Dr,Xt.Zoom=Vc,Xt.Scale=Uc,Xt.Attribution=dl,go.layers=yo,go.zoom=as,go.scale=ul,go.attribution=hl;var ti=G.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ti.addTo=function(s,h){return s.addHandler(h,this),this};var gd={Events:ee},vo=Le.touch?"touchstart mousedown":"mousedown",yi=te.extend({options:{clickTolerance:3},initialize:function(s,h,v,I){_(this,I),this._element=s,this._dragStartTarget=h||s,this._preventOutline=v},enable:function(){this._enabled||(qe(this._dragStartTarget,vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yi._dragging===this&&this.finishDrag(!0),kt(this._dragStartTarget,vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!sl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){yi._dragging===this&&this.finishDrag();return}if(!(yi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(yi._dragging=this,this._preventOutline&&cl(this._element),rs(),qi(),!this._moving)){this.fire("down");var h=s.touches?s.touches[0]:s,v=Lr(this._element);this._startPoint=new J(h.clientX,h.clientY),this._startPos=ft(this._element),this._parentScale=is(v);var I=s.type==="mousedown";qe(document,I?"mousemove":"touchmove",this._onMove,this),qe(document,I?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var h=s.touches&&s.touches.length===1?s.touches[0]:s,v=new J(h.clientX,h.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,bn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ye(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Yt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kt(document,"mousemove touchmove",this._onMove,this),kt(document,"mouseup touchend touchcancel",this._onUp,this),$c(),pi();var h=this._moved&&this._moving;this._moving=!1,yi._dragging=!1,h&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Wc(s,h,v){var I,B=[1,4,2,8],H,Q,re,ae,x,k,z,K;for(H=0,k=s.length;H<k;H++)s[H]._code=an(s[H],h);for(re=0;re<4;re++){for(z=B[re],I=[],H=0,k=s.length,Q=k-1;H<k;Q=H++)ae=s[H],x=s[Q],ae._code&z?x._code&z||(K=ta(x,ae,z,h,v),K._code=an(K,h),I.push(K)):(x._code&z&&(K=ta(x,ae,z,h,v),K._code=an(K,h),I.push(K)),I.push(ae));s=I}return s}function fl(s,h){var v,I,B,H,Q,re,ae,x,k;if(!s||s.length===0)throw new Error("latlngs not passed");En(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var z=ge([0,0]),K=Ne(s),ie=K.getNorthWest().distanceTo(K.getSouthWest())*K.getNorthEast().distanceTo(K.getNorthWest());ie<1700&&(z=os(s));var ve=s.length,Be=[];for(v=0;v<ve;v++){var Ue=ge(s[v]);Be.push(h.project(ge([Ue.lat-z.lat,Ue.lng-z.lng])))}for(re=ae=x=0,v=0,I=ve-1;v<ve;I=v++)B=Be[v],H=Be[I],Q=B.y*H.x-H.y*B.x,ae+=(B.x+H.x)*Q,x+=(B.y+H.y)*Q,re+=Q*3;re===0?k=Be[0]:k=[ae/re,x/re];var Ct=h.unproject(Y(k));return ge([Ct.lat+z.lat,Ct.lng+z.lng])}function os(s){for(var h=0,v=0,I=0,B=0;B<s.length;B++){var H=ge(s[B]);h+=H.lat,v+=H.lng,I++}return ge([h/I,v/I])}var yd={__proto__:null,clipPolygon:Wc,polygonCenter:fl,centroid:os};function ea(s,h){if(!h||!s.length)return s.slice();var v=h*h;return s=Hc(s,v),s=Da(s,v),s}function ml(s,h,v){return Math.sqrt(vi(s,h,v,!0))}function vd(s,h,v){return vi(s,h,v)}function Da(s,h){var v=s.length,I=typeof Uint8Array!=void 0+""?Uint8Array:Array,B=new I(v);B[0]=B[v-1]=1,pl(s,B,h,0,v-1);var H,Q=[];for(H=0;H<v;H++)B[H]&&Q.push(s[H]);return Q}function pl(s,h,v,I,B){var H=0,Q,re,ae;for(re=I+1;re<=B-1;re++)ae=vi(s[re],s[I],s[B],!0),ae>H&&(Q=re,H=ae);H>v&&(h[Q]=1,pl(s,h,v,I,Q),pl(s,h,v,Q,B))}function Hc(s,h){for(var v=[s[0]],I=1,B=0,H=s.length;I<H;I++)gl(s[I],s[B])>h&&(v.push(s[I]),B=I);return B<H-1&&v.push(s[H-1]),v}var qc;function ss(s,h,v,I,B){var H=I?qc:an(s,v),Q=an(h,v),re,ae,x;for(qc=Q;;){if(!(H|Q))return[s,h];if(H&Q)return!1;re=H||Q,ae=ta(s,h,re,v,B),x=an(ae,v),re===H?(s=ae,H=x):(h=ae,Q=x)}}function ta(s,h,v,I,B){var H=h.x-s.x,Q=h.y-s.y,re=I.min,ae=I.max,x,k;return v&8?(x=s.x+H*(ae.y-s.y)/Q,k=ae.y):v&4?(x=s.x+H*(re.y-s.y)/Q,k=re.y):v&2?(x=ae.x,k=s.y+Q*(ae.x-s.x)/H):v&1&&(x=re.x,k=s.y+Q*(re.x-s.x)/H),new J(x,k,B)}function an(s,h){var v=0;return s.x<h.min.x?v|=1:s.x>h.max.x&&(v|=2),s.y<h.min.y?v|=4:s.y>h.max.y&&(v|=8),v}function gl(s,h){var v=h.x-s.x,I=h.y-s.y;return v*v+I*I}function vi(s,h,v,I){var B=h.x,H=h.y,Q=v.x-B,re=v.y-H,ae=Q*Q+re*re,x;return ae>0&&(x=((s.x-B)*Q+(s.y-H)*re)/ae,x>1?(B=v.x,H=v.y):x>0&&(B+=Q*x,H+=re*x)),Q=s.x-B,re=s.y-H,I?Q*Q+re*re:new J(B,H)}function En(s){return!w(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function g(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(s)}function M(s,h){var v,I,B,H,Q,re,ae,x;if(!s||s.length===0)throw new Error("latlngs not passed");En(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var k=ge([0,0]),z=Ne(s),K=z.getNorthWest().distanceTo(z.getSouthWest())*z.getNorthEast().distanceTo(z.getNorthWest());K<1700&&(k=os(s));var ie=s.length,ve=[];for(v=0;v<ie;v++){var Be=ge(s[v]);ve.push(h.project(ge([Be.lat-k.lat,Be.lng-k.lng])))}for(v=0,I=0;v<ie-1;v++)I+=ve[v].distanceTo(ve[v+1])/2;if(I===0)x=ve[0];else for(v=0,H=0;v<ie-1;v++)if(Q=ve[v],re=ve[v+1],B=Q.distanceTo(re),H+=B,H>I){ae=(H-I)/B,x=[re.x-ae*(re.x-Q.x),re.y-ae*(re.y-Q.y)];break}var Ue=h.unproject(Y(x));return ge([Ue.lat+k.lat,Ue.lng+k.lng])}var F={__proto__:null,simplify:ea,pointToSegmentDistance:ml,closestPointOnSegment:vd,clipSegment:ss,_getEdgeIntersection:ta,_getBitCode:an,_sqClosestPointOnSegment:vi,isFlat:En,_flat:g,polylineCenter:M},q={project:function(s){return new J(s.lng,s.lat)},unproject:function(s){return new Ee(s.y,s.x)},bounds:new he([-180,-90],[180,90])},ne={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var h=Math.PI/180,v=this.R,I=s.lat*h,B=this.R_MINOR/v,H=Math.sqrt(1-B*B),Q=H*Math.sin(I),re=Math.tan(Math.PI/4-I/2)/Math.pow((1-Q)/(1+Q),H/2);return I=-v*Math.log(Math.max(re,1e-10)),new J(s.lng*h*v,I)},unproject:function(s){for(var h=180/Math.PI,v=this.R,I=this.R_MINOR/v,B=Math.sqrt(1-I*I),H=Math.exp(-s.y/v),Q=Math.PI/2-2*Math.atan(H),re=0,ae=.1,x;re<15&&Math.abs(ae)>1e-7;re++)x=B*Math.sin(Q),x=Math.pow((1-x)/(1+x),B/2),ae=Math.PI/2-2*Math.atan(H*x)-Q,Q+=ae;return new Ee(Q*h,s.x*h/v)}},oe={__proto__:null,LonLat:q,Mercator:ne,SphericalMercator:Ae},Se=i({},Oe,{code:"EPSG:3395",projection:ne,transformation:function(){var s=.5/(Math.PI*ne.R);return ue(s,.5,-s,.5)}()}),wt=i({},Oe,{code:"EPSG:4326",projection:q,transformation:ue(1/180,1,-1/180,.5)}),xn=i({},ye,{projection:q,transformation:ue(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,h){var v=h.lng-s.lng,I=h.lat-s.lat;return Math.sqrt(v*v+I*I)},infinite:!0});ye.Earth=Oe,ye.EPSG3395=Se,ye.EPSG3857=tt,ye.EPSG900913=He,ye.EPSG4326=wt,ye.Simple=xn;var Fe=te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var h=s.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var v=this.getEvents();h.on(v,this),this.once("remove",function(){h.off(v,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var h=c(s);return this._layers[h]?this:(this._layers[h]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var h=c(s);return this._layers[h]?(this._loaded&&s.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,h){for(var v in this._layers)s.call(h,this._layers[v]);return this},_addLayers:function(s){s=s?w(s)?s:[s]:[];for(var h=0,v=s.length;h<v;h++)this.addLayer(s[h])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var h=c(s);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,h=-1/0,v=this._getZoomSpan();for(var I in this._zoomBoundLayers){var B=this._zoomBoundLayers[I].options;s=B.minZoom===void 0?s:Math.min(s,B.minZoom),h=B.maxZoom===void 0?h:Math.max(h,B.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=s===1/0?void 0:s,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qt=Fe.extend({initialize:function(s,h){_(this,h),this._layers={};var v,I;if(s)for(v=0,I=s.length;v<I;v++)this.addLayer(s[v])},addLayer:function(s){var h=this.getLayerId(s);return this._layers[h]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var h=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(s){var h=typeof s=="number"?s:this.getLayerId(s);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var h=Array.prototype.slice.call(arguments,1),v,I;for(v in this._layers)I=this._layers[v],I[s]&&I[s].apply(I,h);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,h){for(var v in this._layers)s.call(h,this._layers[v]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),In=function(s,h){return new Qt(s,h)},tr=Qt.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Qt.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Qt.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new fe;for(var h in this._layers){var v=this._layers[h];s.extend(v.getBounds?v.getBounds():v.getLatLng())}return s}}),Sr=function(s,h){return new tr(s,h)},ni=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){_(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,h){var v=this._getIconUrl(s);if(!v){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var I=this._createImg(v,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(I,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),I},_setIconStyles:function(s,h){var v=this.options,I=v[h+"Size"];typeof I=="number"&&(I=[I,I]);var B=Y(I),H=Y(h==="shadow"&&v.shadowAnchor||v.iconAnchor||B&&B.divideBy(2,!0));s.className="leaflet-marker-"+h+" "+(v.className||""),H&&(s.style.marginLeft=-H.x+"px",s.style.marginTop=-H.y+"px"),B&&(s.style.width=B.x+"px",s.style.height=B.y+"px")},_createImg:function(s,h){return h=h||document.createElement("img"),h.src=s,h},_getIconUrl:function(s){return Le.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function yl(s){return new ni(s)}var Kc=ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Kc.imagePath!="string"&&(Kc.imagePath=this._detectIconPath()),(this.options.imagePath||Kc.imagePath)+ni.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var h=function(v,I,B){var H=I.exec(v);return H&&H[B]};return s=h(s,/^url\((['"])?(.+)\1\)$/,2),s&&h(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=st("div","leaflet-default-icon-path",document.body),h=Oa(s,"background-image")||Oa(s,"backgroundImage");if(document.body.removeChild(s),h=this._stripUrl(h),h)return h;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),gy=ti.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new yi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ye(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var h=this._marker,v=h._map,I=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,H=ft(h._icon),Q=v.getPixelBounds(),re=v.getPixelOrigin(),ae=pe(Q.min._subtract(re).add(B),Q.max._subtract(re).subtract(B));if(!ae.contains(H)){var x=Y((Math.max(ae.max.x,H.x)-ae.max.x)/(Q.max.x-ae.max.x)-(Math.min(ae.min.x,H.x)-ae.min.x)/(Q.min.x-ae.min.x),(Math.max(ae.max.y,H.y)-ae.max.y)/(Q.max.y-ae.max.y)-(Math.min(ae.min.y,H.y)-ae.min.y)/(Q.min.y-ae.min.y)).multiplyBy(I);v.panBy(x,{animate:!1}),this._draggable._newPos._add(x),this._draggable._startPos._add(x),Yt(h._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=j(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,s)))},_onDrag:function(s){var h=this._marker,v=h._shadow,I=ft(h._icon),B=h._map.layerPointToLatLng(I);v&&Yt(v,I),h._latlng=B,s.latlng=B,s.oldLatLng=this._oldLatLng,h.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),wd=Fe.extend({options:{icon:new Kc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,h){_(this,h),this._latlng=ge(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var h=this._latlng;return this._latlng=ge(s),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=s.icon.createIcon(this._icon),I=!1;v!==this._icon&&(this._icon&&this._removeIcon(),I=!0,s.title&&(v.title=s.title),v.tagName==="IMG"&&(v.alt=s.alt||"")),Ye(v,h),s.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(v,"focus",this._panOnFocus,this);var B=s.icon.createShadow(this._shadow),H=!1;B!==this._shadow&&(this._removeShadow(),H=!0),B&&(Ye(B,h),B.alt=""),this._shadow=B,s.opacity<1&&this._updateOpacity(),I&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&H&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Yt(this._icon,s),this._shadow&&Yt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gy)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gy(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Zt(this._icon,s),this._shadow&&Zt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var h=this.options.icon.options,v=h.iconSize?Y(h.iconSize):Y(0,0),I=h.iconAnchor?Y(h.iconAnchor):Y(0,0);s.panInside(this._latlng,{paddingTopLeft:I,paddingBottomRight:v.subtract(I)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yy(s,h){return new wd(s,h)}var ja=Fe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return _(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bd=ja.extend({options:{fill:!0,radius:10},initialize:function(s,h){_(this,h),this._latlng=ge(s),this._radius=this.options.radius},setLatLng:function(s){var h=this._latlng;return this._latlng=ge(s),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var h=s&&s.radius||this._radius;return ja.prototype.setStyle.call(this,s),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,h=this._radiusY||s,v=this._clickTolerance(),I=[s+v,h+v];this._pxBounds=new he(this._point.subtract(I),this._point.add(I))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vy(s,h){return new bd(s,h)}var qf=bd.extend({initialize:function(s,h,v){if(typeof h=="number"&&(h=i({},v,{radius:h})),_(this,h),this._latlng=ge(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ja.prototype.setStyle,_project:function(){var s=this._latlng.lng,h=this._latlng.lat,v=this._map,I=v.options.crs;if(I.distance===Oe.distance){var B=Math.PI/180,H=this._mRadius/Oe.R/B,Q=v.project([h+H,s]),re=v.project([h-H,s]),ae=Q.add(re).divideBy(2),x=v.unproject(ae).lat,k=Math.acos((Math.cos(H*B)-Math.sin(h*B)*Math.sin(x*B))/(Math.cos(h*B)*Math.cos(x*B)))/B;(isNaN(k)||k===0)&&(k=H/Math.cos(Math.PI/180*h)),this._point=ae.subtract(v.getPixelOrigin()),this._radius=isNaN(k)?0:ae.x-v.project([x,s-k]).x,this._radiusY=ae.y-Q.y}else{var z=I.unproject(I.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(z).x}this._updateBounds()}});function wy(s,h,v){return new qf(s,h,v)}var wi=ja.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,h){_(this,h),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var h=1/0,v=null,I=vi,B,H,Q=0,re=this._parts.length;Q<re;Q++)for(var ae=this._parts[Q],x=1,k=ae.length;x<k;x++){B=ae[x-1],H=ae[x];var z=I(s,B,H,!0);z<h&&(h=z,v=I(s,B,H))}return v&&(v.distance=Math.sqrt(h)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return M(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,h){return h=h||this._defaultShape(),s=ge(s),h.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new fe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var h=[],v=En(s),I=0,B=s.length;I<B;I++)v?(h[I]=ge(s[I]),this._bounds.extend(h[I])):h[I]=this._convertLatLngs(s[I]);return h},_project:function(){var s=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),h=new J(s,s);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(s,h,v){var I=s[0]instanceof Ee,B=s.length,H,Q;if(I){for(Q=[],H=0;H<B;H++)Q[H]=this._map.latLngToLayerPoint(s[H]),v.extend(Q[H]);h.push(Q)}else for(H=0;H<B;H++)this._projectLatlngs(s[H],h,v)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,v,I,B,H,Q,re,ae;for(v=0,B=0,H=this._rings.length;v<H;v++)for(ae=this._rings[v],I=0,Q=ae.length;I<Q-1;I++)re=ss(ae[I],ae[I+1],s,I,!0),re&&(h[B]=h[B]||[],h[B].push(re[0]),(re[1]!==ae[I+1]||I===Q-2)&&(h[B].push(re[1]),B++))}},_simplifyPoints:function(){for(var s=this._parts,h=this.options.smoothFactor,v=0,I=s.length;v<I;v++)s[v]=ea(s[v],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,h){var v,I,B,H,Q,re,ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,H=this._parts.length;v<H;v++)for(re=this._parts[v],I=0,Q=re.length,B=Q-1;I<Q;B=I++)if(!(!h&&I===0)&&ml(s,re[B],re[I])<=ae)return!0;return!1}});function Mx(s,h){return new wi(s,h)}wi._flat=g;var vl=wi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var h=wi.prototype._convertLatLngs.call(this,s),v=h.length;return v>=2&&h[0]instanceof Ee&&h[0].equals(h[v-1])&&h.pop(),h},_setLatLngs:function(s){wi.prototype._setLatLngs.call(this,s),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,h=this.options.weight,v=new J(h,h);if(s=new he(s.min.subtract(v),s.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var I=0,B=this._rings.length,H;I<B;I++)H=Wc(this._rings[I],s,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var h=!1,v,I,B,H,Q,re,ae,x;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(H=0,ae=this._parts.length;H<ae;H++)for(v=this._parts[H],Q=0,x=v.length,re=x-1;Q<x;re=Q++)I=v[Q],B=v[re],I.y>s.y!=B.y>s.y&&s.x<(B.x-I.x)*(s.y-I.y)/(B.y-I.y)+I.x&&(h=!h);return h||wi.prototype._containsPoint.call(this,s,!0)}});function Rx(s,h){return new vl(s,h)}var Ba=tr.extend({initialize:function(s,h){_(this,h),this._layers={},s&&this.addData(s)},addData:function(s){var h=w(s)?s:s.features,v,I,B;if(h){for(v=0,I=h.length;v<I;v++)B=h[v],(B.geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var H=this.options;if(H.filter&&!H.filter(s))return this;var Q=ls(s,H);return Q?(Q.feature=_d(s),Q.defaultOptions=Q.options,this.resetStyle(Q),H.onEachFeature&&H.onEachFeature(s,Q),this.addLayer(Q)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(h){this._setLayerStyle(h,s)},this)},_setLayerStyle:function(s,h){s.setStyle&&(typeof h=="function"&&(h=h(s.feature)),s.setStyle(h))}});function ls(s,h){var v=s.type==="Feature"?s.geometry:s,I=v?v.coordinates:null,B=[],H=h&&h.pointToLayer,Q=h&&h.coordsToLatLng||Kf,re,ae,x,k;if(!I&&!v)return null;switch(v.type){case"Point":return re=Q(I),by(H,s,re,h);case"MultiPoint":for(x=0,k=I.length;x<k;x++)re=Q(I[x]),B.push(by(H,s,re,h));return new tr(B);case"LineString":case"MultiLineString":return ae=xd(I,v.type==="LineString"?0:1,Q),new wi(ae,h);case"Polygon":case"MultiPolygon":return ae=xd(I,v.type==="Polygon"?1:2,Q),new vl(ae,h);case"GeometryCollection":for(x=0,k=v.geometries.length;x<k;x++){var z=ls({geometry:v.geometries[x],type:"Feature",properties:s.properties},h);z&&B.push(z)}return new tr(B);case"FeatureCollection":for(x=0,k=v.features.length;x<k;x++){var K=ls(v.features[x],h);K&&B.push(K)}return new tr(B);default:throw new Error("Invalid GeoJSON object.")}}function by(s,h,v,I){return s?s(h,v):new wd(v,I&&I.markersInheritOptions&&I)}function Kf(s){return new Ee(s[1],s[0],s[2])}function xd(s,h,v){for(var I=[],B=0,H=s.length,Q;B<H;B++)Q=h?xd(s[B],h-1,v):(v||Kf)(s[B]),I.push(Q);return I}function Gf(s,h){return s=ge(s),s.alt!==void 0?[p(s.lng,h),p(s.lat,h),p(s.alt,h)]:[p(s.lng,h),p(s.lat,h)]}function Gc(s,h,v,I){for(var B=[],H=0,Q=s.length;H<Q;H++)B.push(h?Gc(s[H],En(s[H])?0:h-1,v,I):Gf(s[H],I));return!h&&v&&B.length>0&&B.push(B[0].slice()),B}function wl(s,h){return s.feature?i({},s.feature,{geometry:h}):_d(h)}function _d(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Zf={toGeoJSON:function(s){return wl(this,{type:"Point",coordinates:Gf(this.getLatLng(),s)})}};wd.include(Zf),qf.include(Zf),bd.include(Zf),wi.include({toGeoJSON:function(s){var h=!En(this._latlngs),v=Gc(this._latlngs,h?1:0,!1,s);return wl(this,{type:(h?"Multi":"")+"LineString",coordinates:v})}}),vl.include({toGeoJSON:function(s){var h=!En(this._latlngs),v=h&&!En(this._latlngs[0]),I=Gc(this._latlngs,v?2:h?1:0,!0,s);return h||(I=[I]),wl(this,{type:(v?"Multi":"")+"Polygon",coordinates:I})}}),Qt.include({toMultiPoint:function(s){var h=[];return this.eachLayer(function(v){h.push(v.toGeoJSON(s).geometry.coordinates)}),wl(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(s){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(s);var v=h==="GeometryCollection",I=[];return this.eachLayer(function(B){if(B.toGeoJSON){var H=B.toGeoJSON(s);if(v)I.push(H.geometry);else{var Q=_d(H);Q.type==="FeatureCollection"?I.push.apply(I,Q.features):I.push(Q)}}}),v?wl(this,{geometries:I,type:"GeometryCollection"}):{type:"FeatureCollection",features:I}}});function xy(s,h){return new Ba(s,h)}var _y=xy,Zc=Fe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,h,v){this._url=s,this._bounds=Ne(h),_(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Wi(this._image),this},bringToBack:function(){return this._map&&Hi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ne(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",h=this._image=s?this._url:st("img");if(Ye(h,"leaflet-image-layer"),this._zoomAnimated&&Ye(h,"leaflet-zoom-animated"),this.options.className&&Ye(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onload=o(this.fire,this,"load"),h.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(s){var h=this._map.getZoomScale(s.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ei(this._image,v,h)},_reset:function(){var s=this._image,h=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=h.getSize();Yt(s,h.min),s.style.width=v.x+"px",s.style.height=v.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Lx=function(s,h,v){return new Zc(s,h,v)},Sy=Zc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",h=this._image=s?this._url:st("video");if(Ye(h,"leaflet-image-layer"),this._zoomAnimated&&Ye(h,"leaflet-zoom-animated"),this.options.className&&Ye(h,this.options.className),h.onselectstart=m,h.onmousemove=m,h.onloadeddata=o(this.fire,this,"load"),s){for(var v=h.getElementsByTagName("source"),I=[],B=0;B<v.length;B++)I.push(v[B].src);this._url=v.length>0?I:[h.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var Q=st("source");Q.src=this._url[H],h.appendChild(Q)}}});function $x(s,h,v){return new Sy(s,h,v)}var Yf=Zc.extend({_initImage:function(){var s=this._image=this._url;Ye(s,"leaflet-image-layer"),this._zoomAnimated&&Ye(s,"leaflet-zoom-animated"),this.options.className&&Ye(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function Xf(s,h,v){return new Yf(s,h,v)}var na=Fe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,h){s&&(s instanceof Ee||w(s))?(this._latlng=ge(s),_(this,h)):(_(this,s),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ge(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wi(this._container),this},bringToBack:function(){return this._map&&Hi(this._container),this},_prepareOpen:function(s){var h=this._source;if(!h._map)return!1;if(h instanceof tr){h=null;var v=this._source._layers;for(var I in v)if(v[I]._map){h=v[I];break}if(!h)return!1;this._source=h}if(!s)if(h.getCenter)s=h.getCenter();else if(h.getLatLng)s=h.getLatLng();else if(h.getBounds)s=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")s.innerHTML=h;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),h=Y(this.options.offset),v=this._getAnchor();this._zoomAnimated?Yt(this._container,s.add(v)):h=h.add(s).add(v);var I=this._containerBottom=-h.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=I+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(s,h,v,I){var B=h;return B instanceof s||(B=new s(I).setContent(h)),v&&B.setLatLng(v),B}}),Fe.include({_initOverlay:function(s,h,v,I){var B=v;return B instanceof s?(_(B,I),B._source=this):(B=h&&!I?h:new s(I,this),B.setContent(v)),B}});var Sd=na.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,na.prototype.openOn.call(this,s)},onAdd:function(s){na.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ja||this._source.on("preclick",Yi))},onRemove:function(s){na.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ja||this._source.off("preclick",Yi))},getEvents:function(){var s=na.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",h=this._container=st("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=st("div",s+"-content-wrapper",h);if(this._contentNode=st("div",s+"-content",v),Qi(h),Xi(this._contentNode),qe(h,"contextmenu",Yi),this._tipContainer=st("div",s+"-tip-container",h),this._tip=st("div",s+"-tip",this._tipContainer),this.options.closeButton){var I=this._closeButton=st("a",s+"-close-button",h);I.setAttribute("role","button"),I.setAttribute("aria-label","Close popup"),I.href="#close",I.innerHTML='<span aria-hidden="true">&#215;</span>',qe(I,"click",function(B){bn(B),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,h=s.style;h.width="",h.whiteSpace="nowrap";var v=s.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),h.width=v+1+"px",h.whiteSpace="",h.height="";var I=s.offsetHeight,B=this.options.maxHeight,H="leaflet-popup-scrolled";B&&I>B?(h.height=B+"px",Ye(s,H)):Vt(s,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),v=this._getAnchor();Yt(this._container,h.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,h=parseInt(Oa(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+h,I=this._containerWidth,B=new J(this._containerLeft,-v-this._containerBottom);B._add(ft(this._container));var H=s.layerPointToContainerPoint(B),Q=Y(this.options.autoPanPadding),re=Y(this.options.autoPanPaddingTopLeft||Q),ae=Y(this.options.autoPanPaddingBottomRight||Q),x=s.getSize(),k=0,z=0;H.x+I+ae.x>x.x&&(k=H.x+I-x.x+ae.x),H.x-k-re.x<0&&(k=H.x-re.x),H.y+v+ae.y>x.y&&(z=H.y+v-x.y+ae.y),H.y-z-re.y<0&&(z=H.y-re.y),(k||z)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([k,z]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Dx=function(s,h){return new Sd(s,h)};rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(s,h,v){return this._initOverlay(Sd,s,h,v).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Fe.include({bindPopup:function(s,h){return this._popup=this._initOverlay(Sd,this._popup,s,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof tr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){$r(s);var h=s.layer||s.target;if(this._popup._source===h&&!(h instanceof ja)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=h,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Qf=na.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){na.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){na.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=na.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",h=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var h,v,I=this._map,B=this._container,H=I.latLngToContainerPoint(I.getCenter()),Q=I.layerPointToContainerPoint(s),re=this.options.direction,ae=B.offsetWidth,x=B.offsetHeight,k=Y(this.options.offset),z=this._getAnchor();re==="top"?(h=ae/2,v=x):re==="bottom"?(h=ae/2,v=0):re==="center"?(h=ae/2,v=x/2):re==="right"?(h=0,v=x/2):re==="left"?(h=ae,v=x/2):Q.x<H.x?(re="right",h=0,v=x/2):(re="left",h=ae+(k.x+z.x)*2,v=x/2),s=s.subtract(Y(h,v,!0)).add(k).add(z),Vt(B,"leaflet-tooltip-right"),Vt(B,"leaflet-tooltip-left"),Vt(B,"leaflet-tooltip-top"),Vt(B,"leaflet-tooltip-bottom"),Ye(B,"leaflet-tooltip-"+re),Yt(B,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Zt(this._container,s)},_animateZoom:function(s){var h=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(h)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),FN=function(s,h){return new Qf(s,h)};rt.include({openTooltip:function(s,h,v){return this._initOverlay(Qf,s,h,v).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Fe.include({bindTooltip:function(s,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qf,this._tooltip,s,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var h=s?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[h](v),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof tr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var h=typeof s.getElement=="function"&&s.getElement();h&&(qe(h,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),qe(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var h=typeof s.getElement=="function"&&s.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var h=s.latlng,v,I;this._tooltip.options.sticky&&s.originalEvent&&(v=this._map.mouseEventToContainerPoint(s.originalEvent),I=this._map.containerPointToLayerPoint(v),h=this._map.layerPointToLatLng(I)),this._tooltip.setLatLng(h)}});var jx=ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var h=s&&s.tagName==="DIV"?s:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Ma(h),h.appendChild(v.html)):h.innerHTML=v.html!==!1?v.html:"",v.bgPos){var I=Y(v.bgPos);h.style.backgroundPosition=-I.x+"px "+-I.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function Bx(s){return new jx(s)}ni.Default=Kc;var Yc=Fe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){_(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Pt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof J?s:new J(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var h=this.getPane().children,v=-s(-1/0,1/0),I=0,B=h.length,H;I<B;I++)H=h[I].style.zIndex,h[I]!==this._container&&H&&(v=s(v,+H));isFinite(v)&&(this.options.zIndex=v+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){Zt(this._container,this.options.opacity);var s=+new Date,h=!1,v=!1;for(var I in this._tiles){var B=this._tiles[I];if(!(!B.current||!B.loaded)){var H=Math.min(1,(s-B.loaded)/200);Zt(B.el,H),H<1?h=!0:(B.active?v=!0:this._onOpaqueTile(B),B.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),h&&(U(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,h=this.options.maxZoom;if(s!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===s?(this._levels[v].el.style.zIndex=h-Math.abs(s-v),this._onUpdateLevel(v)):(Pt(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var I=this._levels[s],B=this._map;return I||(I=this._levels[s]={},I.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),I.el.style.zIndex=h,I.origin=B.project(B.unproject(B.getPixelOrigin()),s).round(),I.zoom=s,this._setZoomTransform(I,B.getCenter(),B.getZoom()),m(I.el.offsetWidth),this._onCreateLevel(I)),this._level=I,I}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,h,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)h=this._tiles[s],h.retain=h.current;for(s in this._tiles)if(h=this._tiles[s],h.current&&!h.active){var I=h.coords;this._retainParent(I.x,I.y,I.z,I.z-5)||this._retainChildren(I.x,I.y,I.z,I.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var h in this._tiles)this._tiles[h].coords.z===s&&this._removeTile(h)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Pt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,h,v,I){var B=Math.floor(s/2),H=Math.floor(h/2),Q=v-1,re=new J(+B,+H);re.z=+Q;var ae=this._tileCoordsToKey(re),x=this._tiles[ae];return x&&x.active?(x.retain=!0,!0):(x&&x.loaded&&(x.retain=!0),Q>I?this._retainParent(B,H,Q,I):!1)},_retainChildren:function(s,h,v,I){for(var B=2*s;B<2*s+2;B++)for(var H=2*h;H<2*h+2;H++){var Q=new J(B,H);Q.z=v+1;var re=this._tileCoordsToKey(Q),ae=this._tiles[re];if(ae&&ae.active){ae.retain=!0;continue}else ae&&ae.loaded&&(ae.retain=!0);v+1<I&&this._retainChildren(B,H,v+1,I)}},_resetView:function(s){var h=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var h=this.options;return h.minNativeZoom!==void 0&&s<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<s?h.maxNativeZoom:s},_setView:function(s,h,v,I){var B=Math.round(h);this.options.maxZoom!==void 0&&B>this.options.maxZoom||this.options.minZoom!==void 0&&B<this.options.minZoom?B=void 0:B=this._clampZoom(B);var H=this.options.updateWhenZooming&&B!==this._tileZoom;(!I||H)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),B!==void 0&&this._update(s),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(s,h)},_setZoomTransforms:function(s,h){for(var v in this._levels)this._setZoomTransform(this._levels[v],s,h)},_setZoomTransform:function(s,h,v){var I=this._map.getZoomScale(v,s.zoom),B=s.origin.multiplyBy(I).subtract(this._map._getNewPixelOrigin(h,v)).round();Le.any3d?ei(s.el,B,I):Yt(s.el,B)},_resetGrid:function(){var s=this._map,h=s.options.crs,v=this._tileSize=this.getTileSize(),I=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,h.wrapLng[0]],I).x/v.x),Math.ceil(s.project([0,h.wrapLng[1]],I).x/v.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([h.wrapLat[0],0],I).y/v.x),Math.ceil(s.project([h.wrapLat[1],0],I).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var h=this._map,v=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),I=h.getZoomScale(v,this._tileZoom),B=h.project(s,this._tileZoom).floor(),H=h.getSize().divideBy(I*2);return new he(B.subtract(H),B.add(H))},_update:function(s){var h=this._map;if(h){var v=this._clampZoom(h.getZoom());if(s===void 0&&(s=h.getCenter()),this._tileZoom!==void 0){var I=this._getTiledPixelBounds(s),B=this._pxBoundsToTileRange(I),H=B.getCenter(),Q=[],re=this.options.keepBuffer,ae=new he(B.getBottomLeft().subtract([re,-re]),B.getTopRight().add([re,-re]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var x in this._tiles){var k=this._tiles[x].coords;(k.z!==this._tileZoom||!ae.contains(new J(k.x,k.y)))&&(this._tiles[x].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(s,v);return}for(var z=B.min.y;z<=B.max.y;z++)for(var K=B.min.x;K<=B.max.x;K++){var ie=new J(K,z);if(ie.z=this._tileZoom,!!this._isValidTile(ie)){var ve=this._tiles[this._tileCoordsToKey(ie)];ve?ve.current=!0:Q.push(ie)}}if(Q.sort(function(Ue,Ct){return Ue.distanceTo(H)-Ct.distanceTo(H)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(K=0;K<Q.length;K++)this._addTile(Q[K],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(s){var h=this._map.options.crs;if(!h.infinite){var v=this._globalTileRange;if(!h.wrapLng&&(s.x<v.min.x||s.x>v.max.x)||!h.wrapLat&&(s.y<v.min.y||s.y>v.max.y))return!1}if(!this.options.bounds)return!0;var I=this._tileCoordsToBounds(s);return Ne(this.options.bounds).overlaps(I)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var h=this._map,v=this.getTileSize(),I=s.scaleBy(v),B=I.add(v),H=h.unproject(I,s.z),Q=h.unproject(B,s.z);return[H,Q]},_tileCoordsToBounds:function(s){var h=this._tileCoordsToNwSe(s),v=new fe(h[0],h[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var h=s.split(":"),v=new J(+h[0],+h[1]);return v.z=+h[2],v},_removeTile:function(s){var h=this._tiles[s];h&&(Pt(h.el),delete this._tiles[s],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ye(s,"leaflet-tile");var h=this.getTileSize();s.style.width=h.x+"px",s.style.height=h.y+"px",s.onselectstart=m,s.onmousemove=m,Le.ielt9&&this.options.opacity<1&&Zt(s,this.options.opacity)},_addTile:function(s,h){var v=this._getTilePos(s),I=this._tileCoordsToKey(s),B=this.createTile(this._wrapCoords(s),o(this._tileReady,this,s));this._initTile(B),this.createTile.length<2&&j(o(this._tileReady,this,s,null,B)),Yt(B,v),this._tiles[I]={el:B,coords:s,current:!0},h.appendChild(B),this.fire("tileloadstart",{tile:B,coords:s})},_tileReady:function(s,h,v){h&&this.fire("tileerror",{error:h,tile:v,coords:s});var I=this._tileCoordsToKey(s);v=this._tiles[I],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Zt(v.el,0),U(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),h||(Ye(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var h=new J(this._wrapX?f(s.x,this._wrapX):s.x,this._wrapY?f(s.y,this._wrapY):s.y);return h.z=s.z,h},_pxBoundsToTileRange:function(s){var h=this.getTileSize();return new he(s.min.unscaleBy(h).floor(),s.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ey(s){return new Yc(s)}var bl=Yc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,h){this._url=s,h=_(this,h),h.detectRetina&&Le.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,h){return this._url===s&&h===void 0&&(h=!0),this._url=s,h||this.redraw(),this},createTile:function(s,h){var v=document.createElement("img");return qe(v,"load",o(this._tileOnLoad,this,h,v)),qe(v,"error",o(this._tileOnError,this,h,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(s),v},getTileUrl:function(s){var h={r:Le.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-s.y;this.options.tms&&(h.y=v),h["-y"]=v}return E(this._url,i(h,this.options))},_tileOnLoad:function(s,h){Le.ielt9?setTimeout(o(s,this,null,h),0):s(null,h)},_tileOnError:function(s,h,v){var I=this.options.errorTileUrl;I&&h.getAttribute("src")!==I&&(h.src=I),s(v,h)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,h=this.options.maxZoom,v=this.options.zoomReverse,I=this.options.zoomOffset;return v&&(s=h-s),s+I},_getSubdomain:function(s){var h=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var s,h;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(h=this._tiles[s].el,h.onload=m,h.onerror=m,!h.complete)){h.src=$;var v=this._tiles[s].coords;Pt(h),delete this._tiles[s],this.fire("tileabort",{tile:h,coords:v})}},_removeTile:function(s){var h=this._tiles[s];if(h)return h.el.setAttribute("src",$),Yc.prototype._removeTile.call(this,s)},_tileReady:function(s,h,v){if(!(!this._map||v&&v.getAttribute("src")===$))return Yc.prototype._tileReady.call(this,s,h,v)}});function Ay(s,h){return new bl(s,h)}var Py=bl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,h){this._url=s;var v=i({},this.defaultWmsParams);for(var I in h)I in this.options||(v[I]=h[I]);h=_(this,h);var B=h.detectRetina&&Le.retina?2:1,H=this.getTileSize();v.width=H.x*B,v.height=H.y*B,this.wmsParams=v},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,bl.prototype.onAdd.call(this,s)},getTileUrl:function(s){var h=this._tileCoordsToNwSe(s),v=this._crs,I=pe(v.project(h[0]),v.project(h[1])),B=I.min,H=I.max,Q=(this._wmsVersion>=1.3&&this._crs===wt?[B.y,B.x,H.y,H.x]:[B.x,B.y,H.x,H.y]).join(","),re=bl.prototype.getTileUrl.call(this,s);return re+A(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(s,h){return i(this.wmsParams,s),h||this.redraw(),this}});function zx(s,h){return new Py(s,h)}bl.WMS=Py,Ay.wms=zx;var za=Fe.extend({options:{padding:.1},initialize:function(s){_(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,h){var v=this._map.getZoomScale(h,this._zoom),I=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,h),H=I.multiplyBy(-v).add(B).subtract(this._map._getNewPixelOrigin(s,h));Le.any3d?ei(this._container,H,v):Yt(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,h=this._map.getSize(),v=this._map.containerPointToLayerPoint(h.multiplyBy(-s)).round();this._bounds=new he(v,v.add(h.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ny=za.extend({options:{tolerance:0},getEvents:function(){var s=za.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){za.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");qe(s,"mousemove",this._onMouseMove,this),qe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Pt(this._container),kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var h in this._layers)s=this._layers[h],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){za.prototype._update.call(this);var s=this._bounds,h=this._container,v=s.getSize(),I=Le.retina?2:1;Yt(h,s.min),h.width=I*v.x,h.height=I*v.y,h.style.width=v.x+"px",h.style.height=v.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){za.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var h=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var h=s._order,v=h.next,I=h.prev;v?v.prev=I:this._drawLast=I,I?I.next=v:this._drawFirst=v,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var h=s.options.dashArray.split(/[, ]+/),v=[],I,B;for(B=0;B<h.length;B++){if(I=Number(h[B]),isNaN(I))return;v.push(I)}s.options._dashArray=v}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var h=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(s._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(s._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var h=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,h=this._redrawBounds;if(this._ctx.save(),h){var v=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var I=this._drawFirst;I;I=I.next)s=I.layer,(!h||s._pxBounds&&s._pxBounds.intersects(h))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,h){if(this._drawing){var v,I,B,H,Q=s._parts,re=Q.length,ae=this._ctx;if(re){for(ae.beginPath(),v=0;v<re;v++){for(I=0,B=Q[v].length;I<B;I++)H=Q[v][I],ae[I?"lineTo":"moveTo"](H.x,H.y);h&&ae.closePath()}this._fillStroke(ae,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var h=s._point,v=this._ctx,I=Math.max(Math.round(s._radius),1),B=(Math.max(Math.round(s._radiusY),1)||I)/I;B!==1&&(v.save(),v.scale(1,B)),v.beginPath(),v.arc(h.x,h.y/B,I,0,Math.PI*2,!1),B!==1&&v.restore(),this._fillStroke(v,s)}},_fillStroke:function(s,h){var v=h.options;v.fill&&(s.globalAlpha=v.fillOpacity,s.fillStyle=v.fillColor||v.color,s.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(s.setLineDash&&s.setLineDash(h.options&&h.options._dashArray||[]),s.globalAlpha=v.opacity,s.lineWidth=v.weight,s.strokeStyle=v.color,s.lineCap=v.lineCap,s.lineJoin=v.lineJoin,s.stroke())},_onClick:function(s){for(var h=this._map.mouseEventToLayerPoint(s),v,I,B=this._drawFirst;B;B=B.next)v=B.layer,v.options.interactive&&v._containsPoint(h)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(v))&&(I=v);this._fireEvent(I?[I]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,h)}},_handleMouseOut:function(s){var h=this._hoveredLayer;h&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([h],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,h){if(!this._mouseHoverThrottled){for(var v,I,B=this._drawFirst;B;B=B.next)v=B.layer,v.options.interactive&&v._containsPoint(h)&&(I=v);I!==this._hoveredLayer&&(this._handleMouseOut(s),I&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([I],s,"mouseover"),this._hoveredLayer=I)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,h,v){this._map._fireDOMEvent(h,v||h.type,s)},_bringToFront:function(s){var h=s._order;if(h){var v=h.next,I=h.prev;if(v)v.prev=I;else return;I?I.next=v:v&&(this._drawFirst=v),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(s)}},_bringToBack:function(s){var h=s._order;if(h){var v=h.next,I=h.prev;if(I)I.next=v;else return;v?v.prev=I:I&&(this._drawLast=I),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(s)}}});function Ty(s){return Le.canvas?new Ny(s):null}var Xc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fx={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(za.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var h=s._container=Xc("shape");Ye(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",s._path=Xc("path"),h.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var h=s._container;this._container.appendChild(h),s.options.interactive&&s.addInteractiveTarget(h)},_removePath:function(s){var h=s._container;Pt(h),s.removeInteractiveTarget(h),delete this._layers[c(s)]},_updateStyle:function(s){var h=s._stroke,v=s._fill,I=s.options,B=s._container;B.stroked=!!I.stroke,B.filled=!!I.fill,I.stroke?(h||(h=s._stroke=Xc("stroke")),B.appendChild(h),h.weight=I.weight+"px",h.color=I.color,h.opacity=I.opacity,I.dashArray?h.dashStyle=w(I.dashArray)?I.dashArray.join(" "):I.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=I.lineCap.replace("butt","flat"),h.joinstyle=I.lineJoin):h&&(B.removeChild(h),s._stroke=null),I.fill?(v||(v=s._fill=Xc("fill")),B.appendChild(v),v.color=I.fillColor||I.color,v.opacity=I.fillOpacity):v&&(B.removeChild(v),s._fill=null)},_updateCircle:function(s){var h=s._point.round(),v=Math.round(s._radius),I=Math.round(s._radiusY||v);this._setPath(s,s._empty()?"M0 0":"AL "+h.x+","+h.y+" "+v+","+I+" 0,"+65535*360)},_setPath:function(s,h){s._path.v=h},_bringToFront:function(s){Wi(s._container)},_bringToBack:function(s){Hi(s._container)}},ra=Le.vml?Xc:Ot,xl=za.extend({_initContainer:function(){this._container=ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){za.prototype._update.call(this);var s=this._bounds,h=s.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,v.setAttribute("width",h.x),v.setAttribute("height",h.y)),Yt(v,s.min),v.setAttribute("viewBox",[s.min.x,s.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(s){var h=s._path=ra("path");s.options.className&&Ye(h,s.options.className),s.options.interactive&&Ye(h,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Pt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var h=s._path,v=s.options;h&&(v.stroke?(h.setAttribute("stroke",v.color),h.setAttribute("stroke-opacity",v.opacity),h.setAttribute("stroke-width",v.weight),h.setAttribute("stroke-linecap",v.lineCap),h.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?h.setAttribute("stroke-dasharray",v.dashArray):h.removeAttribute("stroke-dasharray"),v.dashOffset?h.setAttribute("stroke-dashoffset",v.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),v.fill?(h.setAttribute("fill",v.fillColor||v.color),h.setAttribute("fill-opacity",v.fillOpacity),h.setAttribute("fill-rule",v.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(s,h){this._setPath(s,nt(s._parts,h))},_updateCircle:function(s){var h=s._point,v=Math.max(Math.round(s._radius),1),I=Math.max(Math.round(s._radiusY),1)||v,B="a"+v+","+I+" 0 1,0 ",H=s._empty()?"M0 0":"M"+(h.x-v)+","+h.y+B+v*2+",0 "+B+-v*2+",0 ";this._setPath(s,H)},_setPath:function(s,h){s._path.setAttribute("d",h)},_bringToFront:function(s){Wi(s._path)},_bringToBack:function(s){Hi(s._path)}});Le.vml&&xl.include(Fx);function ky(s){return Le.svg||Le.vml?new xl(s):null}rt.include({getRenderer:function(s){var h=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var h=this._paneRenderers[s];return h===void 0&&(h=this._createRenderer({pane:s}),this._paneRenderers[s]=h),h},_createRenderer:function(s){return this.options.preferCanvas&&Ty(s)||ky(s)}});var Qc=vl.extend({initialize:function(s,h){vl.prototype.initialize.call(this,this._boundsToLatLngs(s),h)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ne(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Vx(s,h){return new Qc(s,h)}xl.create=ra,xl.pointsToPath=nt,Ba.geometryToLayer=ls,Ba.coordsToLatLng=Kf,Ba.coordsToLatLngs=xd,Ba.latLngToCoords=Gf,Ba.latLngsToCoords=Gc,Ba.getFeature=wl,Ba.asFeature=_d,rt.mergeOptions({boxZoom:!0});var Cy=ti.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qi(),rs(),this._startPoint=this._map.mouseEventToContainerPoint(s),qe(document,{contextmenu:$r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),Ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var h=new he(this._point,this._startPoint),v=h.getSize();Yt(this._box,h.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Pt(this._box),Vt(this._container,"leaflet-crosshair")),pi(),$c(),kt(document,{contextmenu:$r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var h=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",Cy),rt.mergeOptions({doubleClickZoom:!0});var Iy=ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var h=this._map,v=h.getZoom(),I=h.options.zoomDelta,B=s.originalEvent.shiftKey?v-I:v+I;h.options.doubleClickZoom==="center"?h.setZoom(B):h.setZoomAround(s.containerPoint,B)}});rt.addInitHook("addHandler","doubleClickZoom",Iy),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jf=ti.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new yi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=Ne(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var h=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(h),this._prunePositions(h)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,h){return s-(s-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;s.x<h.min.x&&(s.x=this._viscousLimit(s.x,h.min.x)),s.y<h.min.y&&(s.y=this._viscousLimit(s.y,h.min.y)),s.x>h.max.x&&(s.x=this._viscousLimit(s.x,h.max.x)),s.y>h.max.y&&(s.y=this._viscousLimit(s.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,h=Math.round(s/2),v=this._initialWorldOffset,I=this._draggable._newPos.x,B=(I-h+v)%s+h-v,H=(I+h+v)%s-h-v,Q=Math.abs(B+v)<Math.abs(H+v)?B:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(s){var h=this._map,v=h.options,I=!v.inertia||s.noInertia||this._times.length<2;if(h.fire("dragend",s),I)h.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,Q=v.easeLinearity,re=B.multiplyBy(Q/H),ae=re.distanceTo([0,0]),x=Math.min(v.inertiaMaxSpeed,ae),k=re.multiplyBy(x/ae),z=x/(v.inertiaDeceleration*Q),K=k.multiplyBy(-z/2).round();!K.x&&!K.y?h.fire("moveend"):(K=h._limitOffset(K,h.options.maxBounds),j(function(){h.panBy(K,{duration:z,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});rt.addInitHook("addHandler","dragging",Jf),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Oy=ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),qe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,h=document.documentElement,v=s.scrollTop||h.scrollTop,I=s.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(I,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var h=this._panKeys={},v=this.keyCodes,I,B;for(I=0,B=v.left.length;I<B;I++)h[v.left[I]]=[-1*s,0];for(I=0,B=v.right.length;I<B;I++)h[v.right[I]]=[s,0];for(I=0,B=v.down.length;I<B;I++)h[v.down[I]]=[0,s];for(I=0,B=v.up.length;I<B;I++)h[v.up[I]]=[0,-1*s]},_setZoomDelta:function(s){var h=this._zoomKeys={},v=this.keyCodes,I,B;for(I=0,B=v.zoomIn.length;I<B;I++)h[v.zoomIn[I]]=s;for(I=0,B=v.zoomOut.length;I<B;I++)h[v.zoomOut[I]]=-s},_addHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var h=s.keyCode,v=this._map,I;if(h in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(I=this._panKeys[h],s.shiftKey&&(I=Y(I).multiplyBy(3)),v.options.maxBounds&&(I=v._limitOffset(Y(I),v.options.maxBounds)),v.options.worldCopyJump){var B=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(I)));v.panTo(B)}else v.panBy(I)}else if(h in this._zoomKeys)v.setZoom(v.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;$r(s)}}});rt.addInitHook("addHandler","keyboard",Oy),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var My=ti.extend({addHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var h=jt(s),v=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var I=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),I),$r(s)},_performZoom:function(){var s=this._map,h=s.getZoom(),v=this._map.options.zoomSnap||0;s._stop();var I=this._delta/(this._map.options.wheelPxPerZoomLevel*4),B=4*Math.log(2/(1+Math.exp(-Math.abs(I))))/Math.LN2,H=v?Math.ceil(B/v)*v:B,Q=s._limitZoom(h+(this._delta>0?H:-H))-h;this._delta=0,this._startTime=null,Q&&(s.options.scrollWheelZoom==="center"?s.setZoom(h+Q):s.setZoomAround(this._lastMousePos,h+Q))}});rt.addInitHook("addHandler","scrollWheelZoom",My);var Ux=600;rt.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var bi=ti.extend({addHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var h=s.touches[0];this._startPos=this._newPos=new J(h.clientX,h.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(qe(document,"touchend",bn),qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Ux),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){kt(document,"touchend",bn),kt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)},_onMove:function(s){var h=s.touches[0];this._newPos=new J(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,h){var v=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});v._simulated=!0,h.target.dispatchEvent(v)}});rt.addInitHook("addHandler","tapHold",bi),rt.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var Jc=ti.extend({addHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var h=this._map;if(!(!s.touches||s.touches.length!==2||h._animatingZoom||this._zooming)){var v=h.mouseEventToContainerPoint(s.touches[0]),I=h.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(v.add(I)._divideBy(2))),this._startDist=v.distanceTo(I),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),bn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var h=this._map,v=h.mouseEventToContainerPoint(s.touches[0]),I=h.mouseEventToContainerPoint(s.touches[1]),B=v.distanceTo(I)/this._startDist;if(this._zoom=h.getScaleZoom(B,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&B<1||this._zoom>h.getMaxZoom()&&B>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,B===1)return}else{var H=v._add(I)._divideBy(2)._subtract(this._centerPoint);if(B===1&&H.x===0&&H.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var Q=o(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(Q,this,!0),bn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rt.addInitHook("addHandler","touchZoom",Jc),rt.BoxZoom=Cy,rt.DoubleClickZoom=Iy,rt.Drag=Jf,rt.Keyboard=Oy,rt.ScrollWheelZoom=My,rt.TapHold=bi,rt.TouchZoom=Jc,n.Bounds=he,n.Browser=Le,n.CRS=ye,n.Canvas=Ny,n.Circle=qf,n.CircleMarker=bd,n.Class=G,n.Control=Xt,n.DivIcon=jx,n.DivOverlay=na,n.DomEvent=Hf,n.DomUtil=fd,n.Draggable=yi,n.Evented=te,n.FeatureGroup=tr,n.GeoJSON=Ba,n.GridLayer=Yc,n.Handler=ti,n.Icon=ni,n.ImageOverlay=Zc,n.LatLng=Ee,n.LatLngBounds=fe,n.Layer=Fe,n.LayerGroup=Qt,n.LineUtil=F,n.Map=rt,n.Marker=wd,n.Mixin=gd,n.Path=ja,n.Point=J,n.PolyUtil=yd,n.Polygon=vl,n.Polyline=wi,n.Popup=Sd,n.PosAnimation=Fc,n.Projection=oe,n.Rectangle=Qc,n.Renderer=za,n.SVG=xl,n.SVGOverlay=Yf,n.TileLayer=bl,n.Tooltip=Qf,n.Transformation=De,n.Util=V,n.VideoOverlay=Sy,n.bind=o,n.bounds=pe,n.canvas=Ty,n.circle=wy,n.circleMarker=vy,n.control=go,n.divIcon=Bx,n.extend=i,n.featureGroup=Sr,n.geoJSON=xy,n.geoJson=_y,n.gridLayer=Ey,n.icon=yl,n.imageOverlay=Lx,n.latLng=ge,n.latLngBounds=Ne,n.layerGroup=In,n.map=pd,n.marker=yy,n.point=Y,n.polygon=Rx,n.polyline=Mx,n.popup=Dx,n.rectangle=Vx,n.setOptions=_,n.stamp=c,n.svg=ky,n.svgOverlay=Xf,n.tileLayer=Ay,n.tooltip=FN,n.transformation=ue,n.version=r,n.videoOverlay=$x;var hn=window.L;n.noConflict=function(){return window.L=hn,this},window.L=n})})(Ys,Ys.exports);const Tg=Ys.exports;function py(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Ox(t,e){return e==null?function(r,i){const a=W.exports.useRef();return a.current||(a.current=t(r,i)),a}:function(r,i){const a=W.exports.useRef();a.current||(a.current=t(r,i));const o=W.exports.useRef(r),{instance:l}=a.current;return W.exports.useEffect(function(){o.current!==r&&(e(l,r,o.current),o.current=r)},[l,r,i]),a}}function Tz(t,e){W.exports.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function kz(t){return function(n){const r=Cx(),i=t(Ix(n,r),r);return Ez(r.map,n.attribution),DN(i.current,n.eventHandlers),Tz(i.current,r),i}}function J2e(t,e){const n=W.exports.useRef();W.exports.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function eSe(t){return function(n){const r=Cx(),i=t(Ix(n,r),r);return DN(i.current,n.eventHandlers),Tz(i.current,r),J2e(i.current,n),i}}function tSe(t,e){const n=Ox(t,e),r=kz(n);return Nz(r)}function nSe(t,e){const n=Ox(t),r=Q2e(n,e);return Y2e(r)}function Cz(t,e){const n=Ox(t,e),r=eSe(n);return Nz(r)}function rSe(t,e){const n=Ox(t,e),r=kz(n);return X2e(r)}function iSe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function aSe(){return Cx().map}const fE=Cz(function({center:e,children:n,...r},i){const a=new Ys.exports.Circle(e,r);return py(a,$N(i,{overlayContainer:a}))},K2e);function mE(){return mE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(this,arguments)}function oSe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:o,style:l,whenReady:c,zoom:d,...f},m){const[p]=W.exports.useState({className:i,id:a,style:l}),[y,P]=W.exports.useState(null);W.exports.useImperativeHandle(m,()=>(y==null?void 0:y.map)??null,[y]);const _=W.exports.useCallback(N=>{if(N!==null&&y===null){const E=new Ys.exports.Map(N,f);n!=null&&d!=null?E.setView(n,d):t!=null&&E.fitBounds(t,e),c!=null&&E.whenReady(c),P(Z2e(E))}},[]);W.exports.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const A=y?Z.createElement(Pz,{value:y},r):o??null;return Z.createElement("div",mE({},p,{ref:_}),A)}const jN=W.exports.forwardRef(oSe),kg=tSe(function({position:e,...n},r){const i=new Ys.exports.Marker(e,n);return py(i,$N(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),sSe=Cz(function({positions:e,...n},r){const i=new Ys.exports.Polyline(e,n);return py(i,$N(r,{overlayContainer:i}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),wh=nSe(function(e,n){const r=new Ys.exports.Popup(e,n.overlayContainer);return py(r,n)},function(e,n,{position:r},i){W.exports.useEffect(function(){const{instance:o}=e;function l(d){d.popup===o&&(o.update(),i(!0))}function c(d){d.popup===o&&i(!1)}return n.map.on({popupopen:l,popupclose:c}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var f;n.map.off({popupopen:l,popupclose:c}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,r])}),BN=rSe(function({url:e,...n},r){const i=new Ys.exports.TileLayer(e,Ix(n,r));return py(i,r)},function(e,n,r){iSe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});const tL=({children:t,variant:e})=>u("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${{assigned:"bg-blue-100 text-blue-700",in_progress:"bg-yellow-100 text-yellow-700",completed:"bg-emerald-100 text-emerald-700"}[e]}`,children:t}),c1=t=>Tg.divIcon({className:"custom-marker-icon",html:`<div class="w-8 h-8 rounded-full bg-${t}-100 border-4 border-${t}-500 flex items-center justify-center">
      <div class="w-2 h-2 rounded-full bg-${t}-500"></div>
    </div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),lSe={assigned:c1("blue"),in_progress:c1("yellow"),completed:c1("emerald")},cSe={assigned:"#3B82F6",in_progress:"#FBBF24",completed:"#10B981"},uSe=()=>b("div",{className:"absolute bottom-5 right-5 bg-white p-4 rounded-lg shadow-lg z-[1000]",children:[u("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Pickup Status"}),u("div",{className:"space-y-2",children:Object.entries(cSe).map(([t,e])=>b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e}}),u("span",{className:"text-sm text-gray-700 capitalize",children:t.replace("_"," ")})]},t))})]}),dSe=({center:t})=>{const e=aSe();return W.exports.useEffect(()=>{t&&e.setView(t,e.getZoom())},[t,e]),null},nL=t=>{const e=Math.floor(t/60),n=Math.round(t%60);return e===0?`${n} min`:`${e} h ${n} min`},hSe=t=>`${(t/1e3).toFixed(1)} km`,fSe=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!0),[o,l]=W.exports.useState(null),[c,d]=W.exports.useState([]),[f,m]=W.exports.useState(null),[p,y]=W.exports.useState([]),[P,_]=W.exports.useState([-7.2575,112.7521]),[A,N]=W.exports.useState(null),[E,w]=W.exports.useState([]),[C,$]=W.exports.useState({totalDistance:0,totalDuration:0,segments:[]});W.exports.useEffect(()=>{navigator.geolocation.getCurrentPosition(R=>{m({lat:R.coords.latitude,lng:R.coords.longitude})},R=>{console.error("Error getting location:",R),m({lat:-7.2575,lng:112.7521})})},[]),W.exports.useEffect(()=>{e!=null&&e.uid&&T()},[e==null?void 0:e.uid]);const D=async(R,j,U,V)=>{try{const X=await(await fetch(`https://router.project-osrm.org/route/v1/driving/${j},${R};${V},${U}?overview=full&geometries=geojson&annotations=true`)).json();if(X.routes&&X.routes.length>0){const ee=X.routes[0];return{coordinates:ee.geometry.coordinates.map(te=>[te[1],te[0]]),distance:ee.distance,duration:ee.duration}}return null}catch(G){return console.error("Error fetching route:",G),null}};W.exports.useEffect(()=>{(async()=>{if(f&&p.length>0){let j=[],U=0,V=0,G=[],X=[f.lat,f.lng];for(const ee of p){const te=[ee.coordinates.lat,ee.coordinates.lng],J=await D(X[0],X[1],te[0],te[1]);J&&(j=[...j,...J.coordinates],U+=J.distance,V+=J.duration,G.push({pickup:ee,distance:J.distance,duration:J.duration})),X=te}w(j),$({totalDistance:U,totalDuration:V,segments:G})}})()},[f,p]),W.exports.useEffect(()=>{if(f&&c.length>0){const R=c.filter(j=>j.status!=="completed");if(R.length>0){const j=S(R,f.lat,f.lng);y(j)}else y([])}},[f,c]);const S=(R,j,U)=>{let V=[...R],G=[],X=j,ee=U;for(;V.length>0;){let te=0,J=Number.MAX_VALUE;V.forEach((Y,he)=>{const pe=Math.sqrt(Math.pow(Y.coordinates.lat-X,2)+Math.pow(Y.coordinates.lng-ee,2));pe<J&&(J=pe,te=he)});const le=V[te];G.push(le),X=le.coordinates.lat,ee=le.coordinates.lng,V.splice(te,1)}return G},T=async()=>{a(!0);try{const R=xt(it($e,"pickups"),Tn("collectorId","==",e.uid)),U=(await ot(R)).docs.map(V=>({id:V.id,...V.data()}));d(U),U.length>0&&U[0].coordinates&&_([U[0].coordinates.lat,U[0].coordinates.lng]),l(null)}catch(R){console.error("Error fetching pickups:",R),l("Failed to load pickup locations")}finally{a(!1)}},O=R=>{N(R),_([R.coordinates.lat,R.coordinates.lng])};return i?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):o?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o}),u("button",{onClick:T,className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:R=>r(R)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(xC,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Collection Routes"}),u("p",{className:"text-sm text-gray-500",children:"Optimize your pickup routes"})]})]}),b("div",{className:"flex gap-4",children:[b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"Pending Pickups"}),u("p",{className:"text-2xl font-semibold text-blue-600",children:c.filter(R=>R.status==="assigned").length})]}),b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"In Progress"}),u("p",{className:"text-2xl font-semibold text-yellow-600",children:c.filter(R=>R.status==="in_progress").length})]}),b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"Completed Today"}),u("p",{className:"text-2xl font-semibold text-emerald-600",children:c.filter(R=>{var V;if(R.status!=="completed")return!1;const j=new Date;return new Date(((V=R.completedAt)==null?void 0:V.seconds)*1e3).toDateString()===j.toDateString()}).length})]})]})]}),C.totalDistance>0&&u("div",{className:"mb-6 bg-white rounded-xl border border-gray-200 p-4",children:u("div",{className:"grid grid-cols-2 gap-4",children:b("div",{className:"flex items-center gap-3",children:[u("div",{className:"p-2 bg-blue-50 rounded-lg",children:u(Ft,{className:"w-5 h-5 text-blue-500"})}),b("div",{children:[u("p",{className:"text-sm text-gray-500",children:"Estimated Time"}),u("p",{className:"text-lg font-semibold text-gray-900",children:nL(C.totalDuration/60)})]})]})})}),u("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:u("div",{className:"relative h-[600px]",children:b(jN,{center:P,zoom:13,className:"h-full w-full",children:[u(dSe,{center:P}),u(BN,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f&&u(kg,{position:[f.lat,f.lng],icon:Tg.divIcon({className:"custom-marker-icon",html:`<div class="w-8 h-8 rounded-full bg-gray-100 border-4 border-gray-500 flex items-center justify-center">
                        <div class="w-4 h-4 rounded-full bg-gray-500 animate-ping"></div>
                      </div>`,iconSize:[32,32],iconAnchor:[16,32]}),children:u(wh,{children:b("div",{className:"text-center",children:[u("p",{className:"font-medium",children:"Your Location"}),u("p",{className:"text-sm text-gray-500",children:"Current position"})]})})}),c.map(R=>u(kg,{position:[R.coordinates.lat,R.coordinates.lng],icon:lSe[R.status],eventHandlers:{click:()=>O(R)},children:u(wh,{children:b("div",{className:"p-2",children:[u("h3",{className:"font-medium text-gray-900",children:R.userName}),u("p",{className:"text-sm text-gray-500 mt-1",children:R.location}),b("div",{className:"flex items-center gap-2 mt-2",children:[u(un,{className:"w-4 h-4 text-gray-400"}),b("span",{className:"text-sm text-gray-600",children:[R.quantity," bags"]})]}),u("div",{className:"mt-3",children:u(tL,{variant:R.status,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})})]})})},R.id)),E.length>0&&u(sSe,{positions:E,color:"#10B981",weight:4,opacity:.8}),u(uSe,{})]})})}),p.length>0&&b("div",{className:"mt-6 bg-white rounded-xl border border-gray-200 p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Suggested Route Order"}),u("div",{className:"space-y-4",children:C.segments.map((R,j)=>b("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>O(R.pickup),children:[u("div",{className:"flex-shrink-0 w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:u("span",{className:"text-sm font-medium text-emerald-700",children:j+1})}),b("div",{className:"flex-1",children:[u("p",{className:"font-medium text-gray-900",children:R.pickup.userName}),u("p",{className:"text-sm text-gray-500",children:R.pickup.location}),b("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[b("span",{className:"flex items-center gap-1",children:[u(Ft,{className:"w-4 h-4"}),hSe(R.distance)]}),b("span",{className:"flex items-center gap-1",children:[u(Ko,{className:"w-4 h-4"}),nL(R.duration/60)]})]})]}),b("div",{className:"flex items-center gap-4",children:[b("div",{className:"flex items-center gap-2",children:[u(un,{className:"w-4 h-4 text-gray-400"}),b("span",{className:"text-sm text-gray-600",children:[R.pickup.quantity," bags"]})]}),u(tL,{variant:R.pickup.status,children:R.pickup.status.charAt(0).toUpperCase()+R.pickup.status.slice(1)}),u(dP,{className:"w-5 h-5 text-gray-400"})]})]},R.pickup.id))})]}),p.length===0&&!i&&b("div",{className:"mt-6 bg-white rounded-xl border border-gray-200 p-8 text-center",children:[u("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u(xC,{className:"w-8 h-8 text-gray-400"})}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Routes"}),u("p",{className:"text-gray-500 max-w-md mx-auto",children:"There are currently no pending pickups assigned to you. New pickups will appear here when they are assigned."})]})]})})]})},u1=[{id:"organic",name:"Organic Waste",price:1e4,icon:"🌱"},{id:"plastic",name:"Plastic",price:5e3,icon:"♳"},{id:"paper",name:"Paper & Cardboard",price:8e3,icon:"📄"},{id:"metal",name:"Metal",price:12e3,icon:"🥫"}],rL=({label:t,error:e,className:n="",...r})=>b("div",{children:[t&&u("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),u("input",{className:`w-full px-4 py-2.5 bg-white border border-gray-200 rounded-lg
        text-gray-700 text-sm transition-all
        focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
        disabled:opacity-50 disabled:cursor-not-allowed
        ${e?"border-red-500":""} 
        ${n}`,...r}),e&&u("p",{className:"mt-1 text-sm text-red-500",children:e})]}),zN=({variant:t="primary",isLoading:e,className:n="",children:r,...i})=>b("button",{className:`px-4 py-2.5 rounded-lg font-medium flex items-center justify-center gap-2
        transition-colors disabled:opacity-50 disabled:cursor-not-allowed
        ${{primary:"bg-emerald-500 hover:bg-emerald-600 text-white",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700"}[t]} ${n}`,disabled:e,...i,children:[e&&u(Kt,{className:"w-4 h-4 animate-spin"}),r]}),iL=({variant:t="default",children:e,className:n=""})=>u("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${{default:"bg-gray-100 text-gray-700",assigned:"bg-blue-100 text-blue-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"}[t]} ${n}`,children:e}),mSe=({pickup:t,onSelect:e})=>b("div",{className:"bg-white p-6 rounded-xl border border-gray-200 hover:shadow-md transition-all",children:[b("div",{className:"flex justify-between items-start mb-4",children:[b("div",{className:"flex items-start gap-3",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(ro,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[b("h3",{className:"font-medium text-gray-900",children:["Pickup #",t.id.slice(0,6)]}),u(iL,{variant:t.status,className:"mt-1",children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})]}),u(iL,{variant:"default",children:t.time})]}),b("div",{className:"flex items-start gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[u(Us,{className:"w-5 h-5 text-gray-400"}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-900",children:t.userName}),b("div",{className:"flex items-center gap-2 mt-1",children:[u(jo,{className:"w-4 h-4 text-gray-400"}),u("p",{className:"text-sm text-gray-600",children:t.phone||"No phone number"})]})]})]}),b(zN,{onClick:()=>e(t),className:"w-full",children:[u(Qa,{className:"w-4 h-4"}),"Record Collection"]})]}),pSe=({pickup:t,onSubmit:e,isSubmitting:n})=>{const[r,i]=W.exports.useState({wastes:{},notes:""}),[a,o]=W.exports.useState({totalWeight:0,totalValue:0}),[l,c]=W.exports.useState({});W.exports.useEffect(()=>{const p={};(t.wasteTypes||[]).forEach(y=>{p[y]={weight:"",notes:""}}),i(y=>({...y,wastes:p}))},[t.wasteTypes]);const d=(p,y)=>{i(N=>({...N,wastes:{...N.wastes,[p]:{weight:y}}}));const P={...r.wastes,[p]:{weight:y}};let _=0,A=0;Object.entries(P).forEach(([N,E])=>{const w=u1.find(C=>C.id===N);if(w&&E.weight){const C=Number(E.weight)||0;_+=C,A+=C*w.price}}),o({totalWeight:_,totalValue:A})},f=()=>{const p={};return Object.values(r.wastes).some(P=>Number(P.weight)>0)||(p.general="At least one waste type must have weight recorded"),c(p),Object.keys(p).length===0};return b("form",{onSubmit:async p=>{if(p.preventDefault(),!f())return;let y=0;const P={};Object.entries(r.wastes).forEach(([A,N])=>{const E=u1.find(w=>w.id===A);if(E&&N.weight){const w=Number(N.weight),C=w*E.price;y+=C,P[A]={weight:w,value:C}}});const _={wastes:P,totalValue:y,notes:r.notes,status:"completed",completedAt:new Date};try{await e(_)}catch{c({submit:"Failed to submit collection. Please try again."})}},className:"space-y-6",children:[u("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(Us,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[u("h3",{className:"font-medium text-gray-900",children:t.userName}),u("p",{className:"text-sm text-gray-600 mt-1",children:t.phone})]})]})}),b("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[b("div",{className:"flex justify-between items-center mb-4",children:[u("h3",{className:"font-medium text-gray-900",children:"Collection Details"}),b("div",{className:"text-right",children:[u("p",{className:"text-sm text-gray-500",children:"Total Weight"}),b("p",{className:"font-medium text-gray-900",children:[a.totalWeight.toFixed(1)," kg"]})]})]}),l.general&&u("div",{className:"p-3 mb-4 bg-red-50 rounded-lg",children:u("p",{className:"text-sm font-medium text-red-700",children:l.general})}),u("div",{className:"space-y-4",children:(t.wasteTypes||[]).map(p=>{var A;const y=u1.find(N=>N.id===p);if(!y)return null;const P=((A=r.wastes[p])==null?void 0:A.weight)||"",_=Number(P)*y.price;return b("div",{className:"p-4 bg-gray-50 rounded-lg",children:[b("div",{className:"flex items-center gap-4 mb-2",children:[u("span",{className:"text-2xl",children:y.icon}),b("div",{className:"flex-1",children:[u("p",{className:"font-medium text-gray-900",children:y.name}),b("p",{className:"text-sm text-gray-500",children:["Rp ",y.price.toLocaleString()," / kg"]})]}),u(rL,{type:"number",className:"w-32",placeholder:"Weight (kg)",value:P,onChange:N=>d(p,N.target.value),min:"0",step:"0.1"})]}),P>0&&u("div",{className:"mt-2 p-2 bg-emerald-50 rounded-lg",children:b("p",{className:"text-sm font-medium text-emerald-700",children:["Value: Rp ",_.toLocaleString()]})})]},p)})}),a.totalValue>0&&u("div",{className:"mt-6 p-4 bg-emerald-50 rounded-lg",children:b("div",{className:"flex justify-between items-center",children:[b("div",{children:[u("p",{className:"text-sm font-medium text-emerald-800",children:"Total Collection Value"}),b("p",{className:"text-xs text-emerald-600",children:["For ",a.totalWeight.toFixed(1)," kg of waste"]})]}),b("p",{className:"text-lg font-semibold text-emerald-700",children:["Rp ",a.totalValue.toLocaleString()]})]})})]}),u("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:u(rL,{label:"Collection Notes",value:r.notes,onChange:p=>i(y=>({...y,notes:p.target.value})),placeholder:"Any notes about this collection",as:"textarea",rows:3})}),u("div",{className:"flex justify-end",children:b(zN,{type:"submit",isLoading:n,className:"min-w-[200px]",children:["Complete Collection",u(dP,{className:"w-4 h-4"})]})})]})},aL=()=>{const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState([]),[o,l]=W.exports.useState(!0),[c,d]=W.exports.useState(null),[f,m]=W.exports.useState(null),[p,y]=W.exports.useState(!1),[P,_]=W.exports.useState("");W.exports.useEffect(()=>{e!=null&&e.uid&&A()},[e==null?void 0:e.uid]);const A=async()=>{l(!0);try{const w=xt(it($e,"pickups"),Tn("collectorId","==",e.uid),Tn("status","in",["assigned","in_progress"])),$=(await ot(w)).docs.map(D=>({id:D.id,...D.data()}));a($),d(null)}catch(w){console.error("Error fetching pickups:",w),d("Failed to load pickups. Please try again.")}finally{l(!1)}},N=async w=>{y(!0);try{const C=jn($e,"pickups",f.id);await qo(C,{wastes:w.wastes,totalValue:w.totalValue,notes:w.notes,status:w.status,completedAt:w.completedAt,updatedAt:new Date}),await A(),m(null),et.fire({title:"Collection Completed",text:"Waste collection has been successfully recorded",icon:"success",confirmButtonColor:"#10B981",timer:2e3,timerProgressBar:!0})}catch(C){console.error("Error updating collection:",C),et.fire({title:"Update Failed",text:"Failed to update collection. Please try again.",icon:"error",confirmButtonColor:"#10B981"})}finally{y(!1)}},E=i.filter(w=>{const C=P.toLowerCase();return(w.userName||"").toLowerCase().includes(C)});return b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:w=>r(w)}),b("main",{className:`flex-1 p-8 transition-all duration-300 ease-in-out
        ${n?"ml-20":"ml-64"}`,children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[f&&u("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u(dG,{className:"w-6 h-6 text-gray-500"})}),u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(Bp,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:f?"Record Collection":"My Collections"}),u("p",{className:"text-sm text-gray-500",children:f?"Update pickup details":"View and manage your assigned collections"})]})]}),!f&&b("div",{className:"flex gap-4",children:[b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"Pending Collections"}),u("p",{className:"text-2xl font-semibold text-emerald-600",children:i.filter(w=>w.status==="assigned").length})]}),b("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[u("p",{className:"text-sm text-gray-500",children:"In Progress"}),u("p",{className:"text-2xl font-semibold text-blue-600",children:i.filter(w=>w.status==="in_progress").length})]})]})]}),o?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(Kt,{className:"w-8 h-8 animate-spin text-emerald-500 mb-4"}),u("p",{className:"text-gray-500",children:"Loading collections..."})]}):c?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(kn,{className:"w-8 h-8 text-red-500 mb-4"}),u("p",{className:"text-gray-500",children:c}),u(zN,{onClick:A,variant:"primary",className:"mt-4",children:"Try Again"})]}):f?u(pSe,{pickup:f,onSubmit:N,isSubmitting:p}):b(Oi,{children:[u("div",{className:"mb-6",children:b("div",{className:"relative",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u("input",{type:"text",placeholder:"Search by customer name...",value:P,onChange:w=>_(w.target.value),className:`w-full px-10 py-2.5 bg-white border border-gray-200 rounded-lg\r
                    text-gray-700 text-sm transition-all\r
                    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500`})]})}),E.length===0?b("div",{className:"flex flex-col items-center justify-center py-12",children:[u(un,{className:"w-12 h-12 text-gray-400 mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No collections found"}),u("p",{className:"text-gray-500",children:P?"Try adjusting your search":"You have no assigned collections"})]}):u("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.map(w=>u(mSe,{pickup:w,onSelect:m},w.id))})]})]})]})},gSe={organic:{points:5,carbon:.5,water:10,landfill:.1},plastic:{points:8,carbon:2.5,water:50,landfill:.2,trees:.1},paper:{points:6,carbon:1.5,water:30,landfill:.15,trees:.2},metal:{points:10,carbon:5,water:100,landfill:.3}},d1={rookie:{min:0,max:99,next:"bronze"},bronze:{min:100,max:199,next:"silver"},silver:{min:200,max:499,next:"gold"},gold:{min:500,max:999,next:"platinum"},platinum:{min:1e3,max:1/0,next:null}},oL=()=>{var p,y,P,_,A;const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState([]),[i,a]=W.exports.useState({pickups:{total:0,pending:0,completed:0},waste:{total:0},impact:{carbonReduced:0,waterSaved:0,treesPreserved:0,landfillSpaceSaved:0},points:0}),[o,l]=W.exports.useState(!0),c=()=>{var S,T;const N=((S=t==null?void 0:t.rewards)==null?void 0:S.tier)||"rookie",E=((T=t==null?void 0:t.rewards)==null?void 0:T.points)||0,w=d1[N];if(!w.next)return null;const C=d1[w.next],$=(E-w.min)/(C.min-w.min)*100,D=C.min-E;return{nextTier:w.next,progress:Math.min($,100),remaining:D,required:C.min}},d=N=>N.reduce((E,w)=>(w.wasteTypes.forEach(C=>{const $=gSe[C],D=w.quantity;E.points+=$.points*D,E.waste.total+=D,E.pickups.total++,w.status==="completed"&&E.pickups.completed++,w.status==="pending"&&E.pickups.pending++,E.impact.carbonReduced+=$.carbon*D,E.impact.waterSaved+=$.water*D,E.impact.landfillSpaceSaved+=$.landfill*D,$.trees&&(E.impact.treesPreserved+=$.trees*D)}),E),{points:0,pickups:{total:0,pending:0,completed:0},waste:{total:0},impact:{carbonReduced:0,waterSaved:0,treesPreserved:0,landfillSpaceSaved:0}}),f=async N=>{var E;if(!(!(e!=null&&e.uid)||N===((E=t==null?void 0:t.rewards)==null?void 0:E.points)))try{let w="rookie";for(const[$,D]of Object.entries(d1))N>=D.min&&(w=$);const C=jn($e,"users",e.uid);await qo(C,{"rewards.points":N,"rewards.tier":w})}catch(w){console.error("Error updating rewards:",w)}};W.exports.useEffect(()=>{(async()=>{if(e)try{l(!0);const E=it($e,"pickups"),w=xt(E,Tn("userId","==",e.uid)),$=(await ot(w)).docs.map(T=>({id:T.id,...T.data()})),D=$.sort((T,O)=>O.createdAt.seconds-T.createdAt.seconds),S=d($);a(S),r(D.slice(0,5)),await f(S.points)}catch(E){console.error("Error fetching data:",E)}finally{l(!1)}})()},[e]);const m=(N,E=1)=>Number(N).toFixed(E);return o?u("div",{className:"flex items-center justify-center min-h-screen",children:u("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):b("div",{className:"p-4 space-y-6 pb-20",children:[b("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-emerald-500 to-emerald-700 p-6 text-white",children:[b("div",{className:"relative z-10",children:[b("h1",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",((p=t==null?void 0:t.profile)==null?void 0:p.fullName)||"User","!"]}),u("p",{className:"text-emerald-50 text-sm mb-4",children:"Your eco-journey continues here"}),u("div",{className:"flex items-center gap-4 mb-4",children:b("div",{className:"flex items-center gap-2",children:[u(Fu,{className:"h-6 w-6 text-yellow-300"}),b("div",{children:[b("p",{className:"text-lg font-bold",children:[i.points," pts"]}),b("p",{className:"text-xs text-emerald-100",children:[((P=(y=t==null?void 0:t.rewards)==null?void 0:y.tier)==null?void 0:P.toUpperCase())||"ROOKIE"," TIER"]})]})]})}),c()&&b("div",{className:"space-y-2",children:[b("div",{className:"flex justify-between text-xs text-emerald-100",children:[u("span",{children:(A=(_=t==null?void 0:t.rewards)==null?void 0:_.tier)==null?void 0:A.toUpperCase()}),u("span",{children:c().nextTier.toUpperCase()})]}),u("div",{className:"w-full bg-emerald-200/30 rounded-full h-2 overflow-hidden",children:u("div",{className:"h-full bg-emerald-300 transition-all duration-500",style:{width:`${c().progress}%`}})}),b("p",{className:"text-xs text-emerald-100",children:[c().remaining," points to ",c().nextTier]})]})]}),u("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-400 rounded-full opacity-20 transform translate-x-16 -translate-y-8"}),u("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-emerald-400 rounded-full opacity-20 transform -translate-x-8 translate-y-8"})]}),b("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Environmental Impact"}),b("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[b("div",{className:"bg-emerald-50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Vo,{className:"h-5 w-5 text-emerald-600"}),u("p",{className:"text-sm text-emerald-600",children:"CO₂ Reduced"})]}),b("p",{className:"text-xl font-bold text-emerald-700",children:[m(i.impact.carbonReduced)," kg"]})]}),b("div",{className:"bg-emerald-50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u($h,{className:"h-5 w-5 text-emerald-600"}),u("p",{className:"text-sm text-emerald-600",children:"Water Saved"})]}),b("p",{className:"text-xl font-bold text-emerald-700",children:[m(i.impact.waterSaved/1e3)," m³"]})]}),b("div",{className:"bg-emerald-50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Os,{className:"h-5 w-5 text-emerald-600"}),u("p",{className:"text-sm text-emerald-600",children:"Trees Preserved"})]}),u("p",{className:"text-xl font-bold text-emerald-700",children:m(i.impact.treesPreserved)})]}),b("div",{className:"bg-emerald-50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(un,{className:"h-5 w-5 text-emerald-600"}),u("p",{className:"text-sm text-emerald-600",children:"Waste Managed"})]}),b("p",{className:"text-xl font-bold text-emerald-700",children:[i.waste.total," bags"]})]})]})]}),b("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[b("div",{className:"flex justify-between items-center mb-4",children:[u("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Pickups"}),i.pickups.pending>0&&b("span",{className:"px-3 py-1 bg-yellow-50 text-yellow-600 rounded-full text-sm",children:[i.pickups.pending," pending"]})]}),u("div",{className:"space-y-4",children:n.length>0?n.map(N=>u("div",{className:"bg-gray-50 rounded-lg p-4",children:b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex gap-3",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u(un,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[b("p",{className:"font-medium text-gray-800",children:[N.wasteTypes.length," type",N.wasteTypes.length>1?"s":""," • ",N.quantity," bag",N.quantity>1?"s":""]}),b("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[u(Ko,{className:"h-4 w-4"}),new Date(N.date.seconds*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," at ",N.time]}),b("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[u(Ft,{className:"h-4 w-4"}),N.location]})]})]}),u("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize
                    ${N.status==="pending"?"bg-yellow-50 text-yellow-600":N.status==="completed"?"bg-emerald-50 text-emerald-600":"bg-gray-50 text-gray-600"}`,children:N.status})]})},N.id)):u("p",{className:"text-center text-gray-500 py-4",children:"No pickups scheduled yet"})})]}),u("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:b("div",{className:"flex items-start gap-3",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u(SG,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Eco Tip"}),u("p",{className:"text-gray-600 text-sm",children:"By properly sorting your waste, you're helping to increase recycling efficiency and reduce your carbon footprint. Each bag of recyclables contributes to a healthier planet!"})]})]})})]})},ri={organic:{label:"Organic",points:5,color:"emerald",bag:"Green Trashbag",description:"Food waste, garden waste, etc.",tips:"Perfect for composting! Keep it separate from non-biodegradables."},plastic:{label:"Plastic",points:8,color:"blue",bag:"Blue Trashbag",description:"Bottles, containers, packaging",tips:"Remember to clean and dry before disposal."},paper:{label:"Paper",points:6,color:"yellow",bag:"Yellow Trashbag",description:"Newspapers, cardboard, documents",tips:"Flatten boxes to save space."},metal:{label:"Metal",points:10,color:"gray",bag:"Blue Trashbag",description:"Cans, aluminum items",tips:"Clean and crush to optimize space."}},Iz=()=>{const{userData:t,currentUser:e}=Et(),n=W.exports.useRef(null),[r,i]=W.exports.useState(null),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState(!1),[d,f]=W.exports.useState(!1),[m,p]=W.exports.useState(null),[y,P]=W.exports.useState(null),[_,A]=W.exports.useState(!0),N=async()=>{try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});i(S),n.current&&(n.current.srcObject=S,f(!0),A(!0))}catch(S){w("Error accessing camera","error"),console.error("Error accessing camera:",S)}};W.exports.useEffect(()=>()=>{r&&r.getTracks().forEach(S=>S.stop())},[r]);const E=async()=>{r&&r.getTracks().forEach(S=>S.stop());try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:d?"user":"environment"},audio:!1});i(S),n.current&&(n.current.srcObject=S),f(!d)}catch{w("Error switching camera","error")}},w=(S,T="success")=>{p({message:S,type:T}),setTimeout(()=>p(null),3e3)},C=()=>{if(!n.current)return;const S=document.createElement("canvas");S.width=n.current.videoWidth,S.height=n.current.videoHeight,S.getContext("2d").drawImage(n.current,0,0);const O=S.toDataURL("image/jpeg");return P(O),O},$=async()=>{if(!d){w("Please start the camera first","error");return}c(!0),C();try{await new Promise(O=>setTimeout(O,1500));const S=Object.keys(ri),T=S[Math.floor(Math.random()*S.length)];if(o(T),e){const O=jn($e,"users",e.uid),R=ri[T].points;await qo(O,{"rewards.points":rG(R)}),w(`Earned ${R} points!`,"success")}}catch{w("Detection failed. Please try again.","error")}finally{c(!1)}},D=()=>{o(null),P(null),A(!0)};return b("div",{className:"p-4 max-w-xl mx-auto",children:[b("div",{className:"mb-6",children:[u("h1",{className:"text-2xl font-bold text-gray-800",children:"Waste Detection"}),u("p",{className:"text-gray-600 mt-1",children:"Point your camera at waste to identify and get proper disposal recommendations"})]}),m&&b("div",{className:`fixed top-4 right-4 left-4 z-50 p-4 rounded-lg shadow-lg
          ${m.type==="success"?"bg-emerald-500":"bg-red-500"} 
          text-white flex items-center justify-between`,children:[u("span",{children:m.message}),m.type==="success"?u(fh,{className:"h-5 w-5"}):u(Vu,{className:"h-5 w-5"})]}),b("div",{className:"relative bg-black rounded-2xl overflow-hidden mb-6",children:[u("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full aspect-[4/3] object-cover"}),b("div",{className:"absolute bottom-4 right-4 flex gap-3",children:[u("button",{onClick:N,className:"p-3 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:u(D2,{className:"h-6 w-6 text-gray-700"})}),u("button",{onClick:E,className:"p-3 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:u(dj,{className:"h-6 w-6 text-gray-700"})})]}),_&&d&&!a&&u("div",{className:"absolute inset-0 flex items-center justify-center",children:u("div",{className:"w-48 h-48 border-2 border-white rounded-lg border-dashed animate-pulse",children:u("div",{className:"w-full h-full flex items-center justify-center text-white text-sm text-center p-4",children:"Center the waste item in this area"})})})]}),u("button",{onClick:l?void 0:$,disabled:l||!d,className:`w-full py-4 rounded-xl font-medium mb-6 flex items-center justify-center gap-2
          ${l||!d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-emerald-500 text-white hover:bg-emerald-600"}`,children:l?b(Oi,{children:[u(Kt,{className:"h-5 w-5 animate-spin"}),"Detecting..."]}):b(Oi,{children:[u(D2,{className:"h-5 w-5"}),"Detect Waste"]})}),a&&ri[a]&&b("div",{className:"space-y-4",children:[b("div",{className:`p-6 bg-${ri[a].color}-50 rounded-xl`,children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:`p-2 rounded-lg bg-${ri[a].color}-100`,children:u(Fu,{className:`h-6 w-6 text-${ri[a].color}-600`})}),b("div",{className:"flex-1",children:[b("h3",{className:"text-lg font-semibold text-gray-800",children:[ri[a].label," Waste Detected"]}),u("p",{className:"text-gray-600 mt-1",children:ri[a].description})]})]}),b("div",{className:"mt-4 space-y-3",children:[b("div",{className:"flex items-center gap-2 text-sm",children:[u(fh,{className:`h-5 w-5 text-${ri[a].color}-500`}),b("span",{children:["Use ",u("strong",{children:ri[a].bag})," for disposal"]})]}),b("div",{className:"flex items-center gap-2 text-sm",children:[u(Fu,{className:`h-5 w-5 text-${ri[a].color}-500`}),b("span",{children:["Earned ",b("strong",{children:[ri[a].points," points"]})," for detection"]})]}),b("div",{className:"flex items-center gap-2 text-sm",children:[u(lj,{className:`h-5 w-5 text-${ri[a].color}-500`}),u("span",{children:ri[a].tips})]})]})]}),u("button",{onClick:D,className:"w-full py-3 border-2 border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors",children:"Detect Another Item"})]})]})},Oz=()=>{var D;const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState(!1),[i,a]=W.exports.useState(!1),[o,l]=W.exports.useState(""),[c,d]=W.exports.useState(1),[f,m]=W.exports.useState(!1),[p,y]=W.exports.useState([]),[P,_]=W.exports.useState(!0),[A,N]=W.exports.useState({date:"",time:"",wasteTypes:[],quantity:1,location:((D=t==null?void 0:t.profile)==null?void 0:D.address)||"",phone:"",coordinates:null,wasteBankId:"",wasteBankName:""});W.exports.useEffect(()=>{(async()=>{try{const T=xt(it($e,"users"),Tn("role","==","wastebank_admin")),R=(await ot(T)).docs.map(j=>({id:j.id,...j.data(),distance:Math.random()*5+.5,rating:(Math.random()*2+3).toFixed(1)}));y(R)}catch(T){console.error("Error fetching waste banks:",T)}finally{_(!1)}})()},[]);const E=[{id:"organic",name:"Organic Waste",description:"Food scraps, garden waste, biodegradable materials",price:1e4,icon:"🌱"},{id:"plastic",name:"Plastic",description:"Bottles, containers, clean plastic packaging",price:5e3,icon:"♳"},{id:"paper",name:"Paper & Cardboard",description:"Newspapers, magazines, boxes, paper packaging",price:8e3,icon:"📄"},{id:"metal",name:"Metal",description:"Cans, aluminum items, metal containers",price:12e3,icon:"🥫"}],w=[{time:"08:00",available:!0},{time:"09:00",available:!0},{time:"10:00",available:!0},{time:"11:00",available:!0},{time:"13:00",available:!0},{time:"14:00",available:!0},{time:"15:00",available:!0},{time:"16:00",available:!0}],C=()=>{m(!0),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async S=>{const{latitude:T,longitude:O}=S.coords;try{const j=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${T}&lon=${O}&format=json`)).json();N(U=>({...U,location:j.display_name,coordinates:{lat:T,lng:O}}))}catch(R){console.error("Error getting address:",R)}finally{m(!1)}},S=>{console.error("Error:",S),m(!1)})},$=async S=>{var T,O;S.preventDefault(),r(!0),l("");try{const R={...A,userId:e.uid,userName:(T=t==null?void 0:t.profile)==null?void 0:T.fullName,status:"pending",createdAt:Nn.now(),date:Nn.fromDate(new Date(A.date))};await ej(it($e,"pickups"),R),a(!0),N({date:"",time:"",wasteTypes:[],quantity:1,location:((O=t==null?void 0:t.profile)==null?void 0:O.address)||"",phone:"",coordinates:null,wasteBankId:"",wasteBankName:""}),d(1)}catch(R){l("Failed to schedule pickup"),console.error(R)}finally{r(!1)}};return b("div",{className:"max-w-3xl mx-auto p-6",children:[b("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-700 rounded-2xl p-8 mb-8 text-white",children:[u("h1",{className:"text-3xl font-bold mb-2",children:"Schedule a Pickup"}),u("p",{className:"text-emerald-50",children:"Let us help you manage your waste sustainably"})]}),u("div",{className:"flex justify-between mb-8",children:["WasteBank","Schedule","Details","Location","Confirm"].map((S,T)=>b("div",{className:`flex items-center ${T<4?"flex-1":""}`,children:[b("div",{className:`
              relative w-10 h-10 rounded-full flex items-center justify-center
              transition-all duration-300
              ${c>T+1||c===T+1?"bg-emerald-500 text-white":"bg-gray-200 text-gray-500"}
            `,children:[c>T+1?u(fh,{className:"w-5 h-5"}):u("span",{className:"text-sm font-medium",children:T+1}),u("span",{className:"absolute -bottom-6 text-xs font-medium text-gray-600 whitespace-nowrap",children:S})]}),T<4&&u("div",{className:`flex-1 h-1 mx-4 mt-0 
                transition-all duration-300
                ${c>T+1?"bg-emerald-500":"bg-gray-200"}`})]},S))}),b("form",{onSubmit:$,className:"space-y-6",children:[c===1&&u("div",{className:"space-y-6",children:b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[u("h2",{className:"text-xl font-semibold text-gray-800",children:"Select a WasteBank"}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Choose the nearest WasteBank to handle your pickup"})]}),P?u("div",{className:"p-6 flex justify-center",children:u(Kt,{className:"w-8 h-8 animate-spin text-emerald-500"})}):u("div",{className:"divide-y divide-gray-100",children:p.map(S=>{var T,O;return b("label",{className:`flex items-start p-6 cursor-pointer hover:bg-gray-50 transition-colors
                        ${A.wasteBankId===S.id?"bg-emerald-50":""}`,children:[u("input",{type:"radio",name:"wasteBank",className:"sr-only",checked:A.wasteBankId===S.id,onChange:()=>{var R;return N({...A,wasteBankId:S.id,wasteBankName:((R=S.profile)==null?void 0:R.institution)||"Unnamed WasteBank"})}}),b("div",{className:"flex-1",children:[b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("h3",{className:"font-medium text-gray-900",children:((T=S.profile)==null?void 0:T.institution)||"Unnamed WasteBank"}),u("p",{className:"text-sm text-gray-500 mt-1",children:((O=S.profile)==null?void 0:O.address)||"No address provided"})]}),A.wasteBankId===S.id&&u("div",{className:"bg-emerald-500 text-white rounded-full p-1",children:u(fh,{className:"w-4 h-4"})})]}),b("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[b("div",{className:"flex items-center",children:[u(Ft,{className:"w-4 h-4 mr-1 text-emerald-500"}),S.distance.toFixed(1)," km away"]}),b("div",{className:"flex items-center",children:[u(hj,{className:"w-4 h-4 mr-1 text-yellow-400"}),S.rating]})]})]})]},S.id)})})]})}),c===2&&b("div",{className:"space-y-6",children:[b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[b("div",{className:"flex items-center gap-2",children:[u(ba,{className:"w-5 h-5 text-emerald-500"}),u("h2",{className:"text-xl font-semibold text-gray-800",children:"Select Date"})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Choose your preferred pickup date"})]}),u("div",{className:"p-6",children:u("input",{type:"date",value:A.date,onChange:S=>N({...A,date:S.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})})]}),b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[b("div",{className:"flex items-center gap-2",children:[u(Ko,{className:"w-5 h-5 text-emerald-500"}),u("h2",{className:"text-xl font-semibold text-gray-800",children:"Select Time"})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Choose your preferred pickup time"})]}),u("div",{className:"p-6",children:u("div",{className:"grid grid-cols-4 gap-3",children:w.map(({time:S,available:T})=>u("button",{type:"button",disabled:!T,onClick:()=>N({...A,time:S}),className:`p-3 rounded-lg text-sm font-medium transition-colors
                        ${A.time===S?"bg-emerald-500 text-white":T?"bg-gray-100 hover:bg-emerald-100 text-gray-700":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:S},S))})})]})]}),c===3&&b("div",{className:"space-y-6",children:[b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[b("div",{className:"flex items-center gap-2",children:[u(xf,{className:"w-5 h-5 text-emerald-500"}),u("h2",{className:"text-xl font-semibold text-gray-800",children:"Select Waste Types"})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Choose the types of waste you want to recycle"})]}),u("div",{className:"p-6",children:u("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(S=>u("button",{type:"button",onClick:()=>{const T=A.wasteTypes.includes(S.id)?A.wasteTypes.filter(O=>O!==S.id):[...A.wasteTypes,S.id];N({...A,wasteTypes:T})},className:`p-4 rounded-lg border-2 transition-all
                        ${A.wasteTypes.includes(S.id)?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-emerald-200"}`,children:b("div",{className:"flex justify-between items-start",children:[b("div",{children:[b("div",{className:"flex items-center gap-2",children:[u("span",{className:"text-2xl",children:S.icon}),u("h3",{className:"font-medium text-gray-900",children:S.name})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:S.description}),b("p",{className:"text-sm font-medium text-emerald-600 mt-2",children:["Rp ",S.price.toLocaleString(),"/bag"]})]}),A.wasteTypes.includes(S.id)&&u("div",{className:"bg-emerald-500 text-white rounded-full p-1",children:u(fh,{className:"w-4 h-4"})})]})},S.id))})})]}),b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[b("div",{className:"flex items-center gap-2",children:[u(un,{className:"w-5 h-5 text-emerald-500"}),u("h2",{className:"text-xl font-semibold text-gray-800",children:"Quantity"})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:"How many bags of waste do you have?"})]}),b("div",{className:"p-6",children:[b("div",{className:"flex items-center justify-center gap-6",children:[u("button",{type:"button",onClick:()=>N(S=>({...S,quantity:Math.max(1,S.quantity-1)})),className:"w-12 h-12 rounded-full bg-gray-100 hover:bg-emerald-100 flex items-center justify-center text-gray-600 hover:text-emerald-600",children:u(PG,{className:"w-5 h-5"})}),u("span",{className:"text-3xl font-bold text-gray-800 w-12 text-center",children:A.quantity}),u("button",{type:"button",onClick:()=>N(S=>({...S,quantity:Math.min(10,S.quantity+1)})),className:"w-12 h-12 rounded-full bg-gray-100 hover:bg-emerald-100 flex items-center justify-center text-gray-600 hover:text-emerald-600",children:u(TG,{className:"w-5 h-5"})})]}),u("p",{className:"text-sm text-gray-500 text-center mt-4",children:"Maximum 10 bags per pickup"})]})]})]}),c===4&&u("div",{className:"space-y-6",children:b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[b("div",{className:"flex items-center gap-2",children:[u(Ft,{className:"w-5 h-5 text-emerald-500"}),u("h2",{className:"text-xl font-semibold text-gray-800",children:"Pickup Location"})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Where should we pick up your waste?"})]}),b("div",{className:"p-6",children:[b("div",{className:"flex justify-between items-start gap-4 mb-4",children:[u("textarea",{value:A.location,onChange:S=>N({...A,location:S.target.value}),className:"flex-1 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",rows:"3",placeholder:"Enter your address",required:!0}),b("button",{type:"button",onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200",children:[f?u(Kt,{className:"w-4 h-4 animate-spin"}):u(uj,{className:"w-4 h-4"}),"Use Current"]})]}),u("input",{type:"tel",value:A.phone,onChange:S=>N({...A,phone:S.target.value}),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter phone number",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}"})]})]})}),c===5&&b("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b("div",{className:"p-6 border-b border-gray-100",children:[u("h2",{className:"text-xl font-semibold text-gray-800",children:"Review Your Pickup"}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Please confirm your pickup details"})]}),b("div",{className:"p-6 space-y-6",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:u(gn,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Selected WasteBank"}),u("p",{className:"text-gray-900 font-medium",children:A.wasteBankName})]})]}),b("div",{className:"flex items-start gap-4",children:[u("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:u(ba,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Pickup Schedule"}),b("p",{className:"text-gray-900",children:[new Date(A.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",A.time]})]})]}),b("div",{className:"flex items-start gap-4",children:[u("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:u(un,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Waste Details"}),b("div",{className:"space-y-2",children:[A.wasteTypes.map(S=>{const T=E.find(O=>O.id===S);return b("div",{className:"flex justify-between",children:[u("span",{className:"text-gray-700",children:T.name}),b("span",{className:"text-gray-900 font-medium",children:[A.quantity," bags × Rp ",T.price.toLocaleString()]})]},S)}),u("div",{className:"pt-2 border-t border-gray-100",children:b("div",{className:"flex justify-between font-medium",children:[u("span",{className:"text-gray-900",children:"Total Amount"}),b("span",{className:"text-emerald-600",children:["Rp ",A.wasteTypes.reduce((S,T)=>{const O=E.find(R=>R.id===T);return S+O.price*A.quantity},0).toLocaleString()]})]})})]})]})]}),b("div",{className:"flex items-start gap-4",children:[u("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:u(Ft,{className:"w-5 h-5 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:"Pickup Location"}),u("p",{className:"text-gray-900",children:A.location}),A.phone&&b(Oi,{children:[u("p",{className:"text-sm font-medium text-gray-500 mt-2",children:"Additional Phone Number"}),u("p",{className:"text-gray-700",children:A.phone})]})]})]})]})]}),o&&u("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:b("div",{className:"flex items-center gap-2",children:[u(kn,{className:"w-5 h-5"}),o]})}),b("div",{className:"flex justify-between pt-6",children:[c>1&&u("button",{type:"button",onClick:()=>d(c-1),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Back"}),c<5&&u("button",{type:"button",onClick:()=>{if(c===1&&!A.wasteBankId){l("Please select a WasteBank");return}if(c===2&&(!A.date||!A.time)){l("Please select both date and time");return}if(c===3&&A.wasteTypes.length===0){l("Please select at least one waste type");return}if(c===4&&!A.location){l("Please enter pickup location");return}l(""),d(c+1)},className:"px-6 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 ml-auto",children:"Continue"}),c===5&&u("button",{type:"submit",disabled:n,className:`px-6 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 ml-auto
                ${n?"opacity-50 cursor-not-allowed":""}`,children:n?b("span",{className:"flex items-center gap-2",children:[u(Kt,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):"Confirm Pickup"})]})]}),i&&u("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:b("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[b("div",{className:"flex items-center gap-4 mb-4",children:[u("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:u(Lb,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:"Pickup Scheduled!"}),u("p",{className:"text-gray-500",children:"Your waste pickup has been scheduled successfully."})]})]}),u("button",{onClick:()=>{var S;a(!1),N({date:"",time:"",wasteTypes:[],quantity:1,location:((S=t==null?void 0:t.profile)==null?void 0:S.address)||"",phone:"",coordinates:null,wasteBankId:"",wasteBankName:""})},className:"w-full px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:"Schedule Another Pickup"})]})})]})},Pl={pending:{icon:Ko,color:"text-yellow-500",bgColor:"bg-yellow-50",label:"Pending",description:"Waiting for confirmation"},confirmed:{icon:Lb,color:"text-blue-500",bgColor:"bg-blue-50",label:"Confirmed",description:"Pickup has been confirmed"},onRoute:{icon:ro,color:"text-indigo-500",bgColor:"bg-indigo-50",label:"On Route",description:"Driver is on the way"},completed:{icon:fj,color:"text-emerald-500",bgColor:"bg-emerald-50",label:"Completed",description:"Pickup completed successfully"},cancelled:{icon:kn,color:"text-red-500",bgColor:"bg-red-50",label:"Cancelled",description:"Pickup was cancelled"}},Mz=()=>{const{currentUser:t}=Et(),[e,n]=W.exports.useState([]),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState("all"),[d,f]=W.exports.useState("");W.exports.useEffect(()=>{(async()=>{if(t)try{i(!0);const P=it($e,"pickups"),_=xt(P,Tn("userId","==",t.uid),aP("createdAt","desc")),N=(await ot(_)).docs.map(E=>({id:E.id,...E.data()}));n(N),N.length>0&&o(N[0])}catch(P){console.error("Error fetching pickups:",P)}finally{i(!1)}})()},[t]);const m=e.filter(y=>{const P=l==="all"||y.status===l,_=y.location.toLowerCase().includes(d.toLowerCase());return P&&_}),p=y=>y?y.toDate().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";return r?u("div",{className:"flex items-center justify-center min-h-screen",children:u("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):b("div",{className:"p-4 space-y-6",children:[b("div",{className:"space-y-4",children:[u("h1",{className:"text-2xl font-bold text-gray-800",children:"Track Pickups"}),b("div",{className:"flex flex-col sm:flex-row gap-4",children:[b("div",{className:"relative flex-1",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u("input",{type:"text",placeholder:"Search by location...",value:d,onChange:y=>f(y.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),b("select",{value:l,onChange:y=>c(y.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[u("option",{value:"all",children:"All Status"}),Object.entries(Pl).map(([y,{label:P}])=>u("option",{value:y,children:P},y))]})]})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u("div",{className:"lg:col-span-1 space-y-4",children:m.length>0?m.map(y=>{const P=Pl[y.status],_=P.icon;return u("button",{onClick:()=>o(y),className:`w-full p-4 rounded-xl text-left transition-all
                    ${y.id===(a==null?void 0:a.id)?"bg-emerald-50 border-2 border-emerald-500":"bg-white border border-gray-200 hover:border-emerald-200"}`,children:b("div",{className:"flex justify-between items-start",children:[b("div",{className:"flex items-start gap-3",children:[u("div",{className:`p-2 rounded-lg ${P.bgColor}`,children:u(_,{className:`h-5 w-5 ${P.color}`})}),b("div",{children:[b("p",{className:"font-medium text-gray-800",children:[y.wasteTypes.length," types • ",y.quantity," bags"]}),u("p",{className:"text-sm text-gray-500 mt-1",children:p(y.createdAt)})]})]}),u("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${P.bgColor} ${P.color}`,children:P.label})]})},y.id)}):b("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[u(un,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),u("h3",{className:"text-lg font-medium text-gray-800",children:"No pickups found"}),u("p",{className:"text-gray-500 mt-1",children:d||l!=="all"?"Try adjusting your filters":"Schedule your first pickup to get started"})]})}),a&&b("div",{className:"lg:col-span-2 space-y-6",children:[b("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[b("div",{className:"flex items-start justify-between mb-6",children:[b("div",{children:[u("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Pickup Details"}),b("p",{className:"text-gray-500",children:["Tracking ID: ",a.id.slice(0,8).toUpperCase()]})]}),u("span",{className:`px-4 py-2 rounded-full text-sm font-medium capitalize
                  ${Pl[a.status].bgColor} 
                  ${Pl[a.status].color}`,children:Pl[a.status].label})]}),b("div",{className:"space-y-6",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-gray-100 rounded-lg",children:u(ba,{className:"h-5 w-5 text-gray-600"})}),b("div",{children:[u("p",{className:"font-medium text-gray-800",children:"Scheduled For"}),b("p",{className:"text-gray-600",children:[p(a.date)," at ",a.time]})]})]}),b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-gray-100 rounded-lg",children:u(Ft,{className:"h-5 w-5 text-gray-600"})}),b("div",{children:[u("p",{className:"font-medium text-gray-800",children:"Pickup Location"}),u("p",{className:"text-gray-600",children:a.location})]})]}),b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-gray-100 rounded-lg",children:u(un,{className:"h-5 w-5 text-gray-600"})}),b("div",{children:[u("p",{className:"font-medium text-gray-800",children:"Waste Details"}),b("div",{className:"space-y-2",children:[b("p",{className:"text-gray-600",children:["Types: ",a.wasteTypes.map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(", ")]}),b("p",{className:"text-gray-600",children:["Quantity: ",a.quantity," bags"]})]})]})]}),a.note&&b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-gray-100 rounded-lg",children:u(kn,{className:"h-5 w-5 text-gray-600"})}),b("div",{children:[u("p",{className:"font-medium text-gray-800",children:"Additional Notes"}),u("p",{className:"text-gray-600",children:a.note})]})]})]})]}),b("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u("h3",{className:"font-semibold text-gray-800 mb-6",children:"Status Timeline"}),u("div",{className:"space-y-6",children:Object.entries(Pl).map(([y,P],_)=>{const A=P.icon,N=_<=Object.keys(Pl).indexOf(a.status),E=_===Object.keys(Pl).length-1;return b("div",{className:"flex items-start gap-4",children:[b("div",{className:`relative flex items-center justify-center
                        ${E?"h-8":"h-20"}`,children:[u("div",{className:`w-8 h-8 rounded-full flex items-center justify-center
                          ${N?P.bgColor:"bg-gray-100"}`,children:u(A,{className:`h-5 w-5
                            ${N?P.color:"text-gray-400"}`})}),!E&&u("div",{className:`absolute top-8 h-12 w-0.5 
                            ${N?"bg-emerald-500":"bg-gray-200"}`})]}),b("div",{children:[u("p",{className:`font-medium 
                          ${N?"text-gray-800":"text-gray-500"}`,children:P.label}),u("p",{className:`text-sm 
                          ${N?"text-gray-600":"text-gray-400"}`,children:P.description})]})]},y)})})]})]})]})]})},h1={rookie:{Icon:hj,color:"bg-gray-500",textColor:"text-gray-500",benefits:["Basic pickup service","Points for each pickup","Environmental impact tracking"]},bronze:{Icon:Fu,color:"bg-amber-700",textColor:"text-amber-700",benefits:["All Rookie benefits","Priority scheduling","10% bonus points","Monthly impact report"]},silver:{Icon:Fu,color:"bg-slate-400",textColor:"text-slate-400",benefits:["All Bronze benefits","Flexible pickup times","25% bonus points","Quarterly rewards"]},gold:{Icon:bC,color:"bg-yellow-500",textColor:"text-yellow-500",benefits:["All Silver benefits","VIP pickup service","50% bonus points","Special recognition"]},platinum:{Icon:bC,color:"bg-emerald-500",textColor:"text-emerald-500",benefits:["All Gold benefits","Premium service access","Double points","Exclusive rewards","Environmental leader status"]}},Rz=()=>{var _,A,N,E;const{userData:t,currentUser:e}=Et(),[n,r]=W.exports.useState([]),[i,a]=W.exports.useState(!0),[o,l]=W.exports.useState({totalPoints:0,totalPickups:0,achievements:[]}),c=()=>{var T,O;const w={rookie:{max:100,next:"Bronze"},bronze:{max:200,next:"Silver"},silver:{max:500,next:"Gold"},gold:{max:1e3,next:"Platinum"},platinum:{max:null,next:null}},C=((T=t==null?void 0:t.rewards)==null?void 0:T.tier)||"rookie",$=((O=t==null?void 0:t.rewards)==null?void 0:O.points)||0,D=w[C.toLowerCase()];if(!(D!=null&&D.next))return null;const S=$/D.max*100;return{nextTier:D.next,progress:Math.min(S,100),remaining:D.max-$,required:D.max}};W.exports.useEffect(()=>{(async()=>{var C;if(e)try{a(!0);const $=it($e,"pickups"),D=xt($,Tn("userId","==",e.uid),aP("createdAt","desc")),T=(await ot(D)).docs.map(j=>({id:j.id,...j.data()})),O=d(T),R=f(T);r(R),l({totalPoints:((C=t==null?void 0:t.rewards)==null?void 0:C.points)||0,totalPickups:T.length,achievements:O})}catch($){console.error("Error fetching rewards data:",$)}finally{a(!1)}})()},[e,t]);const d=w=>{const C=[],$=w.reduce((D,S)=>D+S.quantity,0);return w.length>=5&&C.push({title:"Pickup Pioneer",description:"Complete 5 pickups",icon:un,earned:!0}),$>=20&&C.push({title:"Waste Warrior",description:"Collect 20 bags of waste",icon:xf,earned:!0}),o.totalPoints>=100&&C.push({title:"Point Collector",description:"Earn 100 points",icon:Fu,earned:!0}),C},f=w=>w.map(C=>({date:C.createdAt,points:m(C),description:`Pickup - ${C.wasteTypes.join(", ")}`,quantity:C.quantity})),m=w=>{const C={organic:5,plastic:8,paper:6,metal:10};return w.wasteTypes.reduce(($,D)=>$+C[D]*w.quantity,0)},p=((A=(_=t==null?void 0:t.rewards)==null?void 0:_.tier)==null?void 0:A.toLowerCase())||"rookie",P=h1[p].Icon;return i?u("div",{className:"flex items-center justify-center min-h-screen",children:u("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):b("div",{className:"p-4 space-y-6 pb-20",children:[b("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-700 rounded-2xl p-6 text-white",children:[b("div",{className:"flex items-center gap-4 mb-4",children:[u("div",{className:"p-3 bg-white/20 rounded-xl",children:u(P,{className:"h-8 w-8"})}),b("div",{children:[b("h2",{className:"text-2xl font-bold capitalize",children:[((N=t==null?void 0:t.rewards)==null?void 0:N.tier)||"Rookie"," Tier"]}),b("p",{className:"text-emerald-100",children:[((E=t==null?void 0:t.rewards)==null?void 0:E.points)||0," total points earned"]})]})]}),c()&&b("div",{className:"space-y-2",children:[b("div",{className:"flex justify-between text-sm",children:[b("span",{children:["Progress to ",c().nextTier]}),b("span",{children:[Math.round(c().progress),"%"]})]}),u("div",{className:"w-full bg-white/20 rounded-full h-2 overflow-hidden",children:u("div",{className:"h-full bg-emerald-300 transition-all duration-500",style:{width:`${c().progress}%`}})}),b("p",{className:"text-sm text-emerald-100",children:[c().remaining," points needed for ",c().nextTier]})]})]}),b("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tier Benefits"}),u("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h1).map(([w,{Icon:C,color:$,textColor:D,benefits:S}])=>{const T=w===p,O=!T&&h1[p].benefits.length<S.length;return b("div",{className:`p-4 rounded-xl border-2 transition-all
                  ${T?"border-emerald-500 bg-emerald-50":O?"border-gray-200 opacity-50":"border-gray-200"}`,children:[b("div",{className:"flex items-center gap-2 mb-3",children:[u("div",{className:`p-2 rounded-lg ${$} bg-opacity-20`,children:u(C,{className:`h-5 w-5 ${D}`})}),u("h3",{className:"font-semibold text-gray-800 capitalize",children:w}),O&&u("span",{className:"text-xs text-gray-500 ml-auto",children:"Locked"})]}),u("ul",{className:"space-y-2",children:S.map((R,j)=>b("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u(j0,{className:"h-4 w-4 text-emerald-500"}),R]},j))})]},w)})})]}),b("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Your Achievements"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o.achievements.map((w,C)=>{const $=w.icon;return u("div",{className:"p-4 bg-emerald-50 rounded-xl",children:b("div",{className:"flex items-center gap-3",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u($,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("h3",{className:"font-medium text-gray-800",children:w.title}),u("p",{className:"text-sm text-emerald-600",children:w.description})]})]})},C)})})]}),b("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Points History"}),u("div",{className:"space-y-4",children:n.map((w,C)=>b("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[b("div",{className:"flex items-center gap-3",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u(sj,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("p",{className:"font-medium text-gray-800",children:w.description}),u("p",{className:"text-sm text-gray-500",children:w.date.toDate().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),b("div",{className:"text-right",children:[b("p",{className:"font-medium text-emerald-600",children:["+",w.points," points"]}),b("p",{className:"text-sm text-gray-500",children:[w.quantity," bags"]})]})]},C))})]})]})},Lz=()=>{const{currentUser:t}=Et(),[e,n]=W.exports.useState([]),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState("all"),[l,c]=W.exports.useState("desc"),[d,f]=W.exports.useState("");W.exports.useEffect(()=>{(async()=>{if(t)try{i(!0);const y=it($e,"pickups"),P=xt(y,Tn("userId","==",t.uid));let A=(await ot(P)).docs.map(N=>({id:N.id,...N.data()}));A=A.sort((N,E)=>l==="desc"?E.createdAt.seconds-N.createdAt.seconds:N.createdAt.seconds-E.createdAt.seconds),n(A)}catch(y){console.error("Error fetching pickups:",y)}finally{i(!1)}})()},[t,l]);const m=e.filter(p=>{var _,A;const y=a==="all"||p.status===a,P=((_=p.location)==null?void 0:_.toLowerCase().includes(d.toLowerCase()))||((A=p.wasteTypes)==null?void 0:A.some(N=>N.toLowerCase().includes(d.toLowerCase())));return y&&P});return b("div",{className:"p-4",children:[b("div",{className:"mb-6",children:[u("h1",{className:"text-2xl font-bold text-gray-900",children:"Pickup History"}),u("p",{className:"text-gray-600",children:"View and track all your pickup requests"})]}),b("div",{className:"flex gap-4 mb-6",children:[b("div",{className:"relative flex-1",children:[u(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u("input",{type:"text",placeholder:"Search by location or waste type...",value:d,onChange:p=>f(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-200 rounded text-black placeholder-gray-400"})]}),b("select",{value:a,onChange:p=>o(p.target.value),className:"bg-gray-200 text-black px-4 py-2 rounded-lg",children:[u("option",{value:"all",children:"All Status"}),u("option",{value:"pending",children:"Pending"}),u("option",{value:"completed",children:"Completed"}),u("option",{value:"cancelled",children:"Cancelled"})]}),b("button",{onClick:()=>c(l==="desc"?"asc":"desc"),className:"bg-gray-200 text-black px-4 py-2 rounded-lg flex items-center gap-2",children:[u(hG,{className:"h-5 w-5"}),l==="desc"?"Newest":"Oldest"]})]}),r?u("div",{className:"flex justify-center items-center py-12",children:u("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"})}):m.length>0?u("div",{className:"space-y-4",children:m.map(p=>b("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[b("div",{className:"flex justify-between items-start",children:[b("div",{children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u("span",{className:"text-sm font-medium text-gray-600",children:new Date(p.date.seconds*1e3).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),b("span",{className:"text-sm text-gray-500",children:["at ",p.time]})]}),u("div",{className:"text-sm text-gray-600",children:p.location})]}),u("span",{className:`px-3 py-1 rounded-full text-sm font-medium capitalize
                  ${p.status==="pending"?"bg-yellow-100 text-yellow-800":p.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status})]}),b("div",{className:"mt-4 flex items-center gap-4",children:[b("div",{children:[u("div",{className:"text-sm text-gray-600",children:"Waste Types:"}),u("div",{className:"font-medium",children:p.wasteTypes.map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(", ")})]}),b("div",{children:[u("div",{className:"text-sm text-gray-600",children:"Quantity:"}),b("div",{className:"font-medium",children:[p.quantity," bags"]})]})]}),p.note&&b("div",{className:"mt-3 text-sm text-gray-600",children:[u("span",{className:"font-medium",children:"Note:"})," ",p.note]})]},p.id))}):b("div",{className:"text-center py-12",children:[u(un,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No pickups found"}),u("p",{className:"text-gray-600",children:d||a!=="all"?"Try adjusting your filters":"Schedule your first pickup to get started"})]})]})},ySe=()=>{var N,E;const{userData:t,signOut:e}=Et(),[n,r]=W.exports.useState("home"),[i,a]=W.exports.useState(!1),[o,l]=W.exports.useState(!1),[c,d]=W.exports.useState(!1),[f,m]=W.exports.useState([]),p=Gu(),y=[{id:"home",icon:bG,label:"Home"},{id:"detect",icon:D2,label:"Detect Waste"},{id:"schedule",icon:ba,label:"Schedule Pickup"},{id:"track",icon:Ft,label:"Track Pickup"},{id:"rewards",icon:sj,label:"Rewards"},{id:"history",icon:Ko,label:"History"}];W.exports.useEffect(()=>{m([{id:1,title:"Pickup Scheduled",message:"Your pickup is scheduled for tomorrow",type:"info"},{id:2,title:"New Reward",message:"You've earned 50 points!",type:"success"}])},[]);const P=w=>{r(w),a(!1)},_=async()=>{try{await e(),p("/login")}catch(w){console.error("Error signing out:",w)}};W.exports.useEffect(()=>{const w=C=>{C.target.closest(".notification-menu")||l(!1),C.target.closest(".profile-menu")||d(!1)};return document.addEventListener("click",w),()=>document.removeEventListener("click",w)},[]);const A=()=>{switch(n){case"home":return u(oL,{});case"detect":return u(Iz,{});case"schedule":return u(Oz,{});case"track":return u(Mz,{});case"rewards":return u(Rz,{});case"history":return u(Lz,{});default:return u(oL,{})}};return b("div",{className:"min-h-screen bg-gray-50",children:[u("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-100 z-50",children:b("div",{className:"flex items-center justify-between px-4 h-full",children:[b("div",{className:"flex items-center gap-3",children:[u("button",{className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",onClick:()=>a(!i),children:i?u(Vu,{className:"h-6 w-6 text-gray-600"}):u(AG,{className:"h-6 w-6 text-gray-600"})}),u("h1",{className:"text-xl font-bold text-emerald-600",children:"WasteTrack"})]}),b("div",{className:"flex items-center gap-4",children:[b("div",{className:"relative notification-menu",children:[b("button",{className:"p-2 hover:bg-gray-100 rounded-lg relative",onClick:()=>l(!o),children:[u(ij,{className:"h-5 w-5 text-gray-600"}),f.length>0&&u("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:f.length})]}),o&&b("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-100 py-2",children:[u("div",{className:"px-4 py-2 border-b border-gray-100",children:u("h3",{className:"font-semibold text-gray-700",children:"Notifications"})}),f.map(w=>b("div",{className:"px-4 py-3 hover:bg-gray-50",children:[u("p",{className:"font-medium text-sm text-gray-800",children:w.title}),u("p",{className:"text-gray-500 text-xs mt-1",children:w.message})]},w.id))]})]}),b("div",{className:"relative profile-menu",children:[b("button",{className:"flex items-center gap-2 hover:bg-gray-100 rounded-lg p-2",onClick:()=>d(!c),children:[u("div",{className:"h-8 w-8 bg-emerald-100 rounded-full flex items-center justify-center",children:u("span",{className:"text-emerald-600 font-medium",children:((E=(N=t==null?void 0:t.profile)==null?void 0:N.fullName)==null?void 0:E.charAt(0))||"U"})}),u(pG,{className:"h-4 w-4 text-gray-600"})]}),c&&b("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-2",children:[u("div",{className:"px-4 py-2 border-b border-gray-100",children:u("p",{className:"font-semibold text-gray-700",children:"My Account"})}),b("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-2",children:[u(Us,{className:"h-4 w-4 text-gray-600"}),u("span",{className:"text-sm text-gray-700",children:"Profile"})]}),b("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-2",children:[u(wP,{className:"h-4 w-4 text-gray-600"}),u("span",{className:"text-sm text-gray-700",children:"Settings"})]}),u("div",{className:"border-t border-gray-100 mt-2",children:b("button",{onClick:_,className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[u(cj,{className:"h-4 w-4"}),u("span",{className:"text-sm",children:"Sign Out"})]})})]})]})]})]})}),i&&u("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)}),u("div",{className:"pt-16 pb-16",children:A()}),u("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 z-50",children:u("div",{className:"flex justify-around items-center h-16",children:y.map(w=>b("button",{onClick:()=>P(w.id),className:`flex flex-col items-center p-2 min-w-[64px] transition-colors
                ${n===w.id?"text-emerald-500 bg-emerald-50 rounded-lg":"text-gray-500 hover:text-emerald-400 hover:bg-gray-50"}`,children:[u(w.icon,{className:"h-5 w-5"}),u("span",{className:"text-xs mt-1 font-medium",children:w.label})]},w.id))})})]})},sL=["#10B981","#6366F1","#F59E0B","#EF4444"],f1=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toFixed(1),Sv=({icon:t,label:e,value:n,trend:r,subValue:i})=>u("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(t,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-600",children:e}),u("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:n}),i&&u("p",{className:"text-sm text-gray-500 mt-1",children:i})]})]}),r&&b("div",{className:`px-2.5 py-1.5 rounded-lg text-sm font-medium
          ${r>=0?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:[r>=0?"+":"",r,"%"]})]})}),lL=({title:t,description:e,children:n})=>b("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[u("div",{className:"flex items-start justify-between mb-6",children:b("div",{children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:t}),u("p",{className:"text-sm text-gray-500 mt-1",children:e})]})}),n]}),vSe=({type:t,title:e,description:n,action:r})=>{const a={warning:{bg:"bg-amber-50",text:"text-amber-700",icon:cP},success:{bg:"bg-emerald-50",text:"text-emerald-700",icon:vG},error:{bg:"bg-red-50",text:"text-red-700",icon:kn}}[t],o=a.icon;return u("div",{className:`${a.bg} rounded-lg p-4`,children:b("div",{className:"flex items-start gap-3",children:[u(o,{className:`h-5 w-5 ${a.text}`}),b("div",{className:"flex-1",children:[u("h4",{className:`text-sm font-medium ${a.text}`,children:e}),u("p",{className:`text-sm mt-1 ${a.text} opacity-90`,children:n})]}),r&&u("button",{className:`${a.text} hover:opacity-80`,children:u(j0,{className:"h-5 w-5"})})]})})},wSe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState({summary:{totalWasteBanks:0,totalVolume:0,complianceRate:0,activeCollectors:0},alerts:[],trends:[],distribution:[],compliance:[]});return W.exports.useEffect(()=>{(async()=>{i(!0);try{const[f,m]=await Promise.all([ot(xt(it($e,"users"))),ot(xt(it($e,"pickups")))]),p=f.docs.filter(D=>D.data().role==="wastebank_admin").map(D=>({id:D.id,...D.data()})),y=m.docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.status==="completed"),P={};y.forEach(D=>{const S=new Date(D.completedAt.seconds*1e3),T=`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}`;P[T]||(P[T]={month:S.toLocaleString("default",{month:"short"}),volume:0,pickups:0,wasteBanks:new Set}),P[T].pickups++,P[T].wasteBanks.add(D.wasteBankId),Object.values(D.wastes).forEach(O=>{P[T].volume+=O.weight||0})});const _={};let A=0;y.forEach(D=>{Object.entries(D.wastes).forEach(([S,T])=>{_[S]||(_[S]={type:S,volume:0}),_[S].volume+=T.weight||0,A+=T.weight||0})});const N=[],E=new Date;p.forEach(D=>{var O;const S=y.filter(R=>R.wasteBankId===D.id),T=S[S.length-1];if(T){const R=new Date(T.completedAt.seconds*1e3),j=Math.floor((E-R)/(1e3*60*60*24));j>7&&N.push({type:"warning",title:"Inactive Waste Bank",description:`${(O=D.profile)==null?void 0:O.institution} hasn't processed waste in ${j} days`,wasteBankId:D.id})}});const C=new Set(y.map(D=>D.wasteBankId)).size/p.length*100,$=new Set(y.map(D=>D.collectorId)).size;c({summary:{totalWasteBanks:p.length,totalVolume:A,complianceRate:C,activeCollectors:$},alerts:N,trends:Object.values(P),distribution:Object.values(_),waste_banks:p})}catch(f){console.error("Error fetching data:",f),o("Failed to load dashboard data")}finally{i(!1)}})()},[]),r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:d=>n(d)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(gn,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Government Dashboard"}),u("p",{className:"text-sm text-gray-500",children:"Waste Management System Overview"})]})]}),b("button",{className:`px-4 py-2 bg-emerald-500 text-white rounded-lg \r
              hover:bg-emerald-600 transition-colors flex items-center gap-2`,children:[u(fP,{className:"h-4 w-4"}),"Download Report"]})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(Sv,{icon:gn,label:"Waste Banks",value:l.summary.totalWasteBanks,subValue:"Registered facilities"}),u(Sv,{icon:Qa,label:"Total Volume",value:`${f1(l.summary.totalVolume)} kg`,trend:12.5}),u(Sv,{icon:bP,label:"Compliance Rate",value:`${Math.round(l.summary.complianceRate)}%`,subValue:"Active facilities"}),u(Sv,{icon:Ci,label:"Active Collectors",value:l.summary.activeCollectors,trend:8.3})]}),l.alerts.length>0&&b("div",{className:"mb-8",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Alerts & Notifications"}),u("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.alerts.map((d,f)=>u(vSe,{type:d.type,title:d.title,description:d.description,action:!0},f))})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[u(lL,{title:"Collection Trends",description:"Monthly waste collection volume and facility participation",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(_z,{data:l.trends,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u(Rr,{dataKey:"month",stroke:"#6B7280",fontSize:12}),u(cn,{stroke:"#6B7280",fontSize:12,tickFormatter:d=>`${(d/1e3).toFixed(1)}K kg`}),u(mn,{}),u(io,{type:"monotone",dataKey:"volume",stroke:"#10B981",fill:"#10B981",fillOpacity:.2,name:"Volume"})]})})})}),u(lL,{title:"Waste Type Distribution",description:"Volume distribution by waste category",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:l.distribution,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"volume",children:l.distribution.map((d,f)=>u(so,{fill:sL[f%sL.length]},`cell-${f}`))}),u(mn,{formatter:d=>`${f1(d)} kg`}),u(Ws,{layout:"vertical",align:"right",verticalAlign:"middle"})]})})})})]}),b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Facility Overview"}),u("div",{className:"overflow-x-auto",children:b("table",{className:"w-full",children:[u("thead",{children:b("tr",{className:"border-b border-gray-200",children:[u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Facility"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Location"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Status"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Volume"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Last Active"})]})}),u("tbody",{children:l.waste_banks.slice(0,5).map(d=>{var f,m,p,y;return b("tr",{className:"border-b border-gray-200",children:[u("td",{className:"py-3 px-4",children:b("div",{className:"flex items-center gap-3",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(gn,{className:"h-4 w-4 text-emerald-600"})}),u("span",{className:"font-medium text-gray-900",children:((f=d.profile)==null?void 0:f.institution)||"Unnamed Facility"})]})}),u("td",{className:"py-3 px-4 text-gray-600",children:((m=d.location)==null?void 0:m.city)||"Unknown Location"}),u("td",{className:"py-3 px-4",children:u("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700",children:"Active"})}),b("td",{className:"py-3 px-4 text-gray-600",children:[f1(((p=d.stats)==null?void 0:p.totalWeight)||0)," kg"]}),u("td",{className:"py-3 px-4 text-gray-600",children:(y=d.stats)!=null&&y.lastPickup?new Date(d.stats.lastPickup.seconds*1e3).toLocaleDateString():"Never"})]},d.id)})})]})})]})]})})]})},bSe={organic:{carbon:.5,water:1e3,landfill:.2},plastic:{carbon:2.5,water:2e3,landfill:.1,trees:.1},paper:{carbon:1.5,water:1500,landfill:.15,trees:.2},metal:{carbon:5,water:3e3,landfill:.05}},Ev=["#10B981","#6366F1","#F59E0B","#EF4444"],xSe=({className:t="",...e})=>u("select",{className:`w-full px-4 py-2.5 bg-white border border-gray-200 rounded-lg 
      text-gray-700 text-sm transition-all duration-200 
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      hover:border-emerald-500/50 
      ${t}`,...e}),Av=({icon:t,label:e,value:n,subValue:r})=>u("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(t,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-600",children:e}),u("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:n}),r&&u("p",{className:"text-sm text-gray-500 mt-1",children:r})]})]})}),cL=({title:t,description:e,children:n})=>b("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[u("div",{className:"flex items-start justify-between mb-6",children:b("div",{children:[b("div",{className:"flex items-center gap-2",children:[u("h2",{className:"text-lg font-semibold text-gray-800",children:t}),u(_Se,{children:e})]}),u("p",{className:"text-sm text-gray-500 mt-1",children:e})]})}),n]}),_Se=({children:t})=>b("div",{className:"group relative inline-block",children:[u(gP,{className:"h-4 w-4 text-gray-400 hover:text-gray-600 transition-colors"}),b("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg w-48 \r
      opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all`,children:[t,u("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-800"})]})]}),SSe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState([]),[d,f]=W.exports.useState([]),[m]=W.exports.useState([-7.2575,112.7521]),[p,y]=W.exports.useState("month"),[P,_]=W.exports.useState({totalImpact:{carbon:0,water:0,trees:0,landfill:0},wasteTypes:[],locations:[],monthlyTrends:[]}),A=(E={})=>{let w={carbon:0,water:0,trees:0,landfill:0};return Object.entries(E).forEach(([C,$])=>{const D=bSe[C];D&&$.weight&&(w.carbon+=D.carbon*$.weight,w.water+=D.water*$.weight,w.landfill+=D.landfill*$.weight,D.trees&&(w.trees+=D.trees*$.weight))}),w};W.exports.useEffect(()=>{(async()=>{i(!0);try{const w=xt(it($e,"users")),$=(await ot(w)).docs.filter(O=>O.data().role==="wastebank_admin").map(O=>({id:O.id,...O.data()}));f($);const D=xt(it($e,"pickups")),T=(await ot(D)).docs.map(O=>({id:O.id,...O.data()})).filter(O=>O.status==="completed");c(T),N($,T)}catch(w){console.error("Error fetching data:",w),o("Failed to load data")}finally{i(!1)}})()},[p]);const N=(E,w)=>{const C=w.reduce((T,O)=>{const R=A(O.wastes);return{carbon:T.carbon+R.carbon,water:T.water+R.water,trees:T.trees+R.trees,landfill:T.landfill+R.landfill}},{carbon:0,water:0,trees:0,landfill:0}),$={};w.forEach(T=>{Object.entries(T.wastes||{}).forEach(([O,R])=>{$[O]||($[O]={weight:0,impact:0}),$[O].weight+=R.weight||0,$[O].impact+=A({[O]:R}).carbon})});const D={};w.forEach(T=>{var R;if(!T.wasteBankId||!T.coordinates)return;if(!D[T.wasteBankId]){const j=E.find(U=>U.id===T.wasteBankId);D[T.wasteBankId]={id:T.wasteBankId,name:((R=j==null?void 0:j.profile)==null?void 0:R.institution)||"Unknown Bank",location:T.location||"Unknown Location",coordinates:T.coordinates,totalWeight:0,totalImpact:0,pickupCount:0}}const O=A(T.wastes);D[T.wasteBankId].totalWeight+=Object.values(T.wastes||{}).reduce((j,U)=>j+(U.weight||0),0),D[T.wasteBankId].totalImpact+=O.carbon,D[T.wasteBankId].pickupCount+=1});const S={};w.forEach(T=>{if(!T.completedAt)return;const O=new Date(T.completedAt.seconds*1e3),R=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}`;S[R]||(S[R]={month:O.toLocaleString("default",{month:"short"}),weight:0,impact:0});const j=A(T.wastes);S[R].impact+=j.carbon,Object.values(T.wastes||{}).forEach(U=>{S[R].weight+=U.weight||0})}),_({totalImpact:C,wasteTypes:Object.entries($).map(([T,O])=>({name:T.charAt(0).toUpperCase()+T.slice(1),weight:O.weight,impact:O.impact})),locations:Object.values(D),monthlyTrends:Object.values(S)})};return r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:E=>n(E)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(_G,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Carbon Offset Planner"}),u("p",{className:"text-sm text-gray-500",children:"Analyze and optimize carbon offset potential"})]})]}),u("div",{className:"flex items-center gap-4",children:b(xSe,{value:p,onChange:E=>y(E.target.value),className:"w-44",children:[u("option",{value:"month",children:"Last Month"}),u("option",{value:"quarter",children:"Last Quarter"}),u("option",{value:"year",children:"Last Year"})]})})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(Av,{icon:Vo,label:"Carbon Impact",value:`${Math.round(P.totalImpact.carbon)} kg CO₂e`,subValue:"Total emissions prevented"}),u(Av,{icon:Os,label:"Trees Preserved",value:`${Math.round(P.totalImpact.trees)} trees`,subValue:"Equivalent preservation"}),u(Av,{icon:$h,label:"Water Saved",value:`${Math.round(P.totalImpact.water/1e3)} m³`,subValue:"Water conservation impact"}),u(Av,{icon:gn,label:"Active Waste Banks",value:d.length,subValue:`${l.length} total pickups processed`})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[u("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:u("div",{className:"relative h-[500px]",children:b(jN,{center:m,zoom:13,className:"h-full w-full",children:[u(BN,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P.locations.map(E=>{if(!E.coordinates)return null;const w=Math.min(Math.max(E.totalImpact*500,500),2e3);return b(Z.Fragment,{children:[u(fE,{center:[E.coordinates.lat,E.coordinates.lng],radius:w,pathOptions:{color:"#059669",fillColor:"#059669",fillOpacity:.2}}),u(kg,{position:[E.coordinates.lat,E.coordinates.lng],icon:Tg.divIcon({className:"custom-marker-icon",html:`<div class="w-8 h-8 rounded-full bg-emerald-100 border-4 border-emerald-500 flex items-center justify-center">
                              <div class="w-4 h-4 rounded-full bg-emerald-500"></div>
                            </div>`,iconSize:[32,32],iconAnchor:[16,32]}),children:u(wh,{children:b("div",{className:"p-2",children:[u("h3",{className:"font-medium text-gray-900",children:E.name}),u("p",{className:"text-sm text-gray-500 mt-1",children:E.location}),b("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[b("p",{className:"text-sm text-emerald-600 font-medium",children:[Math.round(E.totalImpact)," kg CO₂e offset"]}),b("p",{className:"text-xs text-gray-500",children:[E.totalWeight.toFixed(1)," kg waste collected"]}),b("p",{className:"text-xs text-gray-500",children:[E.pickupCount," pickups completed"]})]})]})})})]},E.id)})]})})}),b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Top Performing Locations"}),u("div",{className:"space-y-4",children:P.locations.sort((E,w)=>w.totalImpact-E.totalImpact).slice(0,5).map((E,w)=>b("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center gap-4",children:[u("div",{className:"flex-shrink-0 w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:u("span",{className:"text-sm font-medium text-emerald-700",children:w+1})}),b("div",{className:"flex-1 min-w-0",children:[u("p",{className:"font-medium text-gray-900 truncate",children:E.name}),u("p",{className:"text-sm text-gray-500 truncate",children:E.location})]}),b("div",{className:"text-right",children:[b("p",{className:"text-sm font-medium text-emerald-600",children:[Math.round(E.totalImpact)," kg CO₂e"]}),b("p",{className:"text-xs text-gray-500",children:[E.pickupCount," pickups"]})]})]},E.id))})]})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[u(cL,{title:"Monthly Impact Trends",description:"Weight collected and carbon impact by month",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(my,{data:P.monthlyTrends,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E4E4E7"}),u(Rr,{dataKey:"month",stroke:"#71717A",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#71717A",fontSize:12,tickFormatter:E=>`${E} kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#71717A",fontSize:12,tickFormatter:E=>`${E} CO₂e`}),u(mn,{formatter:(E,w)=>w==="weight"?[`${E.toFixed(1)} kg`,"Weight"]:[`${E.toFixed(1)} kg CO₂e`,"Carbon Impact"]}),u(Kr,{yAxisId:"left",dataKey:"weight",fill:"#10B981",name:"weight"}),u(Kr,{yAxisId:"right",dataKey:"impact",fill:"#6366F1",name:"impact"})]})})})}),b(cL,{title:"Impact by Waste Type",description:"Carbon offset contribution by material type",children:[u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:P.wasteTypes,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"impact",children:P.wasteTypes.map((E,w)=>u(so,{fill:Ev[w%Ev.length]},`cell-${w}`))}),u(mn,{formatter:E=>[`${E.toFixed(1)} kg CO₂e`]})]})})}),u("div",{className:"mt-6 space-y-3",children:P.wasteTypes.map((E,w)=>b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ev[w%Ev.length]}}),u("span",{className:"text-sm font-medium text-gray-700",children:E.name})]}),b("div",{className:"text-right",children:[b("p",{className:"text-sm font-medium text-gray-800",children:[Math.round(E.impact)," kg CO₂e"]}),b("p",{className:"text-xs text-gray-500",children:[E.weight.toFixed(1)," kg collected"]})]})]},E.name))})]})]}),u("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-200",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u(Os,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("h3",{className:"text-lg font-semibold text-emerald-800",children:"Environmental Impact Summary"}),u("p",{className:"text-sm text-emerald-700 mt-1",children:"Total environmental impact from waste management activities:"}),b("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Vo,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Carbon Offset"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[Math.round(P.totalImpact.carbon)," kg CO₂e"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"emissions prevented"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Os,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Trees Preserved"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[Math.round(P.totalImpact.trees)," trees"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"equivalent preserved"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u($h,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Water Saved"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[Math.round(P.totalImpact.water/1e3)," m³"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"water preserved"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(un,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Landfill Reduced"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[P.totalImpact.landfill.toFixed(1)," m³"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"landfill space saved"})]})]})]})]})})]})})]})},Id={organic:{carbon:.5,water:1e3},plastic:{carbon:2.5,water:2e3},paper:{carbon:1.5,water:1500},metal:{carbon:5,water:3e3}},uL=["#10B981","#3B82F6","#F59E0B","#EF4444"],Nl=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toFixed(1),Od=({icon:t,label:e,value:n,trend:r,subValue:i})=>u("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(t,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-600",children:e}),u("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:n}),i&&u("p",{className:"text-sm text-gray-500 mt-1",children:i})]})]}),r&&b("div",{className:`px-2.5 py-1.5 rounded-lg text-sm font-medium
          ${r>=0?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:[r>=0?"+":"",r,"%"]})]})}),Pv=({title:t,description:e,children:n})=>b("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[u("div",{className:"flex items-start justify-between mb-6",children:b("div",{children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:t}),u("p",{className:"text-sm text-gray-500 mt-1",children:e})]})}),n]}),ESe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState({monthlyData:[],wasteTypes:[],impactMetrics:{totalWeight:0,totalValue:0,carbonOffset:0,waterSaved:0,activeWasteBanks:0,pickupCount:0},wasteDistribution:[],performanceMetrics:[]});return W.exports.useEffect(()=>{(async()=>{var f,m;i(!0);try{const p=xt(it($e,"pickups")),P=(await ot(p)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.status==="completed"),_={};P.forEach(R=>{const j=new Date(R.completedAt.seconds*1e3),U=`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}`;_[U]||(_[U]={month:j.toLocaleString("default",{month:"short"}),weight:0,value:0,carbon:0,water:0}),Object.entries(R.wastes).forEach(([V,G])=>{_[U].weight+=G.weight||0,_[U].value+=G.value||0,Id[V]&&(_[U].carbon+=(G.weight||0)*Id[V].carbon,_[U].water+=(G.weight||0)*Id[V].water)})});const A={};let N=0,E=0,w=0,C=0;P.forEach(R=>{Object.entries(R.wastes).forEach(([j,U])=>{A[j]||(A[j]={weight:0,value:0}),A[j].weight+=U.weight||0,A[j].value+=U.value||0,N+=U.weight||0,E+=U.value||0,Id[j]&&(w+=(U.weight||0)*Id[j].carbon,C+=(U.weight||0)*Id[j].water)})});const $=new Set(P.map(R=>R.wasteBankId)).size,D=Object.values(_).sort((R,j)=>new Date(j.month)-new Date(R.month)),S=((f=D[0])==null?void 0:f.weight)||0,T=((m=D[1])==null?void 0:m.weight)||0,O=T?(S-T)/T*100:0;c({monthlyData:Object.values(_),wasteTypes:Object.entries(A).map(([R,j])=>({name:R.charAt(0).toUpperCase()+R.slice(1),weight:j.weight,value:j.value})),impactMetrics:{totalWeight:N,totalValue:E,carbonOffset:w,waterSaved:C,activeWasteBanks:$,pickupCount:P.length,growth:O},performanceMetrics:[{subject:"Collection Rate",A:85,fullMark:100},{subject:"Processing Time",A:92,fullMark:100},{subject:"Sorting Accuracy",A:88,fullMark:100},{subject:"Customer Satisfaction",A:95,fullMark:100},{subject:"Environmental Impact",A:89,fullMark:100}]})}catch(p){console.error("Error fetching data:",p),o("Failed to load dashboard data")}finally{i(!1)}})()},[]),r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:d=>n(d)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[u("div",{className:"flex items-center justify-between mb-8",children:b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(rj,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Industry Dashboard"}),u("p",{className:"text-sm text-gray-500",children:"Track and analyze waste management performance"})]})]})}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(Od,{icon:$b,label:"Total Collection",value:`${Nl(l.impactMetrics.totalWeight)} kg`,trend:l.impactMetrics.growth,subValue:"Month over month growth"}),u(Od,{icon:jp,label:"Revenue Generated",value:`Rp ${Nl(l.impactMetrics.totalValue)}`,subValue:`${l.impactMetrics.pickupCount} successful pickups`}),u(Od,{icon:gn,label:"Active Waste Banks",value:l.impactMetrics.activeWasteBanks,subValue:"Currently operating"}),u(Od,{icon:bP,label:"Collection Rate",value:"92%",trend:5.2,subValue:"Target achievement"})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[u(Pv,{title:"Monthly Collection Trends",description:"Weight collected and revenue generated by month",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(_z,{data:l.monthlyData,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u(Rr,{dataKey:"month",stroke:"#6B7280",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#6B7280",fontSize:12,tickFormatter:d=>`${Nl(d)} kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#6B7280",fontSize:12,tickFormatter:d=>`Rp ${Nl(d)}`}),u(mn,{}),u(io,{yAxisId:"left",type:"monotone",dataKey:"weight",stroke:"#10B981",fill:"#10B981",fillOpacity:.2,name:"Weight"}),u(io,{yAxisId:"right",type:"monotone",dataKey:"value",stroke:"#6366F1",fill:"#6366F1",fillOpacity:.2,name:"Revenue"})]})})})}),u(Pv,{title:"Performance Metrics",description:"Key performance indicators across different metrics",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(E2e,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.performanceMetrics,children:[u(WB,{stroke:"#E5E7EB"}),u(Ff,{dataKey:"subject",fontSize:12,stroke:"#6B7280"}),u(zf,{angle:30,domain:[0,100],fontSize:12,stroke:"#6B7280"}),u(dy,{name:"Performance",dataKey:"A",stroke:"#10B981",fill:"#10B981",fillOpacity:.2})]})})})})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u(Pv,{title:"Waste Distribution",description:"Distribution of different waste types by weight",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:l.wasteTypes,dataKey:"weight",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,labelLine:!1,label:({cx:d,cy:f,midAngle:m,innerRadius:p,outerRadius:y,percent:P,name:_})=>{const A=p+(y-p)*.5,N=d+A*Math.cos(-m*Math.PI/180),E=f+A*Math.sin(-m*Math.PI/180);return u("text",{x:N,y:E,fill:"white",textAnchor:"middle",dominantBaseline:"central",fontSize:12,children:`${_} ${(P*100).toFixed(0)}%`})},children:l.wasteTypes.map((d,f)=>u(so,{fill:uL[f%uL.length]},`cell-${f}`))}),u(mn,{}),u(Ws,{})]})})})}),u(Pv,{title:"Environmental Impact",description:"Carbon offset and water savings from waste management",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(my,{data:l.monthlyData,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u(Rr,{dataKey:"month",stroke:"#6B7280",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#6B7280",fontSize:12,tickFormatter:d=>`${Nl(d)} kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#6B7280",fontSize:12,tickFormatter:d=>`${Nl(d)} L`}),u(mn,{}),u(Ws,{}),u(Kr,{yAxisId:"left",dataKey:"carbon",name:"Carbon Offset",fill:"#10B981"}),u(Kr,{yAxisId:"right",dataKey:"water",name:"Water Saved",fill:"#3B82F6"})]})})})})]}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[u(Od,{icon:Os,label:"Carbon Offset",value:`${Nl(l.impactMetrics.carbonOffset)} kg`,subValue:"CO₂ equivalent"}),u(Od,{icon:$h,label:"Water Saved",value:`${Nl(l.impactMetrics.waterSaved)} L`,subValue:"Through recycling"})]})]})})]})},ASe={organic:{carbon:.5,water:1e3,landfill:.2},plastic:{carbon:2.5,water:2e3,landfill:.1,trees:.1},paper:{carbon:1.5,water:1500,landfill:.15,trees:.2},metal:{carbon:5,water:3e3,landfill:.05}},ou={HIGH:{color:"#10B981",minWeight:1e3,minDensity:5,description:"High potential industrial area"},MEDIUM:{color:"#F59E0B",minWeight:500,minDensity:3,description:"Medium potential area"},LOW:{color:"#EF4444",minWeight:100,minDensity:1,description:"Emerging opportunity area"}},PSe=({className:t="",...e})=>u("select",{className:`w-full px-4 py-2.5 bg-white border border-gray-200 rounded-lg 
      text-gray-700 text-sm transition-all duration-200 
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      hover:border-emerald-500/50 
      ${t}`,...e}),Nv=({icon:t,label:e,value:n,subValue:r})=>u("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(t,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-600",children:e}),u("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:n}),r&&u("p",{className:"text-sm text-gray-500 mt-1",children:r})]})]})}),NSe=({children:t})=>b("div",{className:"group relative inline-block",children:[u(gP,{className:"h-4 w-4 text-gray-400 hover:text-gray-600 transition-colors"}),b("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg w-48 \r
      opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all`,children:[t,u("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-800"})]})]}),TSe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState([]),[d,f]=W.exports.useState([]),[m]=W.exports.useState([-7.2575,112.7521]),[p,y]=W.exports.useState("month"),[P,_]=W.exports.useState(null),[A,N]=W.exports.useState({totalImpact:{carbon:0,water:0,trees:0,landfill:0},wasteTypes:[],locations:[],monthlyTrends:[],opportunities:[]}),E=(S={})=>{let T={carbon:0,water:0,trees:0,landfill:0};return Object.entries(S).forEach(([O,R])=>{const j=ASe[O];j&&R.weight&&(T.carbon+=j.carbon*R.weight,T.water+=j.water*R.weight,T.landfill+=j.landfill*R.weight,j.trees&&(T.trees+=j.trees*R.weight))}),T},w=(S,T,O,R)=>{const U=S*Math.PI/180,V=O*Math.PI/180,G=(O-S)*Math.PI/180,X=(R-T)*Math.PI/180,ee=Math.sin(G/2)*Math.sin(G/2)+Math.cos(U)*Math.cos(V)*Math.sin(X/2)*Math.sin(X/2);return 6371*(2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee)))},C=(S,T=2)=>{const O=l.filter(X=>{var te,J;return!((te=X==null?void 0:X.coordinates)!=null&&te.lat)||!((J=X==null?void 0:X.coordinates)!=null&&J.lng)?!1:w(S.lat,S.lng,X.coordinates.lat,X.coordinates.lng)<=T}),R=O.reduce((X,ee)=>X+Object.values(ee.wastes||{}).reduce((te,J)=>te+(J.weight||0),0),0),j=O.reduce((X,ee)=>{const te=E(ee.wastes);return{carbon:X.carbon+te.carbon,water:X.water+te.water,trees:X.trees+te.trees,landfill:X.landfill+te.landfill}},{carbon:0,water:0,trees:0,landfill:0}),U=O.length/(Math.PI*T*T),V=new Set(O.map(X=>X.wasteBankId)).size;let G="LOW";return R>=ou.HIGH.minWeight&&U>=ou.HIGH.minDensity?G="HIGH":R>=ou.MEDIUM.minWeight&&U>=ou.MEDIUM.minDensity&&(G="MEDIUM"),{center:S,stats:{totalWeight:R,density:U,existingFacilities:V,pickupCount:O.length,impact:j},potential:G}},$=()=>{const T={};return l.forEach(O=>{if(!O.coordinates)return;const R=Math.floor(O.coordinates.lat/.01),j=Math.floor(O.coordinates.lng/.01),U=`${R},${j}`;T[U]||(T[U]={center:{lat:(R+.5)*.01,lng:(j+.5)*.01},pickups:[]}),T[U].pickups.push(O)}),Object.values(T).map(O=>C(O.center)).filter(O=>O.stats.pickupCount>0).sort((O,R)=>{const j={HIGH:3,MEDIUM:2,LOW:1};return j[R.potential]-j[O.potential]})},D=(S,T)=>{const O=T.reduce((G,X)=>{const ee=E(X.wastes);return{carbon:G.carbon+ee.carbon,water:G.water+ee.water,trees:G.trees+ee.trees,landfill:G.landfill+ee.landfill}},{carbon:0,water:0,trees:0,landfill:0}),R={};T.forEach(G=>{Object.entries(G.wastes||{}).forEach(([X,ee])=>{R[X]||(R[X]={weight:0,impact:0}),R[X].weight+=ee.weight||0,R[X].impact+=E({[X]:ee}).carbon})});const j={};T.forEach(G=>{var ee;if(!G.wasteBankId||!G.coordinates)return;if(!j[G.wasteBankId]){const te=S.find(J=>J.id===G.wasteBankId);j[G.wasteBankId]={id:G.wasteBankId,name:((ee=te==null?void 0:te.profile)==null?void 0:ee.institution)||"Unknown Bank",location:G.location||"Unknown Location",coordinates:G.coordinates,totalWeight:0,totalImpact:0,pickupCount:0}}const X=E(G.wastes);j[G.wasteBankId].totalWeight+=Object.values(G.wastes||{}).reduce((te,J)=>te+(J.weight||0),0),j[G.wasteBankId].totalImpact+=X.carbon,j[G.wasteBankId].pickupCount+=1});const U={};T.forEach(G=>{if(!G.completedAt)return;const X=new Date(G.completedAt.seconds*1e3),ee=`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}`;U[ee]||(U[ee]={month:X.toLocaleString("default",{month:"short"}),weight:0,impact:0});const te=E(G.wastes);U[ee].impact+=te.carbon,Object.values(G.wastes||{}).forEach(J=>{U[ee].weight+=J.weight||0})});const V=$();N({totalImpact:O,wasteTypes:Object.entries(R).map(([G,X])=>({name:G.charAt(0).toUpperCase()+G.slice(1),weight:X.weight,impact:X.impact})),locations:Object.values(j),monthlyTrends:Object.values(U),opportunities:V})};return W.exports.useEffect(()=>{(async()=>{i(!0);try{const T=xt(it($e,"users")),R=(await ot(T)).docs.filter(G=>G.data().role==="wastebank_admin").map(G=>({id:G.id,...G.data()}));f(R);const j=xt(it($e,"pickups")),V=(await ot(j)).docs.map(G=>({id:G.id,...G.data()})).filter(G=>G.status==="completed");c(V),D(R,V)}catch(T){console.error("Error fetching data:",T),o("Failed to load data")}finally{i(!1)}})()},[p]),r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:S=>n(S)}),b("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:[u("div",{className:"p-8",children:b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(j2,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Carbon Offset Planner"}),u("p",{className:"text-sm text-gray-500",children:"Analyze and optimize carbon offset potential"})]})]}),u("div",{className:"flex items-center gap-4",children:b(PSe,{value:p,onChange:S=>y(S.target.value),className:"w-44",children:[u("option",{value:"month",children:"Last Month"}),u("option",{value:"quarter",children:"Last Quarter"}),u("option",{value:"year",children:"Last Year"})]})})]})}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(Nv,{icon:j2,label:"Potential Areas",value:A.opportunities.length,subValue:`${A.opportunities.filter(S=>S.potential==="HIGH").length} high potential`}),u(Nv,{icon:Vo,label:"Carbon Impact",value:`${Math.round(A.totalImpact.carbon)} kg CO₂e`,subValue:"Total emissions prevented"}),u(Nv,{icon:gn,label:"Active Facilities",value:d.length,subValue:`${l.length} pickups processed`}),u(Nv,{icon:bP,label:"Coverage",value:`${A.opportunities.length} areas`,subValue:"Analyzed for potential"})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[u("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:u("div",{className:"relative h-[500px]",children:b(jN,{center:m,zoom:13,className:"h-full w-full",children:[u(BN,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),A.locations.map(S=>{if(!S.coordinates)return null;const T=Math.min(Math.max(S.totalImpact*500,500),2e3);return b(Z.Fragment,{children:[u(fE,{center:[S.coordinates.lat,S.coordinates.lng],radius:T,pathOptions:{color:"#059669",fillColor:"#059669",fillOpacity:.2}}),u(kg,{position:[S.coordinates.lat,S.coordinates.lng],icon:Tg.divIcon({className:"custom-marker-icon",html:`<div class="w-8 h-8 rounded-full bg-emerald-100 border-4 border-emerald-500 flex items-center justify-center">
                              <div class="w-4 h-4 rounded-full bg-emerald-500"></div>
                            </div>`,iconSize:[32,32],iconAnchor:[16,32]}),children:u(wh,{children:b("div",{className:"p-2",children:[u("h3",{className:"font-medium text-gray-900",children:S.name}),u("p",{className:"text-sm text-gray-500 mt-1",children:S.location}),b("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[b("p",{className:"text-sm text-emerald-600 font-medium",children:[Math.round(S.totalImpact)," kg CO₂e offset"]}),b("p",{className:"text-xs text-gray-500",children:[S.totalWeight.toFixed(1)," kg waste collected"]}),b("p",{className:"text-xs text-gray-500",children:[S.pickupCount," pickups completed"]})]})]})})})]},S.id)}),A.opportunities.map((S,T)=>u(fE,{center:[S.center.lat,S.center.lng],radius:2e3,pathOptions:{color:ou[S.potential].color,fillColor:ou[S.potential].color,fillOpacity:.2},eventHandlers:{click:()=>_(S)},children:u(wh,{children:b("div",{className:"p-2",children:[b("h3",{className:"font-medium text-gray-900",children:[S.potential," Potential Area"]}),b("div",{className:"mt-2",children:[b("p",{className:"text-sm text-gray-600",children:[u("span",{className:"font-medium",children:"Monthly Volume:"})," ",Math.round(S.stats.totalWeight)," kg"]}),b("p",{className:"text-sm text-gray-600",children:[u("span",{className:"font-medium",children:"Impact:"})," ",Math.round(S.stats.impact.carbon)," kg CO₂e"]}),b("p",{className:"text-sm text-gray-600",children:[u("span",{className:"font-medium",children:"Density:"})," ",Math.round(S.stats.density)," pickups/km²"]})]})]})})},T)),d.map(S=>{var T,O,R,j,U,V;return!((O=(T=S==null?void 0:S.location)==null?void 0:T.coordinates)!=null&&O.lat)||!((j=(R=S==null?void 0:S.location)==null?void 0:R.coordinates)!=null&&j.lng)?null:u(kg,{position:[S.location.coordinates.lat,S.location.coordinates.lng],icon:Tg.divIcon({className:"custom-marker-icon",html:`<div class="w-8 h-8 rounded-full bg-blue-100 border-4 border-blue-500 flex items-center justify-center">
                            <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                          </div>`,iconSize:[32,32],iconAnchor:[16,32]}),children:u(wh,{children:b("div",{className:"p-2",children:[u("h3",{className:"font-medium text-gray-900",children:((U=S.profile)==null?void 0:U.institution)||"Unknown Facility"}),u("p",{className:"text-sm text-gray-500 mt-1",children:((V=S.location)==null?void 0:V.address)||"No address"})]})})},S.id)})]})})}),u("div",{className:"space-y-6",children:b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[b("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:["Area Analysis",u(NSe,{children:"Areas are evaluated based on waste volume and pickup density"})]}),u("div",{className:"space-y-4",children:Object.entries(ou).map(([S,T],O)=>b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),b("span",{className:"text-sm font-medium text-gray-700",children:[S," Potential"]})]}),b("div",{className:"text-right",children:[u("p",{className:"text-sm font-medium text-gray-800",children:T.description}),b("p",{className:"text-xs text-gray-500",children:["Min: ",T.minWeight,"kg/month, ",T.minDensity," pickups/km²"]})]})]},S))})]})}),u("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-200",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-100 rounded-lg",children:u(Os,{className:"h-5 w-5 text-emerald-600"})}),b("div",{children:[u("h3",{className:"text-lg font-semibold text-emerald-800",children:"Environmental Impact Summary"}),u("p",{className:"text-sm text-emerald-700 mt-1",children:"Total environmental impact from waste management activities:"}),b("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Vo,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Carbon Offset"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[Math.round(A.totalImpact.carbon)," kg CO₂e"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"emissions prevented"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(Os,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Trees Preserved"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[Math.round(A.totalImpact.trees)," trees"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"equivalent preserved"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u($h,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Water Saved"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[Math.round(A.totalImpact.water/1e3)," m³"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"water preserved"})]}),b("div",{className:"bg-white/50 rounded-lg p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(un,{className:"h-5 w-5 text-emerald-600"}),u("span",{className:"text-sm font-medium text-emerald-800",children:"Landfill Reduced"})]}),b("p",{className:"text-lg font-semibold text-emerald-900",children:[A.totalImpact.landfill.toFixed(1)," m³"]}),u("p",{className:"text-xs text-emerald-700 mt-1",children:"landfill space saved"})]})]})]})]})})]})]})]})},Cg=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toFixed(1),kSe=({wasteBank:t,onSelect:e})=>{var i,a,o,l,c,d;const n=(i=t.stats)!=null&&i.lastPickup?new Date(t.stats.lastPickup.seconds*1e3):null,r=n?Math.floor((new Date-n)/(1e3*60*60*24)):null;return b("div",{onClick:()=>e(t),className:`group bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:border-emerald-500 \r
        hover:shadow-md transition-all cursor-pointer relative overflow-hidden`,children:[r!==null&&u("div",{className:`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium
          ${r>7?"bg-amber-50 text-amber-700":"bg-emerald-50 text-emerald-700"}`,children:r>7?"Inactive":"Active"}),b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-3 bg-emerald-50 rounded-xl group-hover:bg-emerald-100 transition-colors",children:u(un,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("h3",{className:"font-semibold text-gray-900 group-hover:text-emerald-600 transition-colors",children:((a=t.profile)==null?void 0:a.institution)||"Unnamed Waste Bank"}),u("p",{className:"text-sm text-gray-500 mt-1",children:b("span",{className:"inline-flex items-center gap-1",children:[u(Ft,{className:"h-4 w-4"}),((o=t.location)==null?void 0:o.address)||"No address provided"]})}),n&&b("p",{className:"text-xs text-gray-500 mt-2",children:["Last active: ",n.toLocaleDateString()]})]})]}),u(dP,{className:`h-5 w-5 text-gray-400 group-hover:text-emerald-500 \r
          transform group-hover:translate-x-1 transition-all`})]}),b("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[b("div",{className:"bg-gray-50 rounded-xl p-4 group-hover:bg-emerald-50/50 transition-colors",children:[u("p",{className:"text-sm font-medium text-gray-600",children:"Pickups"}),b("div",{className:"flex items-baseline gap-1 mt-1",children:[u("p",{className:"text-lg font-semibold text-gray-900",children:((l=t.stats)==null?void 0:l.totalPickups)||0}),u("p",{className:"text-xs text-gray-500",children:"total"})]})]}),b("div",{className:"bg-gray-50 rounded-xl p-4 group-hover:bg-emerald-50/50 transition-colors",children:[u("p",{className:"text-sm font-medium text-gray-600",children:"Volume"}),b("div",{className:"flex items-baseline gap-1 mt-1",children:[u("p",{className:"text-lg font-semibold text-gray-900",children:(((c=t.stats)==null?void 0:c.totalWeight)||0).toFixed(1)}),u("p",{className:"text-xs text-gray-500",children:"kg"})]})]}),b("div",{className:"bg-gray-50 rounded-xl p-4 group-hover:bg-emerald-50/50 transition-colors",children:[u("p",{className:"text-sm font-medium text-gray-600",children:"Value"}),b("div",{className:"flex items-baseline gap-1 mt-1",children:[u("p",{className:"text-lg font-semibold text-gray-900",children:Cg(((d=t.stats)==null?void 0:d.totalValue)||0)}),u("p",{className:"text-xs text-gray-500",children:"Rp"})]})]})]}),b("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[b("div",{className:"flex items-center justify-between mb-2",children:[u("p",{className:"text-sm text-gray-600",children:"Monthly Target"}),u("p",{className:"text-sm font-medium text-emerald-600",children:"75%"})]}),u("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"75%"}})})]})]})},m1=({icon:t,label:e,value:n,trend:r})=>b("div",{className:"bg-gray-50 rounded-xl p-4",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[u(t,{className:"h-5 w-5 text-gray-600"}),u("p",{className:"text-sm font-medium text-gray-600",children:e})]}),b("div",{className:"flex items-baseline gap-2",children:[u("p",{className:"text-lg font-semibold text-gray-900",children:n}),r&&b("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded-full
          ${r>=0?"text-emerald-700 bg-emerald-50":"text-red-700 bg-red-50"}`,children:[r>=0?"+":"",r,"%"]})]})]}),Md=({icon:t,label:e,value:n})=>b("div",{className:"bg-gray-50 rounded-xl p-4",children:[b("div",{className:"flex items-center gap-2 mb-1",children:[u(t,{className:"h-4 w-4 text-gray-500"}),u("p",{className:"text-sm text-gray-500",children:e})]}),u("p",{className:"text-sm font-medium text-gray-900 mt-1",children:n})]}),dL=({type:t,data:e})=>b("div",{className:"bg-gray-50 rounded-xl p-4",children:[b("div",{className:"flex items-center justify-between",children:[b("div",{children:[u("p",{className:"font-medium text-gray-900 capitalize",children:t}),b("p",{className:"text-sm text-gray-500",children:[e.weight.toFixed(1)," kg"]})]}),b("p",{className:"text-sm font-medium text-emerald-600",children:["Rp ",e.value.toLocaleString()]})]}),u("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-500",style:{width:`${Math.min(e.weight/100,100)}%`}})})]}),CSe=({type:t,text:e})=>u("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${{warning:"bg-amber-50 text-amber-700",success:"bg-emerald-50 text-emerald-700",error:"bg-red-50 text-red-700"}[t]}`,children:e}),ISe=({wasteBank:t,pickups:e,onClose:n})=>{var m,p,y,P,_,A,N;const[r,i]=W.exports.useState(null),[a,o]=W.exports.useState("overview"),[l,c]=W.exports.useState("all"),d=[{id:"overview",label:"Overview"},{id:"pickups",label:"Pickup History"},{id:"analytics",label:"Analytics"}],f=e.filter(E=>{if(l==="all")return!0;if(l==="recent"){const w=new Date(E.completedAt.seconds*1e3),C=new Date;return C.setDate(C.getDate()-30),w>=C}return!0}).sort((E,w)=>w.completedAt.seconds-E.completedAt.seconds);return r?b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[b("div",{className:"flex items-center justify-between mb-6",children:[b("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[u(gG,{className:"h-5 w-5"}),u("span",{children:"Back to Overview"})]}),u("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u(Vu,{className:"h-5 w-5 text-gray-500"})})]}),b("div",{className:"space-y-6",children:[b("div",{className:"border-b border-gray-200 pb-4",children:[u("h3",{className:"text-lg font-semibold text-gray-900",children:"Pickup Details"}),u("p",{className:"text-sm text-gray-500",children:new Date(((m=r.completedAt)==null?void 0:m.seconds)*1e3).toLocaleString()})]}),b("div",{className:"grid grid-cols-2 gap-4",children:[u(Md,{icon:Us,label:"Collector",value:r.userName}),u(Md,{icon:jo,label:"Contact",value:r.phone}),u(Md,{icon:Ft,label:"Location",value:r.location}),u(Md,{icon:yG,label:"Status",value:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),u(Md,{icon:Qa,label:"Total Weight",value:`${Object.values(r.wastes).reduce((E,w)=>E+w.weight,0)} kg`}),u(Md,{icon:I_,label:"Total Value",value:`Rp ${r.totalValue.toLocaleString()}`})]}),b("div",{className:"mt-6",children:[u("h4",{className:"font-medium text-gray-900 mb-3",children:"Waste Details"}),u("div",{className:"space-y-3",children:Object.entries(r.wastes).map(([E,w])=>u(dL,{type:E,data:w},E))})]})]})]}):b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[b("div",{className:"flex items-center justify-between mb-6",children:[b("div",{children:[b("div",{className:"flex items-center gap-3",children:[u("h2",{className:"text-xl font-semibold text-gray-900",children:(p=t.profile)==null?void 0:p.institution}),u(CSe,{type:(y=t.stats)!=null&&y.isActive?"success":"warning",text:(P=t.stats)!=null&&P.isActive?"Active":"Inactive"})]}),b("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[u(Ft,{className:"h-4 w-4"}),(_=t.location)==null?void 0:_.address]})]}),u("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u(Vu,{className:"h-5 w-5 text-gray-500"})})]}),u("div",{className:"flex items-center gap-4 mb-6 border-b border-gray-200",children:d.map(E=>b("button",{onClick:()=>o(E.id),className:`px-4 py-2 text-sm font-medium transition-colors relative
              ${a===E.id?"text-emerald-600":"text-gray-500 hover:text-gray-900"}`,children:[E.label,a===E.id&&u("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-emerald-500"})]},E.id))}),b("div",{className:"space-y-6",children:[a==="overview"&&b(Oi,{children:[b("div",{className:"grid grid-cols-3 gap-4",children:[u(m1,{icon:ro,label:"Total Pickups",value:e.length,trend:8.5}),u(m1,{icon:Qa,label:"Total Weight",value:`${e.reduce((E,w)=>E+Object.values(w.wastes).reduce((C,$)=>C+$.weight,0),0).toFixed(1)} kg`,trend:12.3}),u(m1,{icon:I_,label:"Revenue",value:`Rp ${Cg(e.reduce((E,w)=>E+w.totalValue,0))}`,trend:15.7})]}),b("div",{children:[u("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Waste Distribution"}),u("div",{className:"space-y-3",children:Object.entries(e.reduce((E,w)=>(Object.entries(w.wastes).forEach(([C,$])=>{E[C]||(E[C]={weight:0,value:0}),E[C].weight+=$.weight,E[C].value+=$.value}),E),{})).map(([E,w])=>u(dL,{type:E,data:w},E))})]}),b("div",{className:"bg-gray-50 rounded-xl p-4",children:[u("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Weekly Activity"}),u("div",{className:"flex items-end gap-2 h-32",children:[...Array(7)].map((E,w)=>b("div",{className:"flex-1 flex flex-col items-center gap-1",children:[u("div",{className:"w-full bg-emerald-200 rounded-sm",style:{height:`${Math.random()*100}%`}}),b("span",{className:"text-xs text-gray-500",children:["D",w+1]})]},w))})]})]}),a==="pickups"&&b(Oi,{children:[b("div",{className:"flex items-center justify-between mb-4",children:[b("div",{className:"flex items-center gap-3",children:[b("select",{value:l,onChange:E=>c(E.target.value),className:`px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm\r
                    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500`,children:[u("option",{value:"all",children:"All Time"}),u("option",{value:"recent",children:"Last 30 Days"})]}),u("button",{className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:u(dj,{className:"h-4 w-4 text-gray-500"})})]}),b("p",{className:"text-sm text-gray-500",children:[f.length," pickups"]})]}),u("div",{className:"space-y-3",children:f.map(E=>{var w;return b("div",{onClick:()=>i(E),className:`bg-gray-50 rounded-xl p-4 cursor-pointer hover:bg-white \r
                    hover:border-emerald-500 border border-transparent transition-all`,children:[b("div",{className:"flex items-start justify-between",children:[b("div",{children:[b("div",{className:"flex items-center gap-2",children:[u(Us,{className:"h-4 w-4 text-gray-400"}),u("p",{className:"font-medium text-gray-900",children:E.userName})]}),b("div",{className:"flex items-center gap-2 mt-1",children:[u(ba,{className:"h-4 w-4 text-gray-400"}),u("p",{className:"text-sm text-gray-500",children:new Date(((w=E.completedAt)==null?void 0:w.seconds)*1e3).toLocaleString()})]})]}),b("div",{className:"text-right",children:[b("div",{className:"flex items-center gap-2 justify-end",children:[u(Qa,{className:"h-4 w-4 text-emerald-500"}),b("p",{className:"text-sm font-medium text-gray-900",children:[Object.values(E.wastes).reduce((C,$)=>C+$.weight,0)," kg"]})]}),b("div",{className:"flex items-center gap-2 justify-end mt-1",children:[u(I_,{className:"h-4 w-4 text-emerald-500"}),b("p",{className:"text-sm font-medium text-emerald-600",children:["Rp ",E.totalValue.toLocaleString()]})]})]})]}),u("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.keys(E.wastes).map(C=>u("span",{className:`px-2 py-1 bg-emerald-50 text-emerald-700 \r
                          rounded-full text-xs font-medium`,children:C},C))})]},E.id)})})]}),a==="analytics"&&b("div",{className:"space-y-6",children:[b("div",{className:"bg-gray-50 rounded-xl p-4",children:[u("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Performance Metrics"}),b("div",{className:"grid grid-cols-2 gap-4",children:[b("div",{className:"bg-white rounded-lg p-4",children:[b("div",{className:"flex items-center justify-between",children:[u("p",{className:"text-sm text-gray-600",children:"Collection Rate"}),u("p",{className:"text-sm font-medium text-emerald-600",children:"92%"})]}),u("div",{className:"mt-2 h-2 bg-gray-100 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"92%"}})})]}),b("div",{className:"bg-white rounded-lg p-4",children:[b("div",{className:"flex items-center justify-between",children:[u("p",{className:"text-sm text-gray-600",children:"Processing Time"}),u("p",{className:"text-sm font-medium text-emerald-600",children:"85%"})]}),u("div",{className:"mt-2 h-2 bg-gray-100 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"85%"}})})]})]})]}),b("div",{className:"bg-gray-50 rounded-xl p-4",children:[u("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Monthly Targets"}),b("div",{className:"space-y-4",children:[b("div",{children:[b("div",{className:"flex items-center justify-between mb-2",children:[u("p",{className:"text-sm text-gray-600",children:"Volume Target"}),b("p",{className:"text-sm font-medium text-emerald-600",children:[Cg(((A=t.stats)==null?void 0:A.totalWeight)||0)," / 1000 kg"]})]}),u("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${Math.min((((N=t.stats)==null?void 0:N.totalWeight)||0)/1e3*100,100)}%`}})})]}),b("div",{children:[b("div",{className:"flex items-center justify-between mb-2",children:[u("p",{className:"text-sm text-gray-600",children:"Pickup Target"}),b("p",{className:"text-sm font-medium text-emerald-600",children:[e.length," / 50 pickups"]})]}),u("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${Math.min(e.length/50*100,100)}%`}})})]})]})]})]})]})]})},OSe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState([]),[d,f]=W.exports.useState([]),[m,p]=W.exports.useState(null),[y,P]=W.exports.useState("");W.exports.useEffect(()=>{(async()=>{i(!0);try{const N=xt(it($e,"users")),w=(await ot(N)).docs.filter(T=>T.data().role==="wastebank_admin").map(T=>({id:T.id,...T.data()})),C=xt(it($e,"pickups")),D=(await ot(C)).docs.map(T=>({id:T.id,...T.data()})).filter(T=>T.status==="completed"),S=w.map(T=>{const O=D.filter(U=>U.wasteBankId===T.id),R=O.length>0?O.reduce((U,V)=>V.completedAt.seconds>U.completedAt.seconds?V:U):null,j={totalPickups:O.length,totalWeight:O.reduce((U,V)=>U+Object.values(V.wastes).reduce((G,X)=>G+X.weight,0),0),totalValue:O.reduce((U,V)=>U+V.totalValue,0),lastPickup:R==null?void 0:R.completedAt,isActive:R?(new Date-new Date(R.completedAt.seconds*1e3))/(1e3*60*60*24)<=7:!1};return{...T,stats:j}});c(S),f(D)}catch(N){console.error("Error fetching data:",N),o("Failed to load data")}finally{i(!1)}})()},[]);const _=l.filter(A=>{var N,E,w,C;return((E=(N=A.profile)==null?void 0:N.institution)==null?void 0:E.toLowerCase().includes(y.toLowerCase()))||((C=(w=A.location)==null?void 0:w.address)==null?void 0:C.toLowerCase().includes(y.toLowerCase()))});return r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:A=>n(A)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(un,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Recycling Hub"}),u("p",{className:"text-sm text-gray-500",children:"Manage and monitor waste banks"})]})]}),b("div",{className:"flex items-center gap-4",children:[b("div",{className:"relative",children:[u("input",{type:"text",placeholder:"Search waste banks...",value:y,onChange:A=>P(A.target.value),className:`pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg\r
                    focus:outline-none focus:ring-2 focus:ring-emerald-500/20 \r
                    focus:border-emerald-500 w-64`}),u(ao,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]}),u("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",children:u(pP,{className:"h-5 w-5 text-gray-400"})}),u("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",children:u(IG,{className:"h-5 w-5 text-gray-400"})})]})]}),b("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[b("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[b("div",{className:"flex items-center gap-3 mb-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u($b,{className:"h-5 w-5 text-emerald-600"})}),u("h3",{className:"font-medium text-gray-900",children:"Total Collections"})]}),b("p",{className:"text-2xl font-semibold text-gray-900",children:[Cg(d.reduce((A,N)=>A+Object.values(N.wastes).reduce((E,w)=>E+w.weight,0),0))," kg"]}),b("p",{className:"text-sm text-gray-500 mt-1",children:["From ",d.length," pickups"]})]}),b("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[b("div",{className:"flex items-center gap-3 mb-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(mP,{className:"h-5 w-5 text-emerald-600"})}),u("h3",{className:"font-medium text-gray-900",children:"Average Per Pickup"})]}),b("p",{className:"text-2xl font-semibold text-gray-900",children:[Cg(d.reduce((A,N)=>A+Object.values(N.wastes).reduce((E,w)=>E+w.weight,0),0)/(d.length||1))," kg"]}),u("p",{className:"text-sm text-gray-500 mt-1",children:"Last 30 days"})]}),b("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[b("div",{className:"flex items-center gap-3 mb-4",children:[u("div",{className:"p-2 bg-amber-50 rounded-lg",children:u(cP,{className:"h-5 w-5 text-amber-600"})}),u("h3",{className:"font-medium text-gray-900",children:"Inactive Banks"})]}),u("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(A=>{var N;return!((N=A.stats)!=null&&N.isActive)}).length}),u("p",{className:"text-sm text-gray-500 mt-1",children:"No pickups in 7+ days"})]})]}),u("div",{className:"grid grid-cols-1 gap-6",children:m?u(ISe,{wasteBank:m,pickups:d.filter(A=>A.wasteBankId===m.id),onClose:()=>p(null)}):_.map(A=>u(kSe,{wasteBank:A,onSelect:p},A.id))})]})})]})},Qv={HIGH:{color:"#10B981",label:"High Compliance"},MEDIUM:{color:"#F59E0B",label:"Medium Compliance"},LOW:{color:"#EF4444",label:"Low Compliance"}},pE=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toFixed(1),Tv=({icon:t,label:e,value:n,trend:r,subValue:i,color:a="emerald"})=>u("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:`p-2 bg-${a}-50 rounded-lg`,children:u(t,{className:`h-6 w-6 text-${a}-600`})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-600",children:e}),u("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:n}),i&&u("p",{className:"text-sm text-gray-500 mt-1",children:i})]})]}),r&&b("div",{className:`px-2.5 py-1.5 rounded-lg text-sm font-medium
          ${r>=0?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:[r>=0?"+":"",r,"%"]})]})}),MSe=({wasteBank:t,onSelect:e})=>{var i,a,o,l,c;const n=t.complianceScore||0;let r="LOW";return n>=90?r="HIGH":n>=70&&(r="MEDIUM"),b("div",{onClick:()=>e(t),className:`bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:border-emerald-500 \r
        hover:shadow-md transition-all cursor-pointer`,children:[b("div",{className:"flex items-start justify-between",children:[b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(gn,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("h3",{className:"font-semibold text-gray-900",children:((i=t.profile)==null?void 0:i.institution)||"Unnamed Waste Bank"}),u("p",{className:"text-sm text-gray-500 mt-1",children:((a=t.location)==null?void 0:a.address)||"No address provided"})]})]}),u("div",{className:`px-3 py-1 rounded-full text-sm font-medium
          ${r==="HIGH"?"bg-emerald-50 text-emerald-700":r==="MEDIUM"?"bg-amber-50 text-amber-700":"bg-red-50 text-red-700"}`,children:Qv[r].label})]}),b("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[b("div",{className:"bg-gray-50 rounded-lg p-3",children:[u("p",{className:"text-sm font-medium text-gray-600",children:"Total Volume"}),b("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:[pE(((o=t.stats)==null?void 0:o.totalWeight)||0)," kg"]})]}),b("div",{className:"bg-gray-50 rounded-lg p-3",children:[u("p",{className:"text-sm font-medium text-gray-600",children:"Pickups"}),u("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:((l=t.stats)==null?void 0:l.totalPickups)||0})]}),b("div",{className:"bg-gray-50 rounded-lg p-3",children:[u("p",{className:"text-sm font-medium text-gray-600",children:"Last Active"}),u("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:(c=t.stats)!=null&&c.lastPickup?new Date(t.stats.lastPickup.seconds*1e3).toLocaleDateString():"Never"})]})]})]})},hL=({title:t,description:e,children:n})=>b("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[u("div",{className:"flex items-start justify-between mb-6",children:b("div",{children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:t}),u("p",{className:"text-sm text-gray-500 mt-1",children:e})]})}),n]}),RSe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState(""),[d,f]=W.exports.useState(null),[m,p]=W.exports.useState({wasteBanks:[],complianceStats:{high:0,medium:0,low:0},totalVolume:0,totalPickups:0,monthlyData:[]});W.exports.useEffect(()=>{(async()=>{i(!0);try{const _=xt(it($e,"users")),N=(await ot(_)).docs.filter(T=>T.data().role==="wastebank_admin").map(T=>({id:T.id,...T.data()})),E=xt(it($e,"pickups")),C=(await ot(E)).docs.map(T=>({id:T.id,...T.data()})).filter(T=>T.status==="completed"),$=N.map(T=>{const O=C.filter(X=>X.wasteBankId===T.id),R=O.length>0?O.reduce((X,ee)=>ee.completedAt.seconds>X.completedAt.seconds?ee:X):null,j=O.length/30,U=O.reduce((X,ee)=>X+Object.values(ee.wastes).reduce((te,J)=>te+J.weight,0),0)/(O.length||1),V=Math.min(j*50+(U>100?50:U/2),100),G={totalPickups:O.length,totalWeight:O.reduce((X,ee)=>X+Object.values(ee.wastes).reduce((te,J)=>te+J.weight,0),0),lastPickup:R==null?void 0:R.completedAt,complianceScore:V};return{...T,stats:G}}),D=$.reduce((T,O)=>{var j;const R=((j=O.stats)==null?void 0:j.complianceScore)||0;return R>=90?T.high++:R>=70?T.medium++:T.low++,T},{high:0,medium:0,low:0}),S={};C.forEach(T=>{const O=new Date(T.completedAt.seconds*1e3),R=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}`;S[R]||(S[R]={month:O.toLocaleString("default",{month:"short"}),weight:0,pickups:0,compliance:0}),S[R].pickups++,Object.values(T.wastes).forEach(j=>{S[R].weight+=j.weight||0})}),p({wasteBanks:$,complianceStats:D,totalVolume:$.reduce((T,O)=>{var R;return T+(((R=O.stats)==null?void 0:R.totalWeight)||0)},0),totalPickups:C.length,monthlyData:Object.values(S)})}catch(_){console.error("Error fetching data:",_),o("Failed to load monitoring data")}finally{i(!1)}})()},[]);const y=m.wasteBanks.filter(P=>{var _,A,N,E;return((A=(_=P.profile)==null?void 0:_.institution)==null?void 0:A.toLowerCase().includes(l.toLowerCase()))||((E=(N=P.location)==null?void 0:N.address)==null?void 0:E.toLowerCase().includes(l.toLowerCase()))});return r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:P=>n(P)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[u("div",{className:"flex items-center justify-between mb-8",children:b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(jp,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Waste Bank Monitoring"}),u("p",{className:"text-sm text-gray-500",children:"Monitor and analyze waste bank performance"})]})]})}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u(Tv,{icon:gn,label:"Registered Waste Banks",value:m.wasteBanks.length,subValue:`${m.complianceStats.high} high compliance`}),u(Tv,{icon:Qa,label:"Total Volume Processed",value:`${pE(m.totalVolume)} kg`,trend:12.5}),u(Tv,{icon:jp,label:"Compliance Rate",value:`${Math.round((m.complianceStats.high+m.complianceStats.medium)/m.wasteBanks.length*100)}%`,color:"blue"}),u(Tv,{icon:cP,label:"At Risk Facilities",value:m.complianceStats.low,subValue:"Low compliance score",color:"red"})]}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[u(hL,{title:"Compliance Distribution",description:"Distribution of waste banks by compliance level",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(id,{children:[u(Xr,{data:[{name:"High Compliance",value:m.complianceStats.high},{name:"Medium Compliance",value:m.complianceStats.medium},{name:"Low Compliance",value:m.complianceStats.low}],cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",labelLine:!1,label:({cx:P,cy:_,midAngle:A,innerRadius:N,outerRadius:E,percent:w,name:C})=>{const $=N+(E-N)*.5,D=P+$*Math.cos(-A*Math.PI/180),S=_+$*Math.sin(-A*Math.PI/180);return w>0?u("text",{x:D,y:S,fill:"white",textAnchor:"middle",dominantBaseline:"central",fontSize:12,children:`${C} ${(w*100).toFixed(0)}%`}):null},children:[Qv.HIGH.color,Qv.MEDIUM.color,Qv.LOW.color].map((P,_)=>u(so,{fill:P},`cell-${_}`))}),u(mn,{})]})})})}),u(hL,{title:"Monthly Activity",description:"Volume collected and number of pickups by month",className:"lg:col-span-2",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(my,{data:m.monthlyData,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u(Rr,{dataKey:"month",stroke:"#6B7280",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#6B7280",fontSize:12,tickFormatter:P=>`${pE(P)} kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#6B7280",fontSize:12}),u(mn,{}),u(Ws,{}),u(Kr,{yAxisId:"left",dataKey:"weight",name:"Volume",fill:"#10B981"}),u(Kr,{yAxisId:"right",dataKey:"pickups",name:"Pickups",fill:"#6366F1"})]})})})})]}),b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[b("div",{className:"flex items-center justify-between mb-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:"Waste Bank Facilities"}),b("div",{className:"flex items-center gap-4",children:[b("div",{className:"relative",children:[u(ao,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),u("input",{type:"text",placeholder:"Search waste banks...",value:l,onChange:P=>c(P.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),b("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:[u(pP,{className:"w-4 h-4"}),u("span",{children:"Filter"})]})]})]}),u("div",{className:"grid grid-cols-1 gap-4",children:y.map(P=>u(MSe,{wasteBank:P,onSelect:f},P.id))})]})]})})]})},LSe=({className:t="",...e})=>u("select",{className:`px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm
      focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500
      ${t}`,...e}),fL=({title:t,description:e,children:n,actions:r})=>b("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[b("div",{className:"flex items-start justify-between mb-6",children:[b("div",{children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:t}),u("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),r&&u("div",{className:"flex items-center gap-2",children:r})]}),n]}),$Se=({icon:t,title:e,value:n,description:r,trend:i})=>u("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:b("div",{className:"flex items-start gap-4",children:[u("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u(t,{className:"h-6 w-6 text-emerald-600"})}),b("div",{children:[u("p",{className:"text-sm font-medium text-gray-500",children:e}),u("p",{className:"text-xl font-semibold text-gray-900 mt-1",children:n}),u("p",{className:"text-sm text-gray-600 mt-2",children:r}),i&&b("div",{className:"flex items-center gap-2 mt-3",children:[b("div",{className:`px-2 py-1 rounded-full text-xs font-medium
              ${i>=0?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:[i>=0?"↑":"↓"," ",Math.abs(i),"%"]}),u("span",{className:"text-sm text-gray-500",children:"vs. last month"})]})]})]})}),DSe=()=>{const{userData:t}=Et(),[e,n]=W.exports.useState(!1),[r,i]=W.exports.useState(!0),[a,o]=W.exports.useState(null),[l,c]=W.exports.useState("month"),[d,f]=W.exports.useState({wasteBanks:[],pickups:[],analytics:{volume:[],compliance:[],performance:[],regional:[],insights:[]}});return W.exports.useEffect(()=>{(async()=>{i(!0);try{const[p,y]=await Promise.all([ot(xt(it($e,"users"))),ot(xt(it($e,"pickups")))]),P=p.docs.filter(S=>S.data().role==="wastebank_admin").map(S=>({id:S.id,...S.data()})),_=y.docs.map(S=>({id:S.id,...S.data()})).filter(S=>S.status==="completed"),A={};_.forEach(S=>{const T=new Date(S.completedAt.seconds*1e3),O=`${T.getFullYear()}-${String(T.getMonth()+1).padStart(2,"0")}`;A[O]||(A[O]={month:T.toLocaleString("default",{month:"short"}),volumeTotal:0,pickupCount:0,wasteBanks:new Set,avgValue:0}),A[O].pickupCount++,A[O].wasteBanks.add(S.wasteBankId),A[O].avgValue+=S.totalValue,Object.values(S.wastes).forEach(R=>{A[O].volumeTotal+=R.weight||0})});const N={};P.forEach(S=>{var O;const T=((O=S.location)==null?void 0:O.city)||"Unknown";N[T]||(N[T]={name:T,wasteBanks:0,volume:0,pickups:0}),N[T].wasteBanks++}),_.forEach(S=>{var R;const T=P.find(j=>j.id===S.wasteBankId),O=((R=T==null?void 0:T.location)==null?void 0:R.city)||"Unknown";N[O]&&(N[O].pickups++,Object.values(S.wastes).forEach(j=>{N[O].volume+=j.weight||0}))});const E=new Date().getMonth(),w=Object.values(A).sort((S,T)=>new Date(T.month)-new Date(S.month))[0],C=Object.values(A).sort((S,T)=>new Date(T.month)-new Date(S.month))[1],$=C?(w.volumeTotal-C.volumeTotal)/C.volumeTotal*100:0,D=C?(w.pickupCount-C.pickupCount)/C.pickupCount*100:0;f({wasteBanks:P,pickups:_,analytics:{volume:Object.values(A).map(S=>({...S,wasteBankCount:S.wasteBanks.size,avgValue:S.avgValue/S.pickupCount})),regional:Object.values(N),insights:[{title:"Volume Trend",value:`${Math.round($)}% MoM`,trend:$,icon:$b,description:"Monthly volume collection growth rate"},{title:"Pickup Efficiency",value:`${Math.round(D)}% MoM`,trend:D,icon:CG,description:"Change in pickup completion rate"},{title:"Regional Coverage",value:`${Object.keys(N).length} Regions`,icon:Ft,description:"Active waste collection regions"}]}})}catch(p){console.error("Error fetching data:",p),o("Failed to load analytics data")}finally{i(!1)}})()},[l]),r?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:u(Kt,{className:"h-8 w-8 animate-spin text-emerald-500"})}):a?u("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:b("div",{className:"text-center",children:[u(kn,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a}),u("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:"Try Again"})]})}):b("div",{className:"flex min-h-screen bg-gray-50",children:[u(Sn,{role:t==null?void 0:t.role,onCollapse:m=>n(m)}),u("main",{className:`flex-1 transition-all duration-300 ease-in-out
        ${e?"ml-20":"ml-64"}`,children:b("div",{className:"p-8",children:[b("div",{className:"flex items-center justify-between mb-8",children:[b("div",{className:"flex items-center gap-4",children:[u("div",{className:"p-2 bg-white rounded-xl shadow-sm border border-gray-200",children:u(mP,{className:"w-6 h-6 text-emerald-500"})}),b("div",{children:[u("h1",{className:"text-2xl font-semibold text-gray-800",children:"Analytics & Insights"}),u("p",{className:"text-sm text-gray-500",children:"Advanced waste management analytics"})]})]}),b("div",{className:"flex items-center gap-4",children:[b(LSe,{value:l,onChange:m=>c(m.target.value),className:"w-40",children:[u("option",{value:"month",children:"Last Month"}),u("option",{value:"quarter",children:"Last Quarter"}),u("option",{value:"year",children:"Last Year"})]}),b("button",{className:`px-4 py-2 bg-emerald-500 text-white rounded-lg \r
                hover:bg-emerald-600 transition-colors flex items-center gap-2`,children:[u(fP,{className:"h-4 w-4"}),"Export Report"]})]})]}),u("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.analytics.insights.map((m,p)=>u($Se,{icon:m.icon,title:m.title,value:m.value,description:m.description,trend:m.trend},p))}),b("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[u(fL,{title:"Volume & Pickup Trends",description:"Monthly waste collection volume and pickup counts",actions:u("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:u(pP,{className:"h-5 w-5 text-gray-500"})}),children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(A2e,{data:d.analytics.volume,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u(Rr,{dataKey:"month",stroke:"#6B7280",fontSize:12}),u(cn,{yAxisId:"left",stroke:"#6B7280",fontSize:12,tickFormatter:m=>`${(m/1e3).toFixed(1)}K kg`}),u(cn,{yAxisId:"right",orientation:"right",stroke:"#6B7280",fontSize:12,tickFormatter:m=>m.toFixed(0)}),u(mn,{}),u(Ho,{yAxisId:"right",type:"monotone",dataKey:"pickupCount",stroke:"#6366F1",name:"Pickups"})]})})})}),u(fL,{title:"Regional Performance",description:"Waste collection performance by region",children:u("div",{className:"h-[300px]",children:u(sr,{width:"100%",height:"100%",children:b(my,{data:d.analytics.regional,children:[u(Sa,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),u(Rr,{dataKey:"name",stroke:"#6B7280",fontSize:12}),u(cn,{stroke:"#6B7280",fontSize:12,tickFormatter:m=>`${(m/1e3).toFixed(1)}K kg`}),u(mn,{}),u(Kr,{dataKey:"volume",fill:"#10B981",radius:[4,4,0,0],name:"Volume"})]})})})})]}),b("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u("div",{className:"flex items-center justify-between mb-6",children:b("div",{children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:"Regional Statistics"}),u("p",{className:"text-sm text-gray-500",children:"Detailed performance metrics by region"})]})}),u("div",{className:"overflow-x-auto",children:b("table",{className:"w-full",children:[u("thead",{children:b("tr",{className:"border-b border-gray-200",children:[u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Region"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Waste Banks"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Volume"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Pickups"}),u("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Efficiency"})]})}),u("tbody",{children:d.analytics.regional.map(m=>b("tr",{className:"border-b border-gray-200",children:[u("td",{className:"py-3 px-4",children:b("div",{className:"flex items-center gap-2",children:[u(Ft,{className:"h-4 w-4 text-gray-400"}),u("span",{className:"font-medium text-gray-900",children:m.name})]})}),u("td",{className:"py-3 px-4 text-gray-600",children:m.wasteBanks}),b("td",{className:"py-3 px-4 text-gray-600",children:[(m.volume/1e3).toFixed(1),"K kg"]}),u("td",{className:"py-3 px-4 text-gray-600",children:m.pickups}),u("td",{className:"py-3 px-4",children:b("div",{className:"flex items-center gap-2",children:[u("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:u("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${Math.min(m.volume/m.wasteBanks/1e3*100,100)}%`}})}),b("span",{className:"text-sm text-gray-600",children:[Math.round(m.volume/m.wasteBanks/1e3*100),"%"]})]})})]},m.name))})]})})]})]})})]})},jSe=()=>u(u9,{children:b(a9,{children:[u(gt,{path:"/login",element:u(AX,{})}),u(gt,{path:"/register",element:u(TX,{})}),u(gt,{path:"/dashboard",element:u(It,{children:u(kX,{})})}),u(gt,{path:"/dashboard/super-admin",element:u(It,{children:u(IX,{})})}),u(gt,{path:"/dashboard/super-admin/users",element:u(It,{children:u(RX,{})})}),u(gt,{path:"/dashboard/super-admin/wastebanks",element:u(It,{children:u($X,{})})}),u(gt,{path:"/dashboard/super-admin/settings",element:u(It,{children:u(BX,{})})}),u(gt,{path:"/dashboard/super-admin/reports",element:u(It,{children:u(JR,{})})}),u(gt,{path:"/dashboard/wastebank/",element:u(It,{children:u(P2e,{})})}),u(gt,{path:"/dashboard/wastebank/bank-settings",element:u(It,{children:u(T2e,{})})}),u(gt,{path:"/dashboard/wastebank/employees",element:u(It,{children:u(O2e,{})})}),u(gt,{path:"/dashboard/wastebank/reports",element:u(It,{children:u(JR,{})})}),u(gt,{path:"/dashboard/wastebank/transactions",element:u(It,{children:u(B2e,{})})}),u(gt,{path:"/dashboard/wastebank-employee/*",element:u(It,{children:u(z2e,{})})}),u(gt,{path:"/dashboard/collector/",element:u(It,{children:u(F2e,{})})}),u(gt,{path:"/dashboard/collector/assignments",element:u(It,{children:u(q2e,{})})}),u(gt,{path:"/dashboard/collector/routes",element:u(It,{children:u(fSe,{})})}),u(gt,{path:"/dashboard/collector/update-collection",element:u(It,{children:u(aL,{})})}),u(gt,{path:"/dashboard/collector/update-collection/:id",element:u(It,{children:u(aL,{})})}),u(gt,{path:"/dashboard/customer",element:u(It,{children:u(ySe,{})})}),u(gt,{path:"/dashboard/customer/schedule",element:u(It,{children:u(Oz,{})})}),u(gt,{path:"/dashboard/customer/history",element:u(It,{children:u(Lz,{})})}),u(gt,{path:"/dashboard/customer/rewards",element:u(It,{children:u(Rz,{})})}),u(gt,{path:"/dashboard/customer/detect",element:u(It,{children:u(Iz,{})})}),u(gt,{path:"/dashboard/customer/track",element:u(It,{children:u(Mz,{})})}),u(gt,{path:"/dashboard/government/",element:u(It,{children:u(wSe,{})})}),u(gt,{path:"/dashboard/government/wastebank-reports",element:u(It,{children:u(SSe,{})})}),u(gt,{path:"/dashboard/government/monitoring",element:u(It,{children:u(RSe,{})})}),u(gt,{path:"/dashboard/government/analytics",element:u(It,{children:u(DSe,{})})}),u(gt,{path:"/dashboard/industry/",element:u(It,{children:u(ESe,{})})}),u(gt,{path:"/dashboard/industry/offset-planner",element:u(It,{children:u(TSe,{})})}),u(gt,{path:"/dashboard/industry/recycledhub",element:u(It,{children:u(OSe,{})})}),u(gt,{path:"*",element:u(Eo,{to:"/login",replace:!0})})]})}),BSe=()=>u(jSe,{});g1.createRoot(document.getElementById("root")).render(u(Z.StrictMode,{children:u(sG,{children:u(BSe,{})})}));
